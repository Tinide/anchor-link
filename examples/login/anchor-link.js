var AnchorLink=function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,r)};function r(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var n=function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{f(n.next(t))}catch(t){o(t)}}function s(t){try{f(n.throw(t))}catch(t){o(t)}}function f(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}f((n=n.apply(t,e||[])).next())}))}function o(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function h(t,e){return t(e={exports:{}},e.exports),e.exports}function u(t){return t&&t.default||t}var c=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var d={RIPEMD160:function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return l(t,null,[{key:"get_n_pad_bytes",value:function(t){return 64-(t+8&63)}},{key:"pad",value:function(e){var r,n,i=e.byteLength,o=t.get_n_pad_bytes(i),a=(r=i,n=536870912,[Math.floor(r/n),r%n]).map((function(t,e){return e?8*t:t})),s=c(a,2),f=s[0],h=s[1],u=new Uint8Array(i+o+8);u.set(new Uint8Array(e),0);var l=new DataView(u.buffer);return l.setUint8(i,128),l.setUint32(i+o,h,!0),l.setUint32(i+o+4,f,!0),u.buffer}},{key:"f",value:function(t,e,r,n){return 0<=t&&t<=15?e^r^n:16<=t&&t<=31?e&r|~e&n:32<=t&&t<=47?(e|~r)^n:48<=t&&t<=63?e&n|r&~n:64<=t&&t<=79?e^(r|~n):void 0}},{key:"K",value:function(t){return 0<=t&&t<=15?0:16<=t&&t<=31?1518500249:32<=t&&t<=47?1859775393:48<=t&&t<=63?2400959708:64<=t&&t<=79?2840853838:void 0}},{key:"KP",value:function(t){return 0<=t&&t<=15?1352829926:16<=t&&t<=31?1548603684:32<=t&&t<=47?1836072691:48<=t&&t<=63?2053994217:64<=t&&t<=79?0:void 0}},{key:"add_modulo32",value:function(){return 0|Array.from(arguments).reduce((function(t,e){return t+e}),0)}},{key:"rol32",value:function(t,e){return t<<e|t>>>32-e}},{key:"hash",value:function(e){for(var r=t.pad(e),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],o=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],a=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],s=r.byteLength/64,f=new Array(s).fill(void 0).map((function(t,e){return function(t){return new DataView(r,64*e,64).getUint32(4*t,!0)}})),h=[1732584193,4023233417,2562383102,271733878,3285377520],u=0;u<s;++u){for(var c=h[0],l=h[1],d=h[2],p=h[3],g=h[4],y=c,v=l,b=d,w=p,m=g,_=0;_<80;++_){var E=t.add_modulo32(t.rol32(t.add_modulo32(c,t.f(_,l,d,p),f[u](n[_]),t.K(_)),o[_]),g);c=g,g=p,p=t.rol32(d,10),d=l,l=E,E=t.add_modulo32(t.rol32(t.add_modulo32(y,t.f(79-_,v,b,w),f[u](i[_]),t.KP(_)),a[_]),m),y=m,m=w,w=t.rol32(b,10),b=v,v=E}var S=t.add_modulo32(h[1],d,w);h[1]=t.add_modulo32(h[2],p,m),h[2]=t.add_modulo32(h[3],g,y),h[3]=t.add_modulo32(h[4],c,v),h[4]=t.add_modulo32(h[0],l,b),h[0]=S}var k=new ArrayBuffer(20),T=new DataView(k);return h.forEach((function(t,e){return T.setUint32(4*e,t,!0)})),k}}]),t}()},p=h((function(t,e){var r=s&&s.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=s&&s.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t},i=s&&s.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var o=d.RIPEMD160.hash,a="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var h=function(){for(var t=Array(256).fill(-1),e=0;e<a.length;++e)t[a.charCodeAt(e)]=e;return t}();var u,c=function(){for(var t=Array(256).fill(-1),e=0;e<f.length;++e)t[f.charCodeAt(e)]=e;return t["=".charCodeAt(0)]=0,t}();function l(t){return 0!=(128&t[t.length-1])}function p(t){for(var e=1,r=0;r<t.length;++r){var n=(255&~t[r])+e;t[r]=n,e=n>>8}}function g(t,e){for(var r=new Uint8Array(t),n=0;n<e.length;++n){var i=e.charCodeAt(n);if(i<"0".charCodeAt(0)||i>"9".charCodeAt(0))throw new Error("invalid number");for(var o=i-"0".charCodeAt(0),a=0;a<t;++a){var s=10*r[a]+o;r[a]=s,o=s>>8}if(o)throw new Error("number is out of range")}return r}function y(t,e){void 0===e&&(e=1);for(var r=Array(e).fill("0".charCodeAt(0)),i=t.length-1;i>=0;--i){for(var o=t[i],a=0;a<r.length;++a){var s=(r[a]-"0".charCodeAt(0)<<8)+o;r[a]="0".charCodeAt(0)+s%10,o=s/10|0}for(;o;)r.push("0".charCodeAt(0)+o%10),o=o/10|0}return r.reverse(),String.fromCharCode.apply(String,n(r))}function v(t,e){for(var r=new Uint8Array(t),n=0;n<e.length;++n){var i=h[e.charCodeAt(n)];if(i<0)throw new Error("invalid base-58 value");for(var o=0;o<t;++o){var a=58*r[o]+i;r[o]=a,i=a>>8}if(i)throw new Error("base-58 value is out of range")}return r.reverse(),r}function b(t,e){var r,o,s,f,u=[];try{for(var c=i(t),l=c.next();!l.done;l=c.next()){for(var d=l.value,p=0;p<u.length;++p){var g=(h[u[p]]<<8)+d;u[p]=a.charCodeAt(g%58),d=g/58|0}for(;d;)u.push(a.charCodeAt(d%58)),d=d/58|0}}catch(t){r={error:t}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}try{for(var y=i(t),v=y.next();!v.done;v=y.next()){if(v.value)break;u.push("1".charCodeAt(0))}}catch(t){s={error:t}}finally{try{v&&!v.done&&(f=y.return)&&f.call(y)}finally{if(s)throw s.error}}return u.reverse(),String.fromCharCode.apply(String,n(u))}function w(t,e){for(var r=new Uint8Array(t.length+e.length),n=0;n<t.length;++n)r[n]=t[n];for(n=0;n<e.length;++n)r[t.length+n]=e.charCodeAt(n);return o(r)}function m(t,e,r,n){var i=v(r+4,t),o={type:e,data:new Uint8Array(i.buffer,0,r)},a=new Uint8Array(w(o.data,n));if(a[0]!==i[r+0]||a[1]!==i[r+1]||a[2]!==i[r+2]||a[3]!==i[r+3])throw new Error("checksum doesn't match");return o}function _(t,e,r){for(var n=new Uint8Array(w(t.data,e)),i=new Uint8Array(t.data.length+4),o=0;o<t.data.length;++o)i[o]=t.data[o];for(o=0;o<4;++o)i[o+t.data.length]=n[o];return r+b(i)}function E(t){if("string"!=typeof t)throw new Error("expected string containing public key");if("EOS"===t.substr(0,3)){for(var r=v(e.publicKeyDataSize+4,t.substr(3)),n={type:u.k1,data:new Uint8Array(e.publicKeyDataSize)},i=0;i<e.publicKeyDataSize;++i)n.data[i]=r[i];var a=new Uint8Array(o(n.data));if(a[0]!==r[e.publicKeyDataSize]||a[1]!==r[34]||a[2]!==r[35]||a[3]!==r[36])throw new Error("checksum doesn't match");return n}if("PUB_K1_"===t.substr(0,7))return m(t.substr(7),u.k1,e.publicKeyDataSize,"K1");if("PUB_R1_"===t.substr(0,7))return m(t.substr(7),u.r1,e.publicKeyDataSize,"R1");throw new Error("unrecognized public key format")}function S(t){if(t.type===u.k1&&t.data.length===e.publicKeyDataSize)return _(t,"K1","PUB_K1_");if(t.type===u.r1&&t.data.length===e.publicKeyDataSize)return _(t,"R1","PUB_R1_");throw new Error("unrecognized public key format")}function k(t){return"EOS"===t.substr(0,3)?S(E(t)):t}e.isNegative=l,e.negate=p,e.decimalToBinary=g,e.signedDecimalToBinary=function(t,e){var r="-"===e[0];r&&(e=e.substr(1));var n=g(t,e);if(r){if(p(n),!l(n))throw new Error("number is out of range")}else if(l(n))throw new Error("number is out of range");return n},e.binaryToDecimal=y,e.signedBinaryToDecimal=function(t,e){if(void 0===e&&(e=1),l(t)){var r=t.slice();return p(r),"-"+y(r,e)}return y(t,e)},e.base58ToBinary=v,e.binaryToBase58=b,e.base64ToBinary=function(t){var e=t.length;if(1==(3&e)&&"="===t[e-1]&&(e-=1),0!=(3&e))throw new Error("base-64 value is not padded correctly");var r=e>>2,n=3*r;e>0&&"="===t[e-1]&&("="===t[e-2]?n-=2:n-=1);for(var i=new Uint8Array(n),o=0;o<r;++o){var a=c[t.charCodeAt(4*o+0)],s=c[t.charCodeAt(4*o+1)],f=c[t.charCodeAt(4*o+2)],h=c[t.charCodeAt(4*o+3)];i[3*o+0]=a<<2|s>>4,3*o+1<n&&(i[3*o+1]=(15&s)<<4|f>>2),3*o+2<n&&(i[3*o+2]=(3&f)<<6|h)}return i},function(t){t[t.k1=0]="k1",t[t.r1=1]="r1"}(u=e.KeyType||(e.KeyType={})),e.publicKeyDataSize=33,e.privateKeyDataSize=32,e.signatureDataSize=65,e.stringToPublicKey=E,e.publicKeyToString=S,e.convertLegacyPublicKey=k,e.convertLegacyPublicKeys=function(t){return t.map(k)},e.stringToPrivateKey=function(t){if("string"!=typeof t)throw new Error("expected string containing private key");if("PVT_R1_"===t.substr(0,7))return m(t.substr(7),u.r1,e.privateKeyDataSize,"R1");throw new Error("unrecognized private key format")},e.privateKeyToString=function(t){if(t.type===u.r1)return _(t,"R1","PVT_R1_");throw new Error("unrecognized private key format")},e.stringToSignature=function(t){if("string"!=typeof t)throw new Error("expected string containing signature");if("SIG_K1_"===t.substr(0,7))return m(t.substr(7),u.k1,e.signatureDataSize,"K1");if("SIG_R1_"===t.substr(0,7))return m(t.substr(7),u.r1,e.signatureDataSize,"R1");throw new Error("unrecognized signature format")},e.signatureToString=function(t){if(t.type===u.k1)return _(t,"K1","SIG_K1_");if(t.type===u.r1)return _(t,"R1","SIG_R1_");throw new Error("unrecognized signature format")}}));f(p);p.isNegative,p.negate,p.decimalToBinary,p.signedDecimalToBinary,p.binaryToDecimal,p.signedBinaryToDecimal,p.base58ToBinary,p.binaryToBase58,p.base64ToBinary,p.KeyType,p.publicKeyDataSize,p.privateKeyDataSize,p.signatureDataSize,p.stringToPublicKey,p.publicKeyToString,p.convertLegacyPublicKey,p.convertLegacyPublicKeys,p.stringToPrivateKey,p.privateKeyToString,p.stringToSignature,p.signatureToString;var g=h((function(t,e){var r=s&&s.__assign||function(){return(r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},n=s&&s.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=s&&s.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t},o=s&&s.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){void 0===t&&(t={}),this.skippedBinaryExtension=!1,this.options=t};e.SerializerState=a;var f=function(){function t(t){var e=void 0===t?{}:t,r=e.textEncoder,n=e.textDecoder,i=e.array;this.readPos=0,this.array=i||new Uint8Array(1024),this.length=i?i.length:0,this.textEncoder=r||new TextEncoder,this.textDecoder=n||new TextDecoder("utf-8",{fatal:!0})}return t.prototype.reserve=function(t){if(!(this.length+t<=this.array.length)){for(var e=this.array.length;this.length+t>e;)e=Math.ceil(1.5*e);var r=new Uint8Array(e);r.set(this.array),this.array=r}},t.prototype.haveReadData=function(){return this.readPos<this.length},t.prototype.restartRead=function(){this.readPos=0},t.prototype.asUint8Array=function(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.length)},t.prototype.pushArray=function(t){this.reserve(t.length),this.array.set(t,this.length),this.length+=t.length},t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.pushArray(t)},t.prototype.get=function(){if(this.readPos<this.length)return this.array[this.readPos++];throw new Error("Read past end of buffer")},t.prototype.pushUint8ArrayChecked=function(t,e){if(t.length!==e)throw new Error("Binary data has incorrect size");this.pushArray(t)},t.prototype.getUint8Array=function(t){if(this.readPos+t>this.length)throw new Error("Read past end of buffer");var e=new Uint8Array(this.array.buffer,this.array.byteOffset+this.readPos,t);return this.readPos+=t,e},t.prototype.pushUint16=function(t){this.push(t>>0&255,t>>8&255)},t.prototype.getUint16=function(){var t=0;return t|=this.get()<<0,t|=this.get()<<8},t.prototype.pushUint32=function(t){this.push(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},t.prototype.getUint32=function(){var t=0;return t|=this.get()<<0,t|=this.get()<<8,t|=this.get()<<16,(t|=this.get()<<24)>>>0},t.prototype.pushNumberAsUint64=function(t){this.pushUint32(t>>>0),this.pushUint32(Math.floor(t/4294967296)>>>0)},t.prototype.getUint64AsNumber=function(){var t=this.getUint32();return 4294967296*(this.getUint32()>>>0)+(t>>>0)},t.prototype.pushVaruint32=function(t){for(;;){if(!(t>>>7)){this.push(t);break}this.push(128|127&t),t>>>=7}},t.prototype.getVaruint32=function(){for(var t=0,e=0;;){var r=this.get();if(t|=(127&r)<<e,e+=7,!(128&r))break}return t>>>0},t.prototype.pushVarint32=function(t){this.pushVaruint32(t<<1^t>>31)},t.prototype.getVarint32=function(){var t=this.getVaruint32();return 1&t?~t>>1|2147483648:t>>>1},t.prototype.pushFloat32=function(t){this.pushArray(new Uint8Array(new Float32Array([t]).buffer))},t.prototype.getFloat32=function(){return new Float32Array(this.getUint8Array(4).slice().buffer)[0]},t.prototype.pushFloat64=function(t){this.pushArray(new Uint8Array(new Float64Array([t]).buffer))},t.prototype.getFloat64=function(){return new Float64Array(this.getUint8Array(8).slice().buffer)[0]},t.prototype.pushName=function(t){if("string"!=typeof t)throw new Error("Expected string containing name");function e(t){return t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)?t-"a".charCodeAt(0)+6:t>="1".charCodeAt(0)&&t<="5".charCodeAt(0)?t-"1".charCodeAt(0)+1:0}for(var r=new Uint8Array(8),n=63,i=0;i<t.length;++i){var o=e(t.charCodeAt(i));n<5&&(o<<=1);for(var a=4;a>=0;--a)n>=0&&(r[Math.floor(n/8)]|=(o>>a&1)<<n%8,--n)}this.pushArray(r)},t.prototype.getName=function(){for(var t=this.getUint8Array(8),e="",r=63;r>=0;){for(var n=0,i=0;i<5;++i)r>=0&&(n=n<<1|t[Math.floor(r/8)]>>r%8&1,--r);e+=n>=6?String.fromCharCode(n+"a".charCodeAt(0)-6):n>=1?String.fromCharCode(n+"1".charCodeAt(0)-1):"."}for(;e.endsWith(".");)e=e.substr(0,e.length-1);return e},t.prototype.pushBytes=function(t){this.pushVaruint32(t.length),this.pushArray(t)},t.prototype.getBytes=function(){return this.getUint8Array(this.getVaruint32())},t.prototype.pushString=function(t){this.pushBytes(this.textEncoder.encode(t))},t.prototype.getString=function(){return this.textDecoder.decode(this.getBytes())},t.prototype.pushSymbolCode=function(t){if("string"!=typeof t)throw new Error("Expected string containing symbol_code");var e=[];for(e.push.apply(e,i(this.textEncoder.encode(t)));e.length<8;)e.push(0);this.pushArray(e.slice(0,8))},t.prototype.getSymbolCode=function(){var t,e=this.getUint8Array(8);for(t=0;t<e.length&&e[t];++t);return this.textDecoder.decode(new Uint8Array(e.buffer,e.byteOffset,t))},t.prototype.pushSymbol=function(t){var e=t.name,r=[255&t.precision];for(r.push.apply(r,i(this.textEncoder.encode(e)));r.length<8;)r.push(0);this.pushArray(r.slice(0,8))},t.prototype.getSymbol=function(){var t,e=this.get(),r=this.getUint8Array(7);for(t=0;t<r.length&&r[t];++t);return{name:this.textDecoder.decode(new Uint8Array(r.buffer,r.byteOffset,t)),precision:e}},t.prototype.pushAsset=function(t){if("string"!=typeof t)throw new Error("Expected string containing asset");var e=0,r="",n=0;"-"===(t=t.trim())[e]&&(r+="-",++e);for(var i=!1;e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0);)i=!0,r+=t[e],++e;if(!i)throw new Error("Asset must begin with a number");if("."===t[e])for(++e;e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0);)r+=t[e],++n,++e;var o=t.substr(e).trim();this.pushArray(p.signedDecimalToBinary(8,r)),this.pushSymbol({name:o,precision:n})},t.prototype.getAsset=function(){var t=this.getUint8Array(8),e=this.getSymbol(),r=e.name,n=e.precision,i=p.signedBinaryToDecimal(t,n+1);return n&&(i=i.substr(0,i.length-n)+"."+i.substr(i.length-n)),i+" "+r},t.prototype.pushPublicKey=function(t){var e=p.stringToPublicKey(t);this.push(e.type),this.pushArray(e.data)},t.prototype.getPublicKey=function(){var t=this.get(),e=this.getUint8Array(p.publicKeyDataSize);return p.publicKeyToString({type:t,data:e})},t.prototype.pushPrivateKey=function(t){var e=p.stringToPrivateKey(t);this.push(e.type),this.pushArray(e.data)},t.prototype.getPrivateKey=function(){var t=this.get(),e=this.getUint8Array(p.privateKeyDataSize);return p.privateKeyToString({type:t,data:e})},t.prototype.pushSignature=function(t){var e=p.stringToSignature(t);this.push(e.type),this.pushArray(e.data)},t.prototype.getSignature=function(){var t=this.get(),e=this.getUint8Array(p.signatureDataSize);return p.signatureToString({type:t,data:e})},t}();function h(t){var e=Date.parse(t);if(Number.isNaN(e))throw new Error("Invalid time format");return e}function u(t){return Math.round(1e3*h(t+"Z"))}function c(t){var e=new Date(t/1e3).toISOString();return e.substr(0,e.length-1)}function l(t){return Math.round(h(t+"Z")/1e3)}function d(t){var e=new Date(1e3*t).toISOString();return e.substr(0,e.length-1)}function g(t){return Math.round((h(t+"Z")-9466848e5)/500)}function y(t){var e=new Date(500*t+9466848e5).toISOString();return e.substr(0,e.length-1)}function v(t){if("string"!=typeof t)throw new Error("Expected string containing symbol");var e=t.match(/^([0-9]+),([A-Z]+)$/);if(!e)throw new Error("Invalid symbol");return{name:e[2],precision:+e[1]}}function b(t){var e=t.name;return t.precision+","+e}function w(t){var e,r,n="";try{for(var i=o(t),a=i.next();!a.done;a=i.next()){n+=("00"+a.value.toString(16)).slice(-2)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n.toUpperCase()}function m(t){if("string"!=typeof t)throw new Error("Expected string containing hex digits");if(t.length%2)throw new Error("Odd number of hex digits");for(var e=t.length/2,r=new Uint8Array(e),n=0;n<e;++n){var i=parseInt(t.substr(2*n,2),16);if(Number.isNaN(i))throw new Error("Expected hex string");r[n]=i}return r}function _(t,e){throw new Error("Don't know how to serialize "+this.name)}function E(t){throw new Error("Don't know how to deserialize "+this.name)}function S(t,e,r,n){var i,s;if(void 0===r&&(r=new a),void 0===n&&(n=!0),"object"!=typeof e)throw new Error("expected object containing data: "+JSON.stringify(e));this.base&&this.base.serialize(t,e,r,n);try{for(var f=o(this.fields),h=f.next();!h.done;h=f.next()){var u=h.value;if(u.name in e){if(r.skippedBinaryExtension)throw new Error("unexpected "+this.name+"."+u.name);u.type.serialize(t,e[u.name],r,n&&u===this.fields[this.fields.length-1])}else{if(!n||!u.type.extensionOf)throw new Error("missing "+this.name+"."+u.name+" (type="+u.type.name+")");r.skippedBinaryExtension=!0}}}catch(t){i={error:t}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}}function k(t,e,r){var n,i,s;void 0===e&&(e=new a),void 0===r&&(r=!0),s=this.base?this.base.deserialize(t,e,r):{};try{for(var f=o(this.fields),h=f.next();!h.done;h=f.next()){var u=h.value;r&&u.type.extensionOf&&!t.haveReadData()?e.skippedBinaryExtension=!0:s[u.name]=u.type.deserialize(t,e,r)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return s}function T(t,e,r,n){if(!Array.isArray(e)||2!==e.length||"string"!=typeof e[0])throw new Error('expected variant: ["type", value]');var i=this.fields.findIndex((function(t){return t.name===e[0]}));if(i<0)throw new Error('type "'+e[0]+'" is not valid for variant');t.pushVaruint32(i),this.fields[i].type.serialize(t,e[1],r,n)}function A(t,e,r){var n=t.getVaruint32();if(n>=this.fields.length)throw new Error("type index "+n+" is not valid for variant");var i=this.fields[n];return[i.name,i.type.deserialize(t,e,r)]}function x(t,e,r,n){var i,a;t.pushVaruint32(e.length);try{for(var s=o(e),f=s.next();!f.done;f=s.next()){var h=f.value;this.arrayOf.serialize(t,h,r,!1)}}catch(t){i={error:t}}finally{try{f&&!f.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}}function B(t,e,r){for(var n=t.getVaruint32(),i=[],o=0;o<n;++o)i.push(this.arrayOf.deserialize(t,e,!1));return i}function I(t,e,r,n){null==e?t.push(0):(t.push(1),this.optionalOf.serialize(t,e,r,n))}function R(t,e,r){return t.get()?this.optionalOf.deserialize(t,e,r):null}function U(t,e,r,n){this.extensionOf.serialize(t,e,r,n)}function O(t,e,r){return this.extensionOf.deserialize(t,e,r)}function L(t){return r({name:"<missing name>",aliasOfName:"",arrayOf:null,optionalOf:null,extensionOf:null,baseName:"",base:null,fields:[],serialize:_,deserialize:E},t)}function z(t,e){if(Number.isNaN(+t)||Number.isNaN(+e)||"number"!=typeof t&&"string"!=typeof t)throw new Error("Expected number");if(+t!=+e)throw new Error("Number is out of range");return+t}function D(t,e){var r=t.get(e);if(r&&r.aliasOfName)return D(t,r.aliasOfName);if(r)return r;if(e.endsWith("[]"))return L({name:e,arrayOf:D(t,e.substr(0,e.length-2)),serialize:x,deserialize:B});if(e.endsWith("?"))return L({name:e,optionalOf:D(t,e.substr(0,e.length-1)),serialize:I,deserialize:R});if(e.endsWith("$"))return L({name:e,extensionOf:D(t,e.substr(0,e.length-1)),serialize:U,deserialize:O});throw new Error("Unknown type: "+e)}function C(t,e,r,n,i,o){var a=t.actions.get(r);if(!a)throw new Error("Unknown action "+r+" in contract "+e);var s=new f({textEncoder:i,textDecoder:o});return a.serialize(s,n),w(s.asUint8Array())}function N(t,e,r,n,i,o){var a=t.actions.get(r);if("string"==typeof n&&(n=m(n)),!a)throw new Error("Unknown action "+r+" in contract "+e);var s=new f({textDecoder:o,textEncoder:i});return s.pushArray(n),a.deserialize(s)}e.SerialBuffer=f,e.supportedAbiVersion=function(t){return t.startsWith("eosio::abi/1.")},e.dateToTimePoint=u,e.timePointToDate=c,e.dateToTimePointSec=l,e.timePointSecToDate=d,e.dateToBlockTimestamp=g,e.blockTimestampToDate=y,e.stringToSymbol=v,e.symbolToString=b,e.arrayToHex=w,e.hexToUint8Array=m,e.createInitialTypes=function(){var t=new Map(Object.entries({bool:L({name:"bool",serialize:function(t,e){if("boolean"!=typeof e)throw new Error("Expected true or false");t.push(e?1:0)},deserialize:function(t){return!!t.get()}}),uint8:L({name:"uint8",serialize:function(t,e){t.push(z(e,255&e))},deserialize:function(t){return t.get()}}),int8:L({name:"int8",serialize:function(t,e){t.push(z(e,e<<24>>24))},deserialize:function(t){return t.get()<<24>>24}}),uint16:L({name:"uint16",serialize:function(t,e){t.pushUint16(z(e,65535&e))},deserialize:function(t){return t.getUint16()}}),int16:L({name:"int16",serialize:function(t,e){t.pushUint16(z(e,e<<16>>16))},deserialize:function(t){return t.getUint16()<<16>>16}}),uint32:L({name:"uint32",serialize:function(t,e){t.pushUint32(z(e,e>>>0))},deserialize:function(t){return t.getUint32()}}),uint64:L({name:"uint64",serialize:function(t,e){t.pushArray(p.decimalToBinary(8,""+e))},deserialize:function(t){return p.binaryToDecimal(t.getUint8Array(8))}}),int64:L({name:"int64",serialize:function(t,e){t.pushArray(p.signedDecimalToBinary(8,""+e))},deserialize:function(t){return p.signedBinaryToDecimal(t.getUint8Array(8))}}),int32:L({name:"int32",serialize:function(t,e){t.pushUint32(z(e,0|e))},deserialize:function(t){return 0|t.getUint32()}}),varuint32:L({name:"varuint32",serialize:function(t,e){t.pushVaruint32(z(e,e>>>0))},deserialize:function(t){return t.getVaruint32()}}),varint32:L({name:"varint32",serialize:function(t,e){t.pushVarint32(z(e,0|e))},deserialize:function(t){return t.getVarint32()}}),uint128:L({name:"uint128",serialize:function(t,e){t.pushArray(p.decimalToBinary(16,""+e))},deserialize:function(t){return p.binaryToDecimal(t.getUint8Array(16))}}),int128:L({name:"int128",serialize:function(t,e){t.pushArray(p.signedDecimalToBinary(16,""+e))},deserialize:function(t){return p.signedBinaryToDecimal(t.getUint8Array(16))}}),float32:L({name:"float32",serialize:function(t,e){t.pushFloat32(e)},deserialize:function(t){return t.getFloat32()}}),float64:L({name:"float64",serialize:function(t,e){t.pushFloat64(e)},deserialize:function(t){return t.getFloat64()}}),float128:L({name:"float128",serialize:function(t,e){t.pushUint8ArrayChecked(m(e),16)},deserialize:function(t){return w(t.getUint8Array(16))}}),bytes:L({name:"bytes",serialize:function(t,e){e instanceof Uint8Array||Array.isArray(e)?t.pushBytes(e):t.pushBytes(m(e))},deserialize:function(t,e){return e&&e.options.bytesAsUint8Array?t.getBytes():w(t.getBytes())}}),string:L({name:"string",serialize:function(t,e){t.pushString(e)},deserialize:function(t){return t.getString()}}),name:L({name:"name",serialize:function(t,e){t.pushName(e)},deserialize:function(t){return t.getName()}}),time_point:L({name:"time_point",serialize:function(t,e){t.pushNumberAsUint64(u(e))},deserialize:function(t){return c(t.getUint64AsNumber())}}),time_point_sec:L({name:"time_point_sec",serialize:function(t,e){t.pushUint32(l(e))},deserialize:function(t){return d(t.getUint32())}}),block_timestamp_type:L({name:"block_timestamp_type",serialize:function(t,e){t.pushUint32(g(e))},deserialize:function(t){return y(t.getUint32())}}),symbol_code:L({name:"symbol_code",serialize:function(t,e){t.pushSymbolCode(e)},deserialize:function(t){return t.getSymbolCode()}}),symbol:L({name:"symbol",serialize:function(t,e){t.pushSymbol(v(e))},deserialize:function(t){return b(t.getSymbol())}}),asset:L({name:"asset",serialize:function(t,e){t.pushAsset(e)},deserialize:function(t){return t.getAsset()}}),checksum160:L({name:"checksum160",serialize:function(t,e){t.pushUint8ArrayChecked(m(e),20)},deserialize:function(t){return w(t.getUint8Array(20))}}),checksum256:L({name:"checksum256",serialize:function(t,e){t.pushUint8ArrayChecked(m(e),32)},deserialize:function(t){return w(t.getUint8Array(32))}}),checksum512:L({name:"checksum512",serialize:function(t,e){t.pushUint8ArrayChecked(m(e),64)},deserialize:function(t){return w(t.getUint8Array(64))}}),public_key:L({name:"public_key",serialize:function(t,e){t.pushPublicKey(e)},deserialize:function(t){return t.getPublicKey()}}),private_key:L({name:"private_key",serialize:function(t,e){t.pushPrivateKey(e)},deserialize:function(t){return t.getPrivateKey()}}),signature:L({name:"signature",serialize:function(t,e){t.pushSignature(e)},deserialize:function(t){return t.getSignature()}})}));return t.set("extended_asset",L({name:"extended_asset",baseName:"",fields:[{name:"quantity",typeName:"asset",type:t.get("asset")},{name:"contract",typeName:"name",type:t.get("name")}],serialize:S,deserialize:k})),t},e.getType=D,e.getTypesFromAbi=function(t,e){var r,i,a,s,f,h,u,c,l,d,p=new Map(t);if(e.types)try{for(var g=o(e.types),y=g.next();!y.done;y=g.next()){var v=y.value,b=v.new_type_name,w=v.type;p.set(b,L({name:b,aliasOfName:w}))}}catch(t){r={error:t}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}if(e.structs)try{for(var m=o(e.structs),_=m.next();!_.done;_=m.next()){var E=_.value,x=E.name,B=E.base,I=E.fields;p.set(x,L({name:x,baseName:B,fields:I.map((function(t){return{name:t.name,typeName:t.type,type:null}})),serialize:S,deserialize:k}))}}catch(t){a={error:t}}finally{try{_&&!_.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(e.variants)try{for(var R=o(e.variants),U=R.next();!U.done;U=R.next()){var O=U.value,z=O.name,C=O.types;p.set(z,L({name:z,fields:C.map((function(t){return{name:t,typeName:t,type:null}})),serialize:T,deserialize:A}))}}catch(t){f={error:t}}finally{try{U&&!U.done&&(h=R.return)&&h.call(R)}finally{if(f)throw f.error}}try{for(var N=o(p),M=N.next();!M.done;M=N.next()){var P=n(M.value,2);P[0];(w=P[1]).baseName&&(w.base=D(p,w.baseName));try{for(var q=o(w.fields),j=q.next();!j.done;j=q.next()){var F=j.value;F.type=D(p,F.typeName)}}catch(t){l={error:t}}finally{try{j&&!j.done&&(d=q.return)&&d.call(q)}finally{if(l)throw l.error}}}}catch(t){u={error:t}}finally{try{M&&!M.done&&(c=N.return)&&c.call(N)}finally{if(u)throw u.error}}return p},e.transactionHeader=function(t,e){return{expiration:d(l(t.timestamp)+e),ref_block_num:65535&t.block_num,ref_block_prefix:t.ref_block_prefix}},e.serializeActionData=C,e.serializeAction=function(t,e,r,n,i,o,a){return{account:e,name:r,authorization:n,data:C(t,e,r,i,o,a)}},e.deserializeActionData=N,e.deserializeAction=function(t,e,r,n,i,o,a){return{account:e,name:r,authorization:n,data:N(t,e,r,i,o,a)}}}));f(g);g.SerializerState,g.SerialBuffer,g.supportedAbiVersion,g.dateToTimePoint,g.timePointToDate,g.dateToTimePointSec,g.timePointSecToDate,g.dateToBlockTimestamp,g.blockTimestampToDate,g.stringToSymbol,g.symbolToString,g.arrayToHex,g.hexToUint8Array,g.createInitialTypes,g.getType,g.getTypesFromAbi,g.transactionHeader,g.serializeActionData,g.serializeAction,g.deserializeActionData,g.deserializeAction;var y=[{name:"extensions_entry",base:"",fields:[{name:"tag",type:"uint16"},{name:"value",type:"bytes"}]},{name:"type_def",base:"",fields:[{name:"new_type_name",type:"string"},{name:"type",type:"string"}]},{name:"field_def",base:"",fields:[{name:"name",type:"string"},{name:"type",type:"string"}]},{name:"struct_def",base:"",fields:[{name:"name",type:"string"},{name:"base",type:"string"},{name:"fields",type:"field_def[]"}]},{name:"action_def",base:"",fields:[{name:"name",type:"name"},{name:"type",type:"string"},{name:"ricardian_contract",type:"string"}]},{name:"table_def",base:"",fields:[{name:"name",type:"name"},{name:"index_type",type:"string"},{name:"key_names",type:"string[]"},{name:"key_types",type:"string[]"},{name:"type",type:"string"}]},{name:"clause_pair",base:"",fields:[{name:"id",type:"string"},{name:"body",type:"string"}]},{name:"error_message",base:"",fields:[{name:"error_code",type:"uint64"},{name:"error_msg",type:"string"}]},{name:"variant_def",base:"",fields:[{name:"name",type:"string"},{name:"types",type:"string[]"}]},{name:"abi_def",base:"",fields:[{name:"version",type:"string"},{name:"types",type:"type_def[]"},{name:"structs",type:"struct_def[]"},{name:"actions",type:"action_def[]"},{name:"tables",type:"table_def[]"},{name:"ricardian_clauses",type:"clause_pair[]"},{name:"error_messages",type:"error_message[]"},{name:"abi_extensions",type:"extensions_entry[]"},{name:"variants",type:"variant_def[]$"}]}],v={version:"eosio::abi/1.1",structs:y},b=Object.freeze({__proto__:null,version:"eosio::abi/1.1",structs:y,default:v}),w=[{new_type_name:"account_name",type:"name"},{new_type_name:"action_name",type:"name"},{new_type_name:"permission_name",type:"name"}],m=[{name:"permission_level",base:"",fields:[{name:"actor",type:"account_name"},{name:"permission",type:"permission_name"}]},{name:"action",base:"",fields:[{name:"account",type:"account_name"},{name:"name",type:"action_name"},{name:"authorization",type:"permission_level[]"},{name:"data",type:"bytes"}]},{name:"extension",base:"",fields:[{name:"type",type:"uint16"},{name:"data",type:"bytes"}]},{name:"transaction_header",base:"",fields:[{name:"expiration",type:"time_point_sec"},{name:"ref_block_num",type:"uint16"},{name:"ref_block_prefix",type:"uint32"},{name:"max_net_usage_words",type:"varuint32"},{name:"max_cpu_usage_ms",type:"uint8"},{name:"delay_sec",type:"varuint32"}]},{name:"transaction",base:"transaction_header",fields:[{name:"context_free_actions",type:"action[]"},{name:"actions",type:"action[]"},{name:"transaction_extensions",type:"extension[]"}]}],_={version:"eosio::abi/1.0",types:w,structs:m},E=Object.freeze({__proto__:null,version:"eosio::abi/1.0",types:w,structs:m,default:_}),S=u(b),k=u(E),T=h((function(t,e){var r=s&&s.__assign||function(){return(r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},n=s&&s.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{f(n.next(t))}catch(t){o(t)}}function s(t){try{f(n.throw(t))}catch(t){o(t)}}function f(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}f((n=n.apply(t,e||[])).next())}))},i=s&&s.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=s&&s.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]])}return r},a=s&&s.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},f=s&&s.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},h=s&&s.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t){this.contracts=new Map,this.cachedAbis=new Map,this.rpc=t.rpc,this.authorityProvider=t.authorityProvider||t.rpc,this.abiProvider=t.abiProvider||t.rpc,this.signatureProvider=t.signatureProvider,this.chainId=t.chainId,this.textEncoder=t.textEncoder,this.textDecoder=t.textDecoder,this.abiTypes=g.getTypesFromAbi(g.createInitialTypes(),S),this.transactionTypes=g.getTypesFromAbi(g.createInitialTypes(),k)}return t.prototype.rawAbiToJson=function(t){var e=new g.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder,array:t});if(!g.supportedAbiVersion(e.getString()))throw new Error("Unsupported abi version");return e.restartRead(),this.abiTypes.get("abi_def").deserialize(e)},t.prototype.getCachedAbi=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,(function(){var r,n,o,a;return i(this,(function(i){switch(i.label){case 0:if(!e&&this.cachedAbis.get(t))return[2,this.cachedAbis.get(t)];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.abiProvider.getRawAbi(t)];case 2:return n=i.sent().abi,o=this.rawAbiToJson(n),r={rawAbi:n,abi:o},[3,4];case 3:throw(a=i.sent()).message="fetching abi for "+t+": "+a.message,a;case 4:if(!r)throw new Error("Missing abi for "+t);return this.cachedAbis.set(t,r),[2,r]}}))}))},t.prototype.getAbi=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this.getCachedAbi(t,e)];case 1:return[2,r.sent().abi]}}))}))},t.prototype.getTransactionAbis=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,(function(){var r,o,a,s=this;return i(this,(function(h){return r=t.actions.map((function(t){return t.account})),o=new Set(r),a=f(o).map((function(t){return n(s,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return r={accountName:t},[4,this.getCachedAbi(t,e)];case 1:return[2,(r.abi=n.sent().rawAbi,r)]}}))}))})),[2,Promise.all(a)]}))}))},t.prototype.getContract=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,(function(){var r,n,o,a,s,f,u,c,l,d,p;return i(this,(function(i){switch(i.label){case 0:return!e&&this.contracts.get(t)?[2,this.contracts.get(t)]:[4,this.getAbi(t,e)];case 1:o=i.sent(),a=g.getTypesFromAbi(g.createInitialTypes(),o),s=new Map;try{for(f=h(o.actions),u=f.next();!u.done;u=f.next())c=u.value,l=c.name,d=c.type,s.set(l,g.getType(a,d))}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}return p={types:a,actions:s},this.contracts.set(t,p),[2,p]}}))}))},t.prototype.serialize=function(t,e,r){this.transactionTypes.get(e).serialize(t,r)},t.prototype.deserialize=function(t,e){return this.transactionTypes.get(e).deserialize(t)},t.prototype.serializeTransaction=function(t){var e=new g.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return this.serialize(e,"transaction",r({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:[],transaction_extensions:[]},t)),e.asUint8Array()},t.prototype.deserializeTransaction=function(t){var e=new g.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return e.pushArray(t),this.deserialize(e,"transaction")},t.prototype.serializeActions=function(t){return n(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,Promise.all(t.map((function(t){var r=t.account,o=t.name,a=t.authorization,s=t.data;return n(e,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return[4,this.getContract(r)];case 1:return t=e.sent(),[2,g.serializeAction(t,r,o,a,s,this.textEncoder,this.textDecoder)]}}))}))})))];case 1:return[2,r.sent()]}}))}))},t.prototype.deserializeActions=function(t){return n(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,Promise.all(t.map((function(t){var r=t.account,o=t.name,a=t.authorization,s=t.data;return n(e,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return[4,this.getContract(r)];case 1:return t=e.sent(),[2,g.deserializeAction(t,r,o,a,s,this.textEncoder,this.textDecoder)]}}))}))})))];case 1:return[2,r.sent()]}}))}))},t.prototype.deserializeTransactionWithActions=function(t){return n(this,void 0,void 0,(function(){var e,n;return i(this,(function(i){switch(i.label){case 0:return"string"==typeof t&&(t=g.hexToUint8Array(t)),e=this.deserializeTransaction(t),[4,this.deserializeActions(e.actions)];case 1:return n=i.sent(),[2,r({},e,{actions:n})]}}))}))},t.prototype.transact=function(t,e){var o=void 0===e?{}:e,a=o.broadcast,s=void 0===a||a,f=o.sign,h=void 0===f||f,u=o.blocksBehind,c=o.expireSeconds;return n(this,void 0,void 0,(function(){var e,n,o,a,f,l,d,p,y;return i(this,(function(i){switch(i.label){case 0:return this.chainId?[3,2]:[4,this.rpc.get_info()];case 1:e=i.sent(),this.chainId=e.chain_id,i.label=2;case 2:return"number"==typeof u&&c?e?[3,4]:[4,this.rpc.get_info()]:[3,6];case 3:e=i.sent(),i.label=4;case 4:return[4,this.rpc.get_block(e.head_block_num-u)];case 5:n=i.sent(),t=r({},g.transactionHeader(n,c),t),i.label=6;case 6:if(!this.hasRequiredTaposFields(t))throw new Error("Required configuration or TAPOS fields are not present");return[4,this.getTransactionAbis(t)];case 7:return o=i.sent(),a=[{},t],f={},[4,this.serializeActions(t.actions)];case 8:return t=r.apply(void 0,a.concat([(f.actions=i.sent(),f)])),l=this.serializeTransaction(t),d={serializedTransaction:l,signatures:[]},h?[4,this.signatureProvider.getAvailableKeys()]:[3,12];case 9:return p=i.sent(),[4,this.authorityProvider.getRequiredKeys({transaction:t,availableKeys:p})];case 10:return y=i.sent(),[4,this.signatureProvider.sign({chainId:this.chainId,requiredKeys:y,serializedTransaction:l,abis:o})];case 11:d=i.sent(),i.label=12;case 12:return s?[2,this.pushSignedTransaction(d)]:[2,d]}}))}))},t.prototype.pushSignedTransaction=function(t){var e=t.signatures,r=t.serializedTransaction;return n(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.rpc.push_transaction({signatures:e,serializedTransaction:r})]}))}))},t.prototype.hasRequiredTaposFields=function(t){var e=t.expiration,r=t.ref_block_num,n=t.ref_block_prefix;o(t,["expiration","ref_block_num","ref_block_prefix"]);return!!(e&&r&&n)},t}();e.Api=u}));f(T);T.Api;var A=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})}));f(A);var x=h((function(t,e){var r=s&&s.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(r){var n=this;return n=r.error&&r.error.details&&r.error.details.length&&r.error.details[0].message?t.call(this,r.error.details[0].message)||this:r.processed&&r.processed.except&&r.processed.except.message?t.call(this,r.processed.except.message)||this:t.call(this,r.message)||this,Object.setPrototypeOf(n,e.prototype),n.json=r,n}return r(e,t),e}(Error);e.RpcError=n}));f(x);x.RpcError;var B=h((function(t,e){var r=s&&s.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{f(n.next(t))}catch(t){o(t)}}function s(t){try{f(n.throw(t))}catch(t){o(t)}}function f(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}f((n=n.apply(t,e||[])).next())}))},n=s&&s.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=s&&s.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};function o(t){var e,r,n="";try{for(var o=i(t),a=o.next();!a.done;a=o.next()){n+=("00"+a.value.toString(16)).slice(-2)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){void 0===e&&(e={}),this.endpoint=t,e.fetch?this.fetchBuiltin=e.fetch:this.fetchBuiltin=s.fetch}return t.prototype.fetch=function(t,e){return r(this,void 0,void 0,(function(){var r,i,o;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,(0,this.fetchBuiltin)(this.endpoint+t,{body:JSON.stringify(e),method:"POST"})];case 1:return[4,(r=n.sent()).json()];case 2:if((i=n.sent()).processed&&i.processed.except)throw new x.RpcError(i);return[3,4];case 3:throw(o=n.sent()).isFetchError=!0,o;case 4:if(!r.ok)throw new x.RpcError(i);return[2,i]}}))}))},t.prototype.get_abi=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_abi",{account_name:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_account=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_account",{account_name:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_block_header_state=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_block_header_state",{block_num_or_id:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_block=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_block",{block_num_or_id:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_code=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_code",{account_name:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_currency_balance=function(t,e,i){return void 0===i&&(i=null),r(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.fetch("/v1/chain/get_currency_balance",{code:t,account:e,symbol:i})];case 1:return[2,r.sent()]}}))}))},t.prototype.get_currency_stats=function(t,e){return r(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.fetch("/v1/chain/get_currency_stats",{code:t,symbol:e})];case 1:return[2,r.sent()]}}))}))},t.prototype.get_info=function(){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_info",{})];case 1:return[2,t.sent()]}}))}))},t.prototype.get_producer_schedule=function(){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_producer_schedule",{})];case 1:return[2,t.sent()]}}))}))},t.prototype.get_producers=function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=""),void 0===i&&(i=50),r(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.fetch("/v1/chain/get_producers",{json:t,lower_bound:e,limit:i})];case 1:return[2,r.sent()]}}))}))},t.prototype.get_raw_code_and_abi=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_raw_code_and_abi",{account_name:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.getRawAbi=function(t){return r(this,void 0,void 0,(function(){var e,r;return n(this,(function(n){switch(n.label){case 0:return[4,this.get_raw_code_and_abi(t)];case 1:return e=n.sent(),r=p.base64ToBinary(e.abi),[2,{accountName:e.account_name,abi:r}]}}))}))},t.prototype.get_table_rows=function(t){var e=t.json,i=void 0===e||e,o=t.code,a=t.scope,s=t.table,f=t.table_key,h=void 0===f?"":f,u=t.lower_bound,c=void 0===u?"":u,l=t.upper_bound,d=void 0===l?"":l,p=t.index_position,g=void 0===p?1:p,y=t.key_type,v=void 0===y?"":y,b=t.limit,w=void 0===b?10:b,m=t.reverse,_=void 0!==m&&m,E=t.show_payer,S=void 0!==E&&E;return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_table_rows",{json:i,code:o,scope:a,table:s,table_key:h,lower_bound:c,upper_bound:d,index_position:g,key_type:v,limit:w,reverse:_,show_payer:S})];case 1:return[2,t.sent()]}}))}))},t.prototype.get_table_by_scope=function(t){var e=t.code,i=t.table,o=t.lower_bound,a=void 0===o?"":o,s=t.upper_bound,f=void 0===s?"":s,h=t.limit,u=void 0===h?10:h;return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_table_by_scope",{code:e,table:i,lower_bound:a,upper_bound:f,limit:u})];case 1:return[2,t.sent()]}}))}))},t.prototype.getRequiredKeys=function(t){return r(this,void 0,void 0,(function(){var e;return n(this,(function(r){switch(r.label){case 0:return e=p.convertLegacyPublicKeys,[4,this.fetch("/v1/chain/get_required_keys",{transaction:t.transaction,available_keys:t.availableKeys})];case 1:return[2,e.apply(void 0,[r.sent().required_keys])]}}))}))},t.prototype.push_transaction=function(t){var e=t.signatures,i=t.serializedTransaction;return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/push_transaction",{signatures:e,compression:0,packed_context_free_data:"",packed_trx:o(i)})];case 1:return[2,t.sent()]}}))}))},t.prototype.db_size_get=function(){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/db_size/get",{})];case 1:return[2,t.sent()]}}))}))},t.prototype.history_get_actions=function(t,e,i){return void 0===e&&(e=null),void 0===i&&(i=null),r(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.fetch("/v1/history/get_actions",{account_name:t,pos:e,offset:i})];case 1:return[2,r.sent()]}}))}))},t.prototype.history_get_transaction=function(t,e){return void 0===e&&(e=null),r(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.fetch("/v1/history/get_transaction",{id:t,block_num_hint:e})];case 1:return[2,r.sent()]}}))}))},t.prototype.history_get_key_accounts=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/history/get_key_accounts",{public_key:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.history_get_controlled_accounts=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/history/get_controlled_accounts",{controlling_account:t})];case 1:return[2,e.sent()]}}))}))},t}();e.JsonRpc=a}));f(B);B.JsonRpc;var I=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})}));f(I);var R=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Api=T.Api,e.ApiInterfaces=A,e.JsonRpc=B.JsonRpc,e.Numeric=p,e.RpcInterfaces=I,e.RpcError=x.RpcError,e.Serialize=g}));f(R);R.Api,R.ApiInterfaces;var U=R.JsonRpc,O=R.Numeric,L=(R.RpcInterfaces,R.RpcError,R.Serialize),z=f(h((function(t){!function(e,r){var n={};!function(t){t.__esModule=!0,t.digestLength=32,t.blockSize=64;var e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(t,r,n,i,o){for(var a,s,f,h,u,c,l,d,p,g,y,v,b;o>=64;){for(a=r[0],s=r[1],f=r[2],h=r[3],u=r[4],c=r[5],l=r[6],d=r[7],g=0;g<16;g++)y=i+4*g,t[g]=(255&n[y])<<24|(255&n[y+1])<<16|(255&n[y+2])<<8|255&n[y+3];for(g=16;g<64;g++)v=((p=t[g-2])>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,b=((p=t[g-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,t[g]=(v+t[g-7]|0)+(b+t[g-16]|0);for(g=0;g<64;g++)v=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&c^~u&l)|0)+(d+(e[g]+t[g]|0)|0)|0,b=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&s^a&f^s&f)|0,d=l,l=c,c=u,u=h+v|0,h=f,f=s,s=a,a=v+b|0;r[0]+=a,r[1]+=s,r[2]+=f,r[3]+=h,r[4]+=u,r[5]+=c,r[6]+=l,r[7]+=d,i+=64,o-=64}return i}var n=function(){function e(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()},e.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[n++],e--;64===this.bufferLength&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(n=r(this.temp,this.state,t,n,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[n++],e--;return this},e.prototype.finish=function(t){if(!this.finished){var e=this.bytesHashed,n=this.bufferLength,i=e/536870912|0,o=e<<3,a=e%64<56?64:128;this.buffer[n]=128;for(var s=n+1;s<a-8;s++)this.buffer[s]=0;this.buffer[a-8]=i>>>24&255,this.buffer[a-7]=i>>>16&255,this.buffer[a-6]=i>>>8&255,this.buffer[a-5]=i>>>0&255,this.buffer[a-4]=o>>>24&255,this.buffer[a-3]=o>>>16&255,this.buffer[a-2]=o>>>8&255,this.buffer[a-1]=o>>>0&255,r(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(s=0;s<8;s++)t[4*s+0]=this.state[s]>>>24&255,t[4*s+1]=this.state[s]>>>16&255,t[4*s+2]=this.state[s]>>>8&255,t[4*s+3]=this.state[s]>>>0&255;return this},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype._saveState=function(t){for(var e=0;e<this.state.length;e++)t[e]=this.state[e]},e.prototype._restoreState=function(t,e){for(var r=0;r<this.state.length;r++)this.state[r]=t[r];this.bytesHashed=e,this.finished=!1,this.bufferLength=0},e}();t.Hash=n;var i=function(){function t(t){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var e=new Uint8Array(this.blockSize);if(t.length>this.blockSize)(new n).update(t).finish(e).clean();else for(var r=0;r<t.length;r++)e[r]=t[r];for(r=0;r<e.length;r++)e[r]^=54;this.inner.update(e);for(r=0;r<e.length;r++)e[r]^=106;this.outer.update(e),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(r=0;r<e.length;r++)e[r]=0}return t.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},t.prototype.clean=function(){for(var t=0;t<this.istate.length;t++)this.ostate[t]=this.istate[t]=0;this.inner.clean(),this.outer.clean()},t.prototype.update=function(t){return this.inner.update(t),this},t.prototype.finish=function(t){return this.outer.finished?this.outer.finish(t):(this.inner.finish(t),this.outer.update(t,this.digestLength).finish(t)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t}();function o(t){var e=(new n).update(t),r=e.digest();return e.clean(),r}function a(t,e){var r=new i(t).update(e),n=r.digest();return r.clean(),n}function s(t,e,r,n){var i=n[0];if(0===i)throw new Error("hkdf: cannot expand more");e.reset(),i>1&&e.update(t),r&&e.update(r),e.update(n),e.finish(t),n[0]++}t.HMAC=i,t.hash=o,t.default=o,t.hmac=a;var f=new Uint8Array(t.digestLength);t.hkdf=function(t,e,r,n){void 0===e&&(e=f),void 0===n&&(n=32);for(var o=new Uint8Array([1]),h=a(e,t),u=new i(h),c=new Uint8Array(u.digestLength),l=c.length,d=new Uint8Array(n),p=0;p<n;p++)l===c.length&&(s(c,u,r,o),l=0),d[p]=c[l++];return u.clean(),c.fill(0),o.fill(0),d},t.pbkdf2=function(t,e,r,n){for(var o=new i(t),a=o.digestLength,s=new Uint8Array(4),f=new Uint8Array(a),h=new Uint8Array(a),u=new Uint8Array(n),c=0;c*a<n;c++){var l=c+1;s[0]=l>>>24&255,s[1]=l>>>16&255,s[2]=l>>>8&255,s[3]=l>>>0&255,o.reset(),o.update(e),o.update(s),o.finish(h);for(var d=0;d<a;d++)f[d]=h[d];for(d=2;d<=r;d++){o.reset(),o.update(h).finish(h);for(var p=0;p<a;p++)f[p]^=h[p]}for(d=0;d<a&&c*a+d<n;d++)u[c*a+d]=f[d]}for(c=0;c<a;c++)f[c]=h[c]=0;for(c=0;c<4;c++)s[c]=0;return o.clean(),u}}(n);var i=n.default;for(var o in n)i[o]=n[o];t.exports=i}()})));const D={version:"eosio::abi/1.1",types:[{new_type_name:"account_name",type:"name"},{new_type_name:"action_name",type:"name"},{new_type_name:"permission_name",type:"name"},{new_type_name:"chain_alias",type:"uint8"},{new_type_name:"chain_id",type:"checksum256"},{new_type_name:"request_flags",type:"uint8"}],structs:[{name:"permission_level",fields:[{name:"actor",type:"account_name"},{name:"permission",type:"permission_name"}]},{name:"action",fields:[{name:"account",type:"account_name"},{name:"name",type:"action_name"},{name:"authorization",type:"permission_level[]"},{name:"data",type:"bytes"}]},{name:"extension",fields:[{name:"type",type:"uint16"},{name:"data",type:"bytes"}]},{name:"transaction_header",fields:[{name:"expiration",type:"time_point_sec"},{name:"ref_block_num",type:"uint16"},{name:"ref_block_prefix",type:"uint32"},{name:"max_net_usage_words",type:"varuint32"},{name:"max_cpu_usage_ms",type:"uint8"},{name:"delay_sec",type:"varuint32"}]},{name:"transaction",base:"transaction_header",fields:[{name:"context_free_actions",type:"action[]"},{name:"actions",type:"action[]"},{name:"transaction_extensions",type:"extension[]"}]},{name:"info_pair",fields:[{name:"key",type:"string"},{name:"value",type:"bytes"}]},{name:"signing_request",fields:[{name:"chain_id",type:"variant_id"},{name:"req",type:"variant_req"},{name:"flags",type:"request_flags"},{name:"callback",type:"string"},{name:"info",type:"info_pair[]"}]},{name:"identity",fields:[{name:"permission",type:"permission_level?"}]},{name:"request_signature",fields:[{name:"signer",type:"name"},{name:"signature",type:"signature"}]}],variants:[{name:"variant_id",types:["chain_alias","chain_id"]},{name:"variant_req",types:["action","action[]","transaction","identity"]}],actions:[{name:"identity",type:"identity"}]},C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",N=new Uint8Array(256);for(let t=0;t<64;t++)N[C.charCodeAt(t)]=t;const M=L.getTypesFromAbi(L.createInitialTypes(),D);var P;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.EOS=1]="EOS",t[t.TELOS=2]="TELOS",t[t.JUNGLE=3]="JUNGLE",t[t.KYLIN=4]="KYLIN",t[t.WORBLI=5]="WORBLI",t[t.BOS=6]="BOS",t[t.MEETONE=7]="MEETONE",t[t.INSIGHTS=8]="INSIGHTS",t[t.BEOS=9]="BEOS",t[t.WAX=10]="WAX",t[t.PROTON=11]="PROTON",t[t.FIO=12]="FIO"}(P||(P={}));const q=new Map([[P.EOS,"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"],[P.TELOS,"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"],[P.JUNGLE,"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"],[P.KYLIN,"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"],[P.WORBLI,"73647cde120091e0a4b85bced2f3cfdb3041e266cbbe95cee59b73235a1b3b6f"],[P.BOS,"d5a3d18fbb3c084e3b1f3fa98c21014b5f3db536cc15d08f9f6479517c6a3d86"],[P.MEETONE,"cfe6486a83bad4962f232d48003b1824ab5665c36778141034d75e57b956e422"],[P.INSIGHTS,"b042025541e25a472bffde2d62edd457b7e70cee943412b1ea0f044f88591664"],[P.BEOS,"b912d19a6abd2b1b05611ae5be473355d64d95aeff0c09bedc8c166cd6468fe4"],[P.WAX,"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"],[P.PROTON,"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0"],[P.FIO,"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c"]]),j={actor:"............1",permission:"............2"};let F=(()=>{class t{constructor(t,e,r,n,i,o,a){if(0!=(1&e.flags)&&"identity"===e.req[0])throw new Error("Invalid request (identity request cannot be broadcast)");if(0==(1&e.flags)&&0===e.callback.length)throw new Error("Invalid request (nothing to do, no broadcast or callback set)");this.version=t,this.data=e,this.textEncoder=r,this.textDecoder=n,this.zlib=i,this.abiProvider=o,this.signature=a}static async create(e,r={}){const n=r.textEncoder||new TextEncoder,i=r.textDecoder||new TextDecoder,o={},a=t=>V(t,n,i,r.abiProvider);if(void 0!==e.identity)o.req=["identity",e.identity];else if(!e.action||e.actions||e.transaction)if(!e.actions||e.action||e.transaction){if(!e.transaction||e.action||e.actions)throw new TypeError("Invalid arguments: Must have exactly one of action, actions or transaction");{const t=e.transaction;void 0===t.expiration&&(t.expiration="1970-01-01T00:00:00.000"),void 0===t.ref_block_num&&(t.ref_block_num=0),void 0===t.ref_block_prefix&&(t.ref_block_prefix=0),void 0===t.context_free_actions&&(t.context_free_actions=[]),void 0===t.transaction_extensions&&(t.transaction_extensions=[]),void 0===t.delay_sec&&(t.delay_sec=0),void 0===t.max_cpu_usage_ms&&(t.max_cpu_usage_ms=0),void 0===t.max_net_usage_words&&(t.max_net_usage_words=0),t.actions=await Promise.all(t.actions.map(a)),o.req=["transaction",t]}}else 1===e.actions.length?o.req=["action",await a(e.actions[0])]:o.req=["action[]",await Promise.all(e.actions.map(a))];else o.req=["action",await a(e.action)];if(o.chain_id=W(e.chainId),o.flags=0,(void 0===e.broadcast||e.broadcast)&&(o.flags|=1),"string"==typeof e.callback?o.callback=e.callback:"object"==typeof e.callback?(o.callback=e.callback.url,e.callback.background&&(o.flags|=2)):o.callback="",o.info=[],"object"==typeof e.info)for(const t in e.info)if(e.info.hasOwnProperty(t)){let r=e.info[t];if("string"!=typeof t)throw new Error("Invalid info dict, keys must be strings");"string"==typeof r&&(r=n.encode(r)),o.info.push({key:t,value:r})}const s=new t(2,o,n,i,r.zlib,r.abiProvider);return r.signatureProvider&&s.sign(r.signatureProvider),s}static identity(t,e={}){let r={actor:t.account||"............1",permission:t.permission||"............2"};return"............1"===r.actor&&"............2"===r.permission&&(r=null),this.create({identity:{permission:r},broadcast:!1,callback:t.callback,info:t.info},e)}static fromTransaction(e,r,n={}){"string"!=typeof e&&(e=L.arrayToHex(e)),"string"==typeof r&&(r=L.hexToUint8Array(r));let i=new L.SerialBuffer({textDecoder:n.textDecoder,textEncoder:n.textEncoder});i.push(2);const o=W(e);return"chain_alias"===o[0]?(i.push(0),i.push(o[1])):(i.push(1),i.pushArray(L.hexToUint8Array(o[1]))),i.push(2),i.pushArray(r),i.push(1),i.push(0),i.push(0),t.fromData(i.asUint8Array(),n)}static from(e,r={}){if("string"!=typeof e)throw new Error("Invalid request uri");const[n,i]=e.split(":");if("esr"!==n&&"web+esr"!==n)throw new Error("Invalid scheme");const o=function(t){const e=.75*t.length,r=new Uint8Array(e);let n,i,o,a,s=0;for(let e=0;e<t.length;e+=4)n=N[t.charCodeAt(e)],i=N[t.charCodeAt(e+1)],o=N[t.charCodeAt(e+2)],a=N[t.charCodeAt(e+3)],r[s++]=n<<2|i>>4,r[s++]=(15&i)<<4|o>>2,r[s++]=(3&o)<<6|63&a;return r}(i.startsWith("//")?i.slice(2):i);return t.fromData(o,r)}static fromData(e,r={}){const n=e[0],i=-129&n;if(2!==i)throw new Error("Unsupported protocol version");let o=e.slice(1);if(0!=(128&n)){if(!r.zlib)throw new Error("Compressed URI needs zlib");o=r.zlib.inflateRaw(o)}const a=r.textEncoder||new TextEncoder,s=r.textDecoder||new TextDecoder,f=new L.SerialBuffer({textEncoder:a,textDecoder:s,array:o}),h=t.type.deserialize(f);let u;if(f.haveReadData()){u=M.get("request_signature").deserialize(f)}return new t(i,h,a,s,r.zlib,r.abiProvider,u)}sign(t){const e=this.getSignatureDigest();this.signature=t.sign(L.arrayToHex(e))}getSignatureDigest(){const t=new L.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return t.pushArray([this.version,114,101,113,117,101,115,116]),t.pushArray(this.getData()),z(t.asUint8Array())}setSignature(t,e){this.signature={signer:t,signature:e}}setCallback(t,e){this.data.callback=t,e?this.data.flags|=2:this.data.flags&=-3}setBroadcast(t){t?this.data.flags|=1:this.data.flags&=-2}encode(t,e){const r=void 0!==t?t:void 0!==this.zlib;if(r&&void 0===this.zlib)throw new Error("Need zlib to compress");let n=this.version;const i=this.getData(),o=this.getSignatureData();let a=new Uint8Array(i.byteLength+o.byteLength);if(a.set(i,0),a.set(o,i.byteLength),r){const t=this.zlib.deflateRaw(a);a.byteLength>t.byteLength&&(n|=128,a=t)}const s=new Uint8Array(1+a.byteLength);s[0]=n,s.set(a,1);let f="esr:";return!1!==e&&(f+="//"),f+function(t){const e=t.byteLength,r=e%3,n=e-r,i=[];let o,a,s,f,h;for(let e=0;e<n;e+=3)h=t[e]<<16|t[e+1]<<8|t[e+2],o=(16515072&h)>>18,a=(258048&h)>>12,s=(4032&h)>>6,f=63&h,i.push(C[o]+C[a]+C[s]+C[f]);return 1===r?(h=t[n],o=(252&h)>>2,a=(3&h)<<4,i.push(C[o]+C[a])):2===r&&(h=t[n]<<8|t[n+1],o=(64512&h)>>10,a=(1008&h)>>4,s=(15&h)<<2,i.push(C[o]+C[a]+C[s])),i.join("")}(s)}getData(){const e=new L.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return t.type.serialize(e,this.data),e.asUint8Array()}getSignatureData(){if(!this.signature)return new Uint8Array(0);const t=new L.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return M.get("request_signature").serialize(t,this.signature),t.asUint8Array()}getRequiredAbis(){return this.getRawActions().filter(t=>!Z(t)).map(t=>t.account).filter((t,e,r)=>r.indexOf(t)===e)}requiresTapos(){let t=this.getRawTransaction();return!this.isIdentity()&&!Y(t)}async fetchAbis(t){const e=t||this.abiProvider;if(!e)throw new Error("Missing ABI provider");const r=new Map;return await Promise.all(this.getRequiredAbis().map(async t=>{r.set(t,await e.getAbi(t))})),r}resolveActions(t,e){return this.getRawActions().map(r=>{let n;if(n=Z(r)?D:t.get(r.account),!n)throw new Error("Missing ABI definition for "+r.account);const i=H(n);e&&(i.types.get("name").deserialize=t=>{const r=t.getName();return"............1"===r?e.actor:"............2"===r?e.permission:r});const o=L.deserializeAction(i,r.account,r.name,r.authorization,r.data,this.textEncoder,this.textDecoder);return e&&(o.authorization=o.authorization.map(t=>{let{actor:r,permission:n}=t;return"............1"===r&&(r=e.actor),"............2"===n&&(n=e.permission),"............1"===n&&(n=e.permission),{actor:r,permission:n}})),o})}resolveTransaction(t,e,r={}){let n=this.getRawTransaction();if(!this.isIdentity()&&!Y(n))if(void 0!==r.expiration&&void 0!==r.ref_block_num&&void 0!==r.ref_block_prefix)n.expiration=r.expiration,n.ref_block_num=r.ref_block_num,n.ref_block_prefix=r.ref_block_prefix;else{if(void 0===r.block_num||void 0===r.ref_block_prefix||void 0===r.timestamp)throw new Error("Invalid transaction context, need either a reference block or explicit TAPoS values");{const t=L.transactionHeader(r,void 0!==r.expire_seconds?r.expire_seconds:60);n.expiration=t.expiration,n.ref_block_num=t.ref_block_num,n.ref_block_prefix=t.ref_block_prefix}}const i=this.resolveActions(t,e);return{...n,actions:i}}resolve(e,r,n={}){const i=this.resolveTransaction(e,r,n),o=new L.SerialBuffer({textDecoder:this.textDecoder,textEncoder:this.textEncoder}),a=i.actions.map(t=>{let r;if(r=Z(t)?D:e.get(t.account),!r)throw new Error("Missing ABI definition for "+t.account);const n=H(r),{textDecoder:i,textEncoder:o}=this;return L.serializeAction(n,t.account,t.name,t.authorization,t.data,o,i)});t.transactionType.serialize(o,{...i,actions:a});const s=o.asUint8Array();return new K(this,r,i,s)}getChainId(){const t=this.data.chain_id;switch(t[0]){case"chain_id":return t[1];case"chain_alias":if(q.has(t[1]))return q.get(t[1]);throw new Error("Unknown chain id alias");default:throw new Error("Invalid signing request data")}}getRawActions(){const e=this.data.req;switch(e[0]){case"action":return[e[1]];case"action[]":return e[1];case"identity":let r="0101000000000000000200000000000000",n=[j];if(e[1].permission){let i=new L.SerialBuffer({textDecoder:this.textDecoder,textEncoder:this.textEncoder});t.idType.serialize(i,e[1]),r=L.arrayToHex(i.asUint8Array()),n=[e[1].permission]}return[{account:"",name:"identity",authorization:n,data:r}];case"transaction":return e[1].actions;default:throw new Error("Invalid signing request data")}}getRawTransaction(){const t=this.data.req;switch(t[0]){case"transaction":return t[1];case"action":case"action[]":case"identity":return{actions:this.getRawActions(),context_free_actions:[],transaction_extensions:[],expiration:"1970-01-01T00:00:00.000",ref_block_num:0,ref_block_prefix:0,max_cpu_usage_ms:0,max_net_usage_words:0,delay_sec:0};default:throw new Error("Invalid signing request data")}}isIdentity(){return"identity"===this.data.req[0]}shouldBroadcast(){return!this.isIdentity()&&0!=(1&this.data.flags)}getIdentity(){if("identity"===this.data.req[0]&&this.data.req[1].permission){const{actor:t}=this.data.req[1].permission;return"............1"===t?null:t}return null}getIdentityPermission(){if("identity"===this.data.req[0]&&this.data.req[1].permission){const{permission:t}=this.data.req[1].permission;return"............1"===t?null:t}return null}getRawInfo(){let t={};for(const{key:e,value:r}of this.data.info)t[e]="string"==typeof r?L.hexToUint8Array(r):r;return t}getInfo(){let t={},e=this.getRawInfo();for(const r of Object.keys(e))t[r]=this.textDecoder.decode(e[r]);return t}setInfoKey(t,e){let r,n=this.data.info.find(e=>e.key===t);switch(typeof e){case"string":r=this.textEncoder.encode(e);break;case"boolean":r=new Uint8Array([e?1:0]);break;default:throw new TypeError("Invalid value type, expected string or boolean.")}n?n.value=r:(n={key:t,value:r},this.data.info.push(n))}clone(){let e;this.signature&&(e=JSON.parse(JSON.stringify(this.signature)));const r=JSON.stringify(this.data,(t,e)=>e instanceof Uint8Array?Array.from(e):e);return new t(this.version,JSON.parse(r),this.textEncoder,this.textDecoder,this.zlib,this.abiProvider,e)}toString(){return this.encode()}toJSON(){return this.encode()}}return t.type=M.get("signing_request"),t.idType=M.get("identity"),t.transactionType=M.get("transaction"),t})();class K{constructor(t,e,r,n){this.request=t,this.signer=e,this.transaction=r,this.serializedTransaction=n}static async fromPayload(t,e={}){const r=F.from(t.req,e),n=await r.fetchAbis();return r.resolve(n,{actor:t.sa,permission:t.sp},{ref_block_num:Number(t.rbn),ref_block_prefix:Number(t.rid),expiration:t.ex})}getTransactionId(){return L.arrayToHex(z(this.serializedTransaction))}getCallback(t,e){const{callback:r,flags:n}=this.request.data;if(!r||0===r.length)return null;if(!t||0===t.length)throw new Error("Must have at least one signature to resolve callback");const i={sig:t[0],tx:this.getTransactionId(),rbn:String(this.transaction.ref_block_num),rid:String(this.transaction.ref_block_prefix),ex:this.transaction.expiration,req:this.request.encode(),sa:this.signer.actor,sp:this.signer.permission};for(const[e,r]of t.slice(1).entries())i["sig"+e]=r;e&&(i.bn=String(e));const o=r.replace(/({{([a-z0-9]+)}})/g,(t,e,r)=>i[r]||"");return{background:0!=(2&n),payload:i,url:o}}}function H(t){const e=L.getTypesFromAbi(L.createInitialTypes(),t),r=new Map;for(const{name:n,type:i}of t.actions)r.set(n,L.getType(e,i));return{types:e,actions:r}}async function V(t,e,r,n){if("string"==typeof t.data)return t;let i;if(Z(t))i=D;else{if(!n)throw new Error("Missing abi provider");i=await n.getAbi(t.account)}const o=H(i);return L.serializeAction(o,t.account,t.name,t.authorization,t.data,e,r)}function W(t){if(t||(t=P.EOS),"number"==typeof t)return["chain_alias",t];{const e=function(t){t=t.toLowerCase();for(const[t,e]of q);return P.UNKNOWN}(t);return e!==P.UNKNOWN?["chain_alias",e]:["chain_id",t]}}function Z(t){return""===t.account&&"identity"===t.name}function Y(t){return!("1970-01-01T00:00:00.000"===t.expiration&&0===t.ref_block_num&&0===t.ref_block_prefix)}var G="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},X=[],J=[],$="undefined"!=typeof Uint8Array?Uint8Array:Array,Q=!1;function tt(){Q=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)X[e]=t[e],J[t.charCodeAt(e)]=e;J["-".charCodeAt(0)]=62,J["_".charCodeAt(0)]=63}function et(t,e,r){for(var n,i,o=[],a=e;a<r;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(X[(i=n)>>18&63]+X[i>>12&63]+X[i>>6&63]+X[63&i]);return o.join("")}function rt(t){var e;Q||tt();for(var r=t.length,n=r%3,i="",o=[],a=0,s=r-n;a<s;a+=16383)o.push(et(t,a,a+16383>s?s:a+16383));return 1===n?(e=t[r-1],i+=X[e>>2],i+=X[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=X[e>>10],i+=X[e>>4&63],i+=X[e<<2&63],i+="="),o.push(i),o.join("")}function nt(t,e,r,n,i){var o,a,s=8*i-n-1,f=(1<<s)-1,h=f>>1,u=-7,c=r?i-1:0,l=r?-1:1,d=t[e+c];for(c+=l,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=256*o+t[e+c],c+=l,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+t[e+c],c+=l,u-=8);if(0===o)o=1-h;else{if(o===f)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=h}return(d?-1:1)*a*Math.pow(2,o-n)}function it(t,e,r,n,i,o){var a,s,f,h=8*o-i-1,u=(1<<h)-1,c=u>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-a))<1&&(a--,f*=2),(e+=a+c>=1?l/f:l*Math.pow(2,1-c))*f>=2&&(a++,f/=2),a+c>=u?(s=0,a=u):a+c>=1?(s=(e*f-1)*Math.pow(2,i),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,h+=i;h>0;t[r+d]=255&a,d+=p,a/=256,h-=8);t[r+d-p]|=128*g}var ot={}.toString,at=Array.isArray||function(t){return"[object Array]"==ot.call(t)};ut.TYPED_ARRAY_SUPPORT=void 0===G.TYPED_ARRAY_SUPPORT||G.TYPED_ARRAY_SUPPORT;var st=ft();function ft(){return ut.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ht(t,e){if(ft()<e)throw new RangeError("Invalid typed array length");return ut.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=ut.prototype:(null===t&&(t=new ut(e)),t.length=e),t}function ut(t,e,r){if(!(ut.TYPED_ARRAY_SUPPORT||this instanceof ut))return new ut(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return dt(this,t)}return ct(this,t,e,r)}function ct(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);ut.TYPED_ARRAY_SUPPORT?(t=e).__proto__=ut.prototype:t=pt(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!ut.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|vt(e,r),i=(t=ht(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(yt(e)){var r=0|gt(e.length);return 0===(t=ht(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?ht(t,0):pt(t,e);if("Buffer"===e.type&&at(e.data))return pt(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function lt(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function dt(t,e){if(lt(e),t=ht(t,e<0?0:0|gt(e)),!ut.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function pt(t,e){var r=e.length<0?0:0|gt(e.length);t=ht(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function gt(t){if(t>=ft())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ft().toString(16)+" bytes");return 0|t}function yt(t){return!(null==t||!t._isBuffer)}function vt(t,e){if(yt(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Kt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Ht(t).length;default:if(n)return Kt(t).length;e=(""+e).toLowerCase(),n=!0}}function bt(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Ot(this,e,r);case"utf8":case"utf-8":return It(this,e,r);case"ascii":return Rt(this,e,r);case"latin1":case"binary":return Ut(this,e,r);case"base64":return Bt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lt(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function wt(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function mt(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=ut.from(e,n)),yt(e))return 0===e.length?-1:_t(t,e,r,n,i);if("number"==typeof e)return e&=255,ut.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):_t(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _t(t,e,r,n,i){var o,a=1,s=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,f/=2,r/=2}function h(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var u=-1;for(o=r;o<s;o++)if(h(t,o)===h(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===f)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(r+f>s&&(r=s-f),o=r;o>=0;o--){for(var c=!0,l=0;l<f;l++)if(h(t,o+l)!==h(e,l)){c=!1;break}if(c)return o}return-1}function Et(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function St(t,e,r,n){return Vt(Kt(e,t.length-r),t,r,n)}function kt(t,e,r,n){return Vt(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function Tt(t,e,r,n){return kt(t,e,r,n)}function At(t,e,r,n){return Vt(Ht(e),t,r,n)}function xt(t,e,r,n){return Vt(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function Bt(t,e,r){return 0===e&&r===t.length?rt(t):rt(t.slice(e,r))}function It(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,f,h=t[i],u=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=r)switch(c){case 1:h<128&&(u=h);break;case 2:128==(192&(o=t[i+1]))&&(f=(31&h)<<6|63&o)>127&&(u=f);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(f=(15&h)<<12|(63&o)<<6|63&a)>2047&&(f<55296||f>57343)&&(u=f);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(f=(15&h)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&f<1114112&&(u=f)}null===u?(u=65533,c=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=c}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}ut.poolSize=8192,ut._augment=function(t){return t.__proto__=ut.prototype,t},ut.from=function(t,e,r){return ct(null,t,e,r)},ut.TYPED_ARRAY_SUPPORT&&(ut.prototype.__proto__=Uint8Array.prototype,ut.__proto__=Uint8Array),ut.alloc=function(t,e,r){return function(t,e,r,n){return lt(e),e<=0?ht(t,e):void 0!==r?"string"==typeof n?ht(t,e).fill(r,n):ht(t,e).fill(r):ht(t,e)}(null,t,e,r)},ut.allocUnsafe=function(t){return dt(null,t)},ut.allocUnsafeSlow=function(t){return dt(null,t)},ut.isBuffer=Wt,ut.compare=function(t,e){if(!yt(t)||!yt(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},ut.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ut.concat=function(t,e){if(!at(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return ut.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=ut.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!yt(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},ut.byteLength=vt,ut.prototype._isBuffer=!0,ut.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)wt(this,e,e+1);return this},ut.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)wt(this,e,e+3),wt(this,e+1,e+2);return this},ut.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)wt(this,e,e+7),wt(this,e+1,e+6),wt(this,e+2,e+5),wt(this,e+3,e+4);return this},ut.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?It(this,0,t):bt.apply(this,arguments)},ut.prototype.equals=function(t){if(!yt(t))throw new TypeError("Argument must be a Buffer");return this===t||0===ut.compare(this,t)},ut.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},ut.prototype.compare=function(t,e,r,n,i){if(!yt(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),f=this.slice(n,i),h=t.slice(e,r),u=0;u<s;++u)if(f[u]!==h[u]){o=f[u],a=h[u];break}return o<a?-1:a<o?1:0},ut.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},ut.prototype.indexOf=function(t,e,r){return mt(this,t,e,r,!0)},ut.prototype.lastIndexOf=function(t,e,r){return mt(this,t,e,r,!1)},ut.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Et(this,t,e,r);case"utf8":case"utf-8":return St(this,t,e,r);case"ascii":return kt(this,t,e,r);case"latin1":case"binary":return Tt(this,t,e,r);case"base64":return At(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xt(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},ut.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Rt(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function Ut(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Ot(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=Ft(t[o]);return i}function Lt(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function zt(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function Dt(t,e,r,n,i,o){if(!yt(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Ct(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Nt(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function Mt(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Pt(t,e,r,n,i){return i||Mt(t,0,r,4),it(t,e,r,n,23,4),r+4}function qt(t,e,r,n,i){return i||Mt(t,0,r,8),it(t,e,r,n,52,8),r+8}ut.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),ut.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=ut.prototype;else{var i=e-t;r=new ut(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},ut.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||zt(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},ut.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||zt(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},ut.prototype.readUInt8=function(t,e){return e||zt(t,1,this.length),this[t]},ut.prototype.readUInt16LE=function(t,e){return e||zt(t,2,this.length),this[t]|this[t+1]<<8},ut.prototype.readUInt16BE=function(t,e){return e||zt(t,2,this.length),this[t]<<8|this[t+1]},ut.prototype.readUInt32LE=function(t,e){return e||zt(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},ut.prototype.readUInt32BE=function(t,e){return e||zt(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},ut.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||zt(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},ut.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||zt(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},ut.prototype.readInt8=function(t,e){return e||zt(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},ut.prototype.readInt16LE=function(t,e){e||zt(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},ut.prototype.readInt16BE=function(t,e){e||zt(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},ut.prototype.readInt32LE=function(t,e){return e||zt(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},ut.prototype.readInt32BE=function(t,e){return e||zt(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},ut.prototype.readFloatLE=function(t,e){return e||zt(t,4,this.length),nt(this,t,!0,23,4)},ut.prototype.readFloatBE=function(t,e){return e||zt(t,4,this.length),nt(this,t,!1,23,4)},ut.prototype.readDoubleLE=function(t,e){return e||zt(t,8,this.length),nt(this,t,!0,52,8)},ut.prototype.readDoubleBE=function(t,e){return e||zt(t,8,this.length),nt(this,t,!1,52,8)},ut.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||Dt(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},ut.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||Dt(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},ut.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||Dt(this,t,e,1,255,0),ut.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},ut.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||Dt(this,t,e,2,65535,0),ut.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Ct(this,t,e,!0),e+2},ut.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||Dt(this,t,e,2,65535,0),ut.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Ct(this,t,e,!1),e+2},ut.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||Dt(this,t,e,4,4294967295,0),ut.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Nt(this,t,e,!0),e+4},ut.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||Dt(this,t,e,4,4294967295,0),ut.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Nt(this,t,e,!1),e+4},ut.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);Dt(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},ut.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);Dt(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},ut.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||Dt(this,t,e,1,127,-128),ut.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},ut.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||Dt(this,t,e,2,32767,-32768),ut.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Ct(this,t,e,!0),e+2},ut.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||Dt(this,t,e,2,32767,-32768),ut.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Ct(this,t,e,!1),e+2},ut.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||Dt(this,t,e,4,2147483647,-2147483648),ut.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Nt(this,t,e,!0),e+4},ut.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||Dt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),ut.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Nt(this,t,e,!1),e+4},ut.prototype.writeFloatLE=function(t,e,r){return Pt(this,t,e,!0,r)},ut.prototype.writeFloatBE=function(t,e,r){return Pt(this,t,e,!1,r)},ut.prototype.writeDoubleLE=function(t,e,r){return qt(this,t,e,!0,r)},ut.prototype.writeDoubleBE=function(t,e,r){return qt(this,t,e,!1,r)},ut.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!ut.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},ut.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!ut.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=yt(t)?t:Kt(new ut(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var jt=/[^+\/0-9A-Za-z-_]/g;function Ft(t){return t<16?"0"+t.toString(16):t.toString(16)}function Kt(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Ht(t){return function(t){var e,r,n,i,o,a;Q||tt();var s=t.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[s-2]?2:"="===t[s-1]?1:0,a=new $(3*s/4-o),n=o>0?s-4:s;var f=0;for(e=0,r=0;e<n;e+=4,r+=3)i=J[t.charCodeAt(e)]<<18|J[t.charCodeAt(e+1)]<<12|J[t.charCodeAt(e+2)]<<6|J[t.charCodeAt(e+3)],a[f++]=i>>16&255,a[f++]=i>>8&255,a[f++]=255&i;return 2===o?(i=J[t.charCodeAt(e)]<<2|J[t.charCodeAt(e+1)]>>4,a[f++]=255&i):1===o&&(i=J[t.charCodeAt(e)]<<10|J[t.charCodeAt(e+1)]<<4|J[t.charCodeAt(e+2)]>>2,a[f++]=i>>8&255,a[f++]=255&i),a}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(jt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Vt(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Wt(t){return null!=t&&(!!t._isBuffer||Zt(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Zt(t.slice(0,0))}(t))}function Zt(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Yt=Object.freeze({__proto__:null,Buffer:ut,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),ut.alloc(+t)},isBuffer:Wt,kMaxLength:st});function Gt(){throw new Error("setTimeout has not been defined")}function Xt(){throw new Error("clearTimeout has not been defined")}var Jt=Gt,$t=Xt;function Qt(t){if(Jt===setTimeout)return setTimeout(t,0);if((Jt===Gt||!Jt)&&setTimeout)return Jt=setTimeout,setTimeout(t,0);try{return Jt(t,0)}catch(e){try{return Jt.call(null,t,0)}catch(e){return Jt.call(this,t,0)}}}"function"==typeof G.setTimeout&&(Jt=setTimeout),"function"==typeof G.clearTimeout&&($t=clearTimeout);var te,ee=[],re=!1,ne=-1;function ie(){re&&te&&(re=!1,te.length?ee=te.concat(ee):ne=-1,ee.length&&oe())}function oe(){if(!re){var t=Qt(ie);re=!0;for(var e=ee.length;e;){for(te=ee,ee=[];++ne<e;)te&&te[ne].run();ne=-1,e=ee.length}te=null,re=!1,function(t){if($t===clearTimeout)return clearTimeout(t);if(($t===Xt||!$t)&&clearTimeout)return $t=clearTimeout,clearTimeout(t);try{$t(t)}catch(e){try{return $t.call(null,t)}catch(e){return $t.call(this,t)}}}(t)}}function ae(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ee.push(new se(t,e)),1!==ee.length||re||Qt(oe)}function se(t,e){this.fun=t,this.array=e}se.prototype.run=function(){this.fun.apply(null,this.array)};function fe(){}var he=fe,ue=fe,ce=fe,le=fe,de=fe,pe=fe,ge=fe;var ye=G.performance||{},ve=ye.now||ye.mozNow||ye.msNow||ye.oNow||ye.webkitNow||function(){return(new Date).getTime()};var be=new Date;var we={nextTick:ae,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:he,addListener:ue,once:ce,off:le,removeListener:de,removeAllListeners:pe,emit:ge,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*ve.call(ye),r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r-=t[0],(n-=t[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-be)/1e3}},me=h((function(t,e){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=Yt.Buffer;function n(t,e){for(var r in t)e[r]=t[r]}function i(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=Yt:(n(Yt,e),e.Buffer=i),i.prototype=Object.create(r.prototype),n(r,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return Yt.SlowBuffer(t)}})),_e=(me.Buffer,h((function(t){var e=me.Buffer,r=s.crypto||s.msCrypto;r&&r.getRandomValues?t.exports=function(t,n){if(t>65536)throw new Error("requested too many random bytes");var i=new s.Uint8Array(t);t>0&&r.getRandomValues(i);var o=e.from(i.buffer);if("function"==typeof n)return we.nextTick((function(){n(null,o)}));return o}:t.exports=function(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}))),Ee=h((function(t){
/**
     * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
     * Released under the Apache License, Version 2.0
     * see: https://github.com/dcodeIO/long.js for details
     */
!function(e,r){t&&t.exports?t.exports=r():(e.dcodeIO=e.dcodeIO||{}).Long=r()}(s,(function(){function t(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function e(t){return!0===(t&&t.__isLong__)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),t.isLong=e;var r={},n={};function i(t,e){var i,o,s;return e?(s=0<=(t>>>=0)&&t<256)&&(o=n[t])?o:(i=a(t,(0|t)<0?-1:0,!0),s&&(n[t]=i),i):(s=-128<=(t|=0)&&t<128)&&(o=r[t])?o:(i=a(t,t<0?-1:0,!1),s&&(r[t]=i),i)}function o(t,e){if(isNaN(t)||!isFinite(t))return e?g:p;if(e){if(t<0)return g;if(t>=c)return m}else{if(t<=-l)return _;if(t+1>=l)return w}return t<0?o(-t,e).neg():a(t%u|0,t/u|0,e)}function a(e,r,n){return new t(e,r,n)}t.fromInt=i,t.fromNumber=o,t.fromBits=a;var s=Math.pow;function f(t,e,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return p;if("number"==typeof e?(r=e,e=!1):e=!!e,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return f(t.substring(1),e,r).neg();for(var i=o(s(r,8)),a=p,h=0;h<t.length;h+=8){var u=Math.min(8,t.length-h),c=parseInt(t.substring(h,h+u),r);if(u<8){var l=o(s(r,u));a=a.mul(l).add(o(c))}else a=(a=a.mul(i)).add(o(c))}return a.unsigned=e,a}function h(e){return e instanceof t?e:"number"==typeof e?o(e):"string"==typeof e?f(e):a(e.low,e.high,e.unsigned)}t.fromString=f,t.fromValue=h;var u=4294967296,c=u*u,l=c/2,d=i(1<<24),p=i(0);t.ZERO=p;var g=i(0,!0);t.UZERO=g;var y=i(1);t.ONE=y;var v=i(1,!0);t.UONE=v;var b=i(-1);t.NEG_ONE=b;var w=a(-1,2147483647,!1);t.MAX_VALUE=w;var m=a(-1,-1,!0);t.MAX_UNSIGNED_VALUE=m;var _=a(0,-2147483648,!1);t.MIN_VALUE=_;var E=t.prototype;return E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},E.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var e=o(t),r=this.div(e),n=r.mul(e).sub(this);return r.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=o(s(t,6),this.unsigned),a=this,f="";;){var h=a.div(i),u=(a.sub(h.mul(i)).toInt()>>>0).toString(t);if((a=h).isZero())return u+f;for(;u.length<6;)u="0"+u;f=""+u+f}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},E.isZero=function(){return 0===this.high&&0===this.low},E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(t){return e(t)||(t=h(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},E.eq=E.equals,E.notEquals=function(t){return!this.eq(t)},E.neq=E.notEquals,E.lessThan=function(t){return this.comp(t)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(t){return this.comp(t)<=0},E.lte=E.lessThanOrEqual,E.greaterThan=function(t){return this.comp(t)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(t){return this.comp(t)>=0},E.gte=E.greaterThanOrEqual,E.compare=function(t){if(e(t)||(t=h(t)),this.eq(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(y)},E.neg=E.negate,E.add=function(t){e(t)||(t=h(t));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,s=t.high>>>16,f=65535&t.high,u=t.low>>>16,c=0,l=0,d=0,p=0;return d+=(p+=o+(65535&t.low))>>>16,l+=(d+=i+u)>>>16,c+=(l+=n+f)>>>16,c+=r+s,a((d&=65535)<<16|(p&=65535),(c&=65535)<<16|(l&=65535),this.unsigned)},E.subtract=function(t){return e(t)||(t=h(t)),this.add(t.neg())},E.sub=E.subtract,E.multiply=function(t){if(this.isZero())return p;if(e(t)||(t=h(t)),t.isZero())return p;if(this.eq(_))return t.isOdd()?_:p;if(t.eq(_))return this.isOdd()?_:p;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(d)&&t.lt(d))return o(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,f=t.high>>>16,u=65535&t.high,c=t.low>>>16,l=65535&t.low,g=0,y=0,v=0,b=0;return v+=(b+=s*l)>>>16,y+=(v+=i*l)>>>16,v&=65535,y+=(v+=s*c)>>>16,g+=(y+=n*l)>>>16,y&=65535,g+=(y+=i*c)>>>16,y&=65535,g+=(y+=s*u)>>>16,g+=r*l+n*c+i*u+s*f,a((v&=65535)<<16|(b&=65535),(g&=65535)<<16|(y&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(t){if(e(t)||(t=h(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:p;var r,n,i;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return g;if(t.gt(this.shru(1)))return v;i=g}else{if(this.eq(_))return t.eq(y)||t.eq(b)?_:t.eq(_)?y:(r=this.shr(1).div(t).shl(1)).eq(p)?t.isNegative()?y:b:(n=this.sub(t.mul(r)),i=r.add(n.div(t)));if(t.eq(_))return this.unsigned?g:p;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=p}for(n=this;n.gte(t);){r=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),f=a<=48?1:s(2,a-48),u=o(r),c=u.mul(t);c.isNegative()||c.gt(n);)c=(u=o(r-=f,this.unsigned)).mul(t);u.isZero()&&(u=y),i=i.add(u),n=n.sub(c)}return i},E.div=E.divide,E.modulo=function(t){return e(t)||(t=h(t)),this.sub(this.div(t).mul(t))},E.mod=E.modulo,E.not=function(){return a(~this.low,~this.high,this.unsigned)},E.and=function(t){return e(t)||(t=h(t)),a(this.low&t.low,this.high&t.high,this.unsigned)},E.or=function(t){return e(t)||(t=h(t)),a(this.low|t.low,this.high|t.high,this.unsigned)},E.xor=function(t){return e(t)||(t=h(t)),a(this.low^t.low,this.high^t.high,this.unsigned)},E.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):a(0,this.low<<t-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):a(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(t){if(e(t)&&(t=t.toInt()),0===(t&=63))return this;var r=this.high;return t<32?a(this.low>>>t|r<<32-t,r>>>t,this.unsigned):a(32===t?r:r>>>t-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},E.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},E.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t}))})),Se=h((function(t){
/**
     * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
     * Backing buffer: ArrayBuffer, Accessor: Uint8Array
     * Released under the Apache License, Version 2.0
     * see: https://github.com/dcodeIO/bytebuffer.js for details
     */
!function(e,r){t&&t.exports?t.exports=function(){var t;try{t=Ee}catch(t){}return r(t)}():(e.dcodeIO=e.dcodeIO||{}).ByteBuffer=r(e.dcodeIO.Long)}(s,(function(t){var e=function(t,r,i){if(void 0===t&&(t=e.DEFAULT_CAPACITY),void 0===r&&(r=e.DEFAULT_ENDIAN),void 0===i&&(i=e.DEFAULT_NOASSERT),!i){if((t|=0)<0)throw RangeError("Illegal capacity");r=!!r,i=!!i}this.buffer=0===t?n:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=r,this.noAssert=i};e.VERSION="5.0.1",e.LITTLE_ENDIAN=!0,e.BIG_ENDIAN=!1,e.DEFAULT_CAPACITY=16,e.DEFAULT_ENDIAN=e.BIG_ENDIAN,e.DEFAULT_NOASSERT=!1,e.Long=t||null;var r=e.prototype;r.__isByteBuffer__,Object.defineProperty(r,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var n=new ArrayBuffer(0),i=String.fromCharCode;function o(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function a(){var t=[],e=[];return function(){if(0===arguments.length)return e.join("")+i.apply(String,t);t.length+arguments.length>1024&&(e.push(i.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}function s(t,e,r,n,i){var o,a,s=8*i-n-1,f=(1<<s)-1,h=f>>1,u=-7,c=r?i-1:0,l=r?-1:1,d=t[e+c];for(c+=l,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=256*o+t[e+c],c+=l,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+t[e+c],c+=l,u-=8);if(0===o)o=1-h;else{if(o===f)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=h}return(d?-1:1)*a*Math.pow(2,o-n)}function f(t,e,r,n,i,o){var a,s,f,h=8*o-i-1,u=(1<<h)-1,c=u>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-a))<1&&(a--,f*=2),(e+=a+c>=1?l/f:l*Math.pow(2,1-c))*f>=2&&(a++,f/=2),a+c>=u?(s=0,a=u):a+c>=1?(s=(e*f-1)*Math.pow(2,i),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,h+=i;h>0;t[r+d]=255&a,d+=p,a/=256,h-=8);t[r+d-p]|=128*g}e.accessor=function(){return Uint8Array},e.allocate=function(t,r,n){return new e(t,r,n)},e.concat=function(t,r,n,i){"boolean"!=typeof r&&"string"==typeof r||(i=n,n=r,r=void 0);for(var o,a=0,s=0,f=t.length;s<f;++s)e.isByteBuffer(t[s])||(t[s]=e.wrap(t[s],r)),(o=t[s].limit-t[s].offset)>0&&(a+=o);if(0===a)return new e(0,n,i);var h,u=new e(a,n,i);for(s=0;s<f;)(o=(h=t[s++]).limit-h.offset)<=0||(u.view.set(h.view.subarray(h.offset,h.limit),u.offset),u.offset+=o);return u.limit=u.offset,u.offset=0,u},e.isByteBuffer=function(t){return!0===(t&&t.__isByteBuffer__)},e.type=function(){return ArrayBuffer},e.wrap=function(t,n,i,o){if("string"!=typeof n&&(o=i,i=n,n=void 0),"string"==typeof t)switch(void 0===n&&(n="utf8"),n){case"base64":return e.fromBase64(t,i);case"hex":return e.fromHex(t,i);case"binary":return e.fromBinary(t,i);case"utf8":return e.fromUTF8(t,i);case"debug":return e.fromDebug(t,i);default:throw Error("Unsupported encoding: "+n)}if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");var a;if(e.isByteBuffer(t))return(a=r.clone.call(t)).markedOffset=-1,a;if(t instanceof Uint8Array)a=new e(0,i,o),t.length>0&&(a.buffer=t.buffer,a.offset=t.byteOffset,a.limit=t.byteOffset+t.byteLength,a.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)a=new e(0,i,o),t.byteLength>0&&(a.buffer=t,a.offset=0,a.limit=t.byteLength,a.view=t.byteLength>0?new Uint8Array(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");(a=new e(t.length,i,o)).limit=t.length;for(var s=0;s<t.length;++s)a.view[s]=t[s]}return a},r.writeBitSet=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if(!(t instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n,i=e,o=t.length,a=o>>3,s=0;for(e+=this.writeVarint32(o,e);a--;)n=1&!!t[s++]|(1&!!t[s++])<<1|(1&!!t[s++])<<2|(1&!!t[s++])<<3|(1&!!t[s++])<<4|(1&!!t[s++])<<5|(1&!!t[s++])<<6|(1&!!t[s++])<<7,this.writeByte(n,e++);if(s<o){var f=0;for(n=0;s<o;)n|=(1&!!t[s++])<<f++;this.writeByte(n,e++)}return r?(this.offset=e,this):e-i},r.readBitSet=function(t){var e=void 0===t;e&&(t=this.offset);var r,n=this.readVarint32(t),i=n.value,o=i>>3,a=0,s=[];for(t+=n.length;o--;)r=this.readByte(t++),s[a++]=!!(1&r),s[a++]=!!(2&r),s[a++]=!!(4&r),s[a++]=!!(8&r),s[a++]=!!(16&r),s[a++]=!!(32&r),s[a++]=!!(64&r),s[a++]=!!(128&r);if(a<i){var f=0;for(r=this.readByte(t++);a<i;)s[a++]=!!(r>>f++&1)}return e&&(this.offset=t),s},r.readBytes=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}var n=this.slice(e,e+t);return r&&(this.offset+=t),n},r.writeBytes=r.append,r.writeInt8=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=1,this.view[e]=t,r&&(this.offset+=1),this},r.writeByte=r.writeInt8,r.readInt8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return 128==(128&r)&&(r=-(255-r+1)),e&&(this.offset+=1),r},r.readByte=r.readInt8,r.writeUint8=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=1,this.view[e]=t,r&&(this.offset+=1),this},r.writeUInt8=r.writeUint8,r.readUint8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return e&&(this.offset+=1),r},r.readUInt8=r.readUint8,r.writeInt16=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},r.writeShort=r.writeInt16,r.readInt16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),32768==(32768&r)&&(r=-(65535-r+1)),e&&(this.offset+=2),r},r.readShort=r.readInt16,r.writeUint16=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},r.writeUInt16=r.writeUint16,r.readUint16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),e&&(this.offset+=2),r},r.readUInt16=r.readUint16,r.writeInt32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},r.writeInt=r.writeInt32,r.readInt32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),r|=0,e&&(this.offset+=4),r},r.readInt=r.readInt32,r.writeUint32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},r.writeUInt32=r.writeUint32,r.readUint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),e&&(this.offset+=4),r},r.readUInt32=r.readUint32,t&&(r.writeInt64=function(e,r){var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e)),r+=8;var i=this.buffer.byteLength;r>i&&this.resize((i*=2)>r?i:r),r-=8;var o=e.low,a=e.high;return this.littleEndian?(this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o,r+=4,this.view[r+3]=a>>>24&255,this.view[r+2]=a>>>16&255,this.view[r+1]=a>>>8&255,this.view[r]=255&a):(this.view[r]=a>>>24&255,this.view[r+1]=a>>>16&255,this.view[r+2]=a>>>8&255,this.view[r+3]=255&a,r+=4,this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o),n&&(this.offset+=8),this},r.writeLong=r.writeInt64,r.readInt64=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=0,i=0;this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0,e+=4,i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0,e+=4,n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0);var o=new t(n,i,!1);return r&&(this.offset+=8),o},r.readLong=r.readInt64,r.writeUint64=function(e,r){var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e)),r+=8;var i=this.buffer.byteLength;r>i&&this.resize((i*=2)>r?i:r),r-=8;var o=e.low,a=e.high;return this.littleEndian?(this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o,r+=4,this.view[r+3]=a>>>24&255,this.view[r+2]=a>>>16&255,this.view[r+1]=a>>>8&255,this.view[r]=255&a):(this.view[r]=a>>>24&255,this.view[r+1]=a>>>16&255,this.view[r+2]=a>>>8&255,this.view[r+3]=255&a,r+=4,this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o),n&&(this.offset+=8),this},r.writeUInt64=r.writeUint64,r.readUint64=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=0,i=0;this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0,e+=4,i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0,e+=4,n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0);var o=new t(n,i,!0);return r&&(this.offset+=8),o},r.readUInt64=r.readUint64),r.writeFloat32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=4,f(this.view,t,e,this.littleEndian,23,4),r&&(this.offset+=4),this},r.writeFloat=r.writeFloat32,r.readFloat32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=s(this.view,t,this.littleEndian,23,4);return e&&(this.offset+=4),r},r.readFloat=r.readFloat32,r.writeFloat64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=8,f(this.view,t,e,this.littleEndian,52,8),r&&(this.offset+=8),this},r.writeDouble=r.writeFloat64,r.readFloat64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=s(this.view,t,this.littleEndian,52,8);return e&&(this.offset+=8),r},r.readDouble=r.readFloat64,e.MAX_VARINT32_BYTES=5,e.calculateVarint32=function(t){return(t>>>=0)<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5},e.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},e.zigZagDecode32=function(t){return t>>>1^-(1&t)|0},r.writeVarint32=function(t,r){var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var i,o=e.calculateVarint32(t);r+=o;var a=this.buffer.byteLength;for(r>a&&this.resize((a*=2)>r?a:r),r-=o,t>>>=0;t>=128;)i=127&t|128,this.view[r++]=i,t>>>=7;return this.view[r++]=t,n?(this.offset=r,this):o},r.writeVarint32ZigZag=function(t,r){return this.writeVarint32(e.zigZagEncode32(t),r)},r.readVarint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=0,i=0;do{if(!this.noAssert&&t>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}r=this.view[t++],n<5&&(i|=(127&r)<<7*n),++n}while(0!=(128&r));return i|=0,e?(this.offset=t,i):{value:i,length:n}},r.readVarint32ZigZag=function(t){var r=this.readVarint32(t);return"object"==typeof r?r.value=e.zigZagDecode32(r.value):r=e.zigZagDecode32(r),r},t&&(e.MAX_VARINT64_BYTES=10,e.calculateVarint64=function(e){"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e));var r=e.toInt()>>>0,n=e.shiftRightUnsigned(28).toInt()>>>0,i=e.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==n?r<16384?r<128?1:2:r<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:i<128?9:10},e.zigZagEncode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned()),e.shiftLeft(1).xor(e.shiftRight(63)).toUnsigned()},e.zigZagDecode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned()),e.shiftRightUnsigned(1).xor(e.and(t.ONE).toSigned().negate()).toSigned()},r.writeVarint64=function(r,n){var i=void 0===n;if(i&&(n=this.offset),!this.noAssert){if("number"==typeof r)r=t.fromNumber(r);else if("string"==typeof r)r=t.fromString(r);else if(!(r&&r instanceof t))throw TypeError("Illegal value: "+r+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof r?r=t.fromNumber(r,!1):"string"==typeof r?r=t.fromString(r,!1):!1!==r.unsigned&&(r=r.toSigned());var o=e.calculateVarint64(r),a=r.toInt()>>>0,s=r.shiftRightUnsigned(28).toInt()>>>0,f=r.shiftRightUnsigned(56).toInt()>>>0;n+=o;var h=this.buffer.byteLength;switch(n>h&&this.resize((h*=2)>n?h:n),n-=o,o){case 10:this.view[n+9]=f>>>7&1;case 9:this.view[n+8]=9!==o?128|f:127&f;case 8:this.view[n+7]=8!==o?s>>>21|128:s>>>21&127;case 7:this.view[n+6]=7!==o?s>>>14|128:s>>>14&127;case 6:this.view[n+5]=6!==o?s>>>7|128:s>>>7&127;case 5:this.view[n+4]=5!==o?128|s:127&s;case 4:this.view[n+3]=4!==o?a>>>21|128:a>>>21&127;case 3:this.view[n+2]=3!==o?a>>>14|128:a>>>14&127;case 2:this.view[n+1]=2!==o?a>>>7|128:a>>>7&127;case 1:this.view[n]=1!==o?128|a:127&a}return i?(this.offset+=o,this):o},r.writeVarint64ZigZag=function(t,r){return this.writeVarint64(e.zigZagEncode64(t),r)},r.readVarint64=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=e,i=0,o=0,a=0,s=0;if(i=127&(s=this.view[e++]),128&s&&(i|=(127&(s=this.view[e++]))<<7,(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[e++]))<<14,(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[e++]))<<21,(128&s||this.noAssert&&void 0===s)&&(o=127&(s=this.view[e++]),(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[e++]))<<7,(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[e++]))<<14,(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[e++]))<<21,(128&s||this.noAssert&&void 0===s)&&(a=127&(s=this.view[e++]),(128&s||this.noAssert&&void 0===s)&&(a|=(127&(s=this.view[e++]))<<7,128&s||this.noAssert&&void 0===s))))))))))throw Error("Buffer overrun");var f=t.fromBits(i|o<<28,o>>>4|a<<24,!1);return r?(this.offset=e,f):{value:f,length:e-n}},r.readVarint64ZigZag=function(r){var n=this.readVarint64(r);return n&&n.value instanceof t?n.value=e.zigZagDecode64(n.value):n=e.zigZagDecode64(n),n}),r.writeCString=function(t,e){var r=void 0===e;r&&(e=this.offset);var n,i=t.length;if(!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");for(n=0;n<i;++n)if(0===t.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}i=u.calculateUTF16asUTF8(o(t))[1],e+=i+1;var a=this.buffer.byteLength;return e>a&&this.resize((a*=2)>e?a:e),e-=i+1,u.encodeUTF16toUTF8(o(t),function(t){this.view[e++]=t}.bind(this)),this.view[e++]=0,r?(this.offset=e,this):i},r.readCString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=t,i=-1;return u.decodeUTF8toUTF16(function(){if(0===i)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return 0===(i=this.view[t++])?null:i}.bind(this),r=a(),!0),e?(this.offset=t,r()):{string:r(),length:t-n}},r.writeIString=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n,i=e;n=u.calculateUTF16asUTF8(o(t),this.noAssert)[1],e+=4+n;var a=this.buffer.byteLength;if(e>a&&this.resize((a*=2)>e?a:e),e-=4+n,this.littleEndian?(this.view[e+3]=n>>>24&255,this.view[e+2]=n>>>16&255,this.view[e+1]=n>>>8&255,this.view[e]=255&n):(this.view[e]=n>>>24&255,this.view[e+1]=n>>>16&255,this.view[e+2]=n>>>8&255,this.view[e+3]=255&n),e+=4,u.encodeUTF16toUTF8(o(t),function(t){this.view[e++]=t}.bind(this)),e!==i+4+n)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+4+n));return r?(this.offset=e,this):e-i},r.readIString=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var n=t,i=this.readUint32(t),o=this.readUTF8String(i,e.METRICS_BYTES,t+=4);return t+=o.length,r?(this.offset=t,o.string):{string:o.string,length:t-n}},e.METRICS_CHARS="c",e.METRICS_BYTES="b",r.writeUTF8String=function(t,e){var r,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i=e;r=u.calculateUTF16asUTF8(o(t))[1],e+=r;var a=this.buffer.byteLength;return e>a&&this.resize((a*=2)>e?a:e),e-=r,u.encodeUTF16toUTF8(o(t),function(t){this.view[e++]=t}.bind(this)),n?(this.offset=e,this):e-i},r.writeString=r.writeUTF8String,e.calculateUTF8Chars=function(t){return u.calculateUTF16asUTF8(o(t))[0]},e.calculateUTF8Bytes=function(t){return u.calculateUTF16asUTF8(o(t))[1]},e.calculateString=e.calculateUTF8Bytes,r.readUTF8String=function(t,r,n){"number"==typeof r&&(n=r,r=void 0);var i=void 0===n;if(i&&(n=this.offset),void 0===r&&(r=e.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var o,s=0,f=n;if(r===e.METRICS_CHARS){if(o=a(),u.decodeUTF8(function(){return s<t&&n<this.limit?this.view[n++]:null}.bind(this),(function(t){++s,u.UTF8toUTF16(t,o)})),s!==t)throw RangeError("Illegal range: Truncated data, "+s+" == "+t);return i?(this.offset=n,o()):{string:o(),length:n-f}}if(r===e.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+"+t+") <= "+this.buffer.byteLength)}var h=n+t;if(u.decodeUTF8toUTF16(function(){return n<h?this.view[n++]:null}.bind(this),o=a(),this.noAssert),n!==h)throw RangeError("Illegal range: Truncated data, "+n+" == "+h);return i?(this.offset=n,o()):{string:o(),length:n-f}}throw TypeError("Unsupported metrics: "+r)},r.readString=r.readUTF8String,r.writeVString=function(t,r){var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var i,a,s=r;i=u.calculateUTF16asUTF8(o(t),this.noAssert)[1],a=e.calculateVarint32(i),r+=a+i;var f=this.buffer.byteLength;if(r>f&&this.resize((f*=2)>r?f:r),r-=a+i,r+=this.writeVarint32(i,r),u.encodeUTF16toUTF8(o(t),function(t){this.view[r++]=t}.bind(this)),r!==s+i+a)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+i+a));return n?(this.offset=r,this):r-s},r.readVString=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var n=t,i=this.readVarint32(t),o=this.readUTF8String(i.value,e.METRICS_BYTES,t+=i.length);return t+=o.length,r?(this.offset=t,o.string):{string:o.string,length:t-n}},r.append=function(t,r,n){"number"!=typeof r&&"string"==typeof r||(n=r,r=void 0);var i=void 0===n;if(i&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}t instanceof e||(t=e.wrap(t,r));var o=t.limit-t.offset;if(o<=0)return this;n+=o;var a=this.buffer.byteLength;return n>a&&this.resize((a*=2)>n?a:n),n-=o,this.view.set(t.view.subarray(t.offset,t.limit),n),t.offset+=o,i&&(this.offset+=o),this},r.appendTo=function(t,e){return t.append(this,e),this},r.assert=function(t){return this.noAssert=!t,this},r.capacity=function(){return this.buffer.byteLength},r.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},r.clone=function(t){var r=new e(0,this.littleEndian,this.noAssert);return t?(r.buffer=new ArrayBuffer(this.buffer.byteLength),r.view=new Uint8Array(r.buffer)):(r.buffer=this.buffer,r.view=this.view),r.offset=this.offset,r.markedOffset=this.markedOffset,r.limit=this.limit,r},r.compact=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var r=e-t;if(0===r)return this.buffer=n,this.view=null,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(r),o=new Uint8Array(i);return o.set(this.view.subarray(t,e)),this.buffer=i,this.view=o,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=r,this},r.copy=function(t,r){if(void 0===t&&(t=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t===r)return new e(0,this.littleEndian,this.noAssert);var n=r-t,i=new e(n,this.littleEndian,this.noAssert);return i.offset=0,i.limit=n,i.markedOffset>=0&&(i.markedOffset-=t),this.copyTo(i,0,t,r),i},r.copyTo=function(t,r,n,i){var o,a;if(!this.noAssert&&!e.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(r=(a=void 0===r)?t.offset:0|r,n=(o=void 0===n)?this.offset:0|n,i=void 0===i?this.limit:0|i,r<0||r>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+r+" <= "+t.buffer.byteLength);if(n<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+n+" <= "+this.buffer.byteLength);var s=i-n;return 0===s?t:(t.ensureCapacity(r+s),t.view.set(this.view.subarray(n,i),r),o&&(this.offset+=s),a&&(t.offset+=s),this)},r.ensureCapacity=function(t){var e=this.buffer.byteLength;return e<t?this.resize((e*=2)>t?e:t):this},r.fill=function(t,e,r){var n=void 0===e;if(n&&(e=this.offset),"string"==typeof t&&t.length>0&&(t=t.charCodeAt(0)),void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(e>=r)return this;for(;e<r;)this.view[e++]=t;return n&&(this.offset=e),this},r.flip=function(){return this.limit=this.offset,this.offset=0,this},r.mark=function(t){if(t=void 0===t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},r.order=function(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},r.LE=function(t){return this.littleEndian=void 0===t||!!t,this},r.BE=function(t){return this.littleEndian=void 0!==t&&!t,this},r.prepend=function(t,r,n){"number"!=typeof r&&"string"==typeof r||(n=r,r=void 0);var i=void 0===n;if(i&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}t instanceof e||(t=e.wrap(t,r));var o=t.limit-t.offset;if(o<=0)return this;var a=o-n;if(a>0){var s=new ArrayBuffer(this.buffer.byteLength+a),f=new Uint8Array(s);f.set(this.view.subarray(n,this.buffer.byteLength),o),this.buffer=s,this.view=f,this.offset+=a,this.markedOffset>=0&&(this.markedOffset+=a),this.limit+=a,n+=a}else new Uint8Array(this.buffer);return this.view.set(t.view.subarray(t.offset,t.limit),n-o),t.offset=t.limit,i&&(this.offset-=o),this},r.prependTo=function(t,e){return t.prepend(this,e),this},r.printDebug=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},r.remaining=function(){return this.limit-this.offset},r.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},r.resize=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if((t|=0)<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var e=new ArrayBuffer(t),r=new Uint8Array(e);r.set(this.view),this.buffer=e,this.view=r}return this},r.reverse=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e||Array.prototype.reverse.call(this.view.subarray(t,e)),this},r.skip=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.noAssert&&(e<0||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},r.slice=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=t,r.limit=e,r},r.toBuffer=function(t){var e=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(!t&&0===e&&r===this.buffer.byteLength)return this.buffer;if(e===r)return n;var i=new ArrayBuffer(r-e);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,r),0),i},r.toArrayBuffer=r.toBuffer,r.toString=function(t,e,r){if(void 0===t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof t&&(r=e=t="utf8"),t){case"utf8":return this.toUTF8(e,r);case"base64":return this.toBase64(e,r);case"hex":return this.toHex(e,r);case"binary":return this.toBinary(e,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var h=function(){for(var t={},e=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],n=0,i=e.length;n<i;++n)r[e[n]]=n;return t.encode=function(t,r){for(var n,i;null!==(n=t());)r(e[n>>2&63]),i=(3&n)<<4,null!==(n=t())?(r(e[63&((i|=n>>4&15)|n>>4&15)]),i=(15&n)<<2,null!==(n=t())?(r(e[63&(i|n>>6&3)]),r(e[63&n])):(r(e[63&i]),r(61))):(r(e[63&i]),r(61),r(61))},t.decode=function(t,e){var n,i,o;function a(t){throw Error("Illegal character code: "+t)}for(;null!==(n=t());)if(void 0===(i=r[n])&&a(n),null!==(n=t())&&(void 0===(o=r[n])&&a(n),e(i<<2>>>0|(48&o)>>4),null!==(n=t()))){if(void 0===(i=r[n])){if(61===n)break;a(n)}if(e((15&o)<<4>>>0|(60&i)>>2),null!==(n=t())){if(void 0===(o=r[n])){if(61===n)break;a(n)}e((3&i)<<6>>>0|o)}}},t.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)},t}();r.toBase64=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity||t>e)throw RangeError("begin, end");var r;return h.encode(function(){return t<e?this.view[t++]:null}.bind(this),r=a()),r()},e.fromBase64=function(t,r){if("string"!=typeof t)throw TypeError("str");var n=new e(t.length/4*3,r),i=0;return h.decode(o(t),(function(t){n.view[i++]=t})),n.limit=i,n},e.btoa=function(t){return e.fromBinary(t).toBase64()},e.atob=function(t){return e.fromBase64(t).toBinary()},r.toBinary=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity()||t>e)throw RangeError("begin, end");if(t===e)return"";for(var r=[],n=[];t<e;)r.push(this.view[t++]),r.length>=1024&&(n.push(String.fromCharCode.apply(String,r)),r=[]);return n.join("")+String.fromCharCode.apply(String,r)},e.fromBinary=function(t,r){if("string"!=typeof t)throw TypeError("str");for(var n,i=0,o=t.length,a=new e(o,r);i<o;){if((n=t.charCodeAt(i))>255)throw RangeError("illegal char code: "+n);a.view[i++]=n}return a.limit=o,a},r.toDebug=function(t){for(var e,r=-1,n=this.buffer.byteLength,i="",o="",a="";r<n;){if(-1!==r&&(i+=(e=this.view[r])<16?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(o+=e>32&&e<127?String.fromCharCode(e):".")),++r,t&&r>0&&r%16==0&&r!==n){for(;i.length<51;)i+=" ";a+=i+o+"\n",i=o=""}r===this.offset&&r===this.limit?i+=r===this.markedOffset?"!":"|":r===this.offset?i+=r===this.markedOffset?"[":"<":r===this.limit?i+=r===this.markedOffset?"]":">":i+=r===this.markedOffset?"'":t||0!==r&&r!==n?" ":""}if(t&&" "!==i){for(;i.length<51;)i+=" ";a+=i+o+"\n"}return t?a:i},e.fromDebug=function(t,r,n){for(var i,o,a=t.length,s=new e((a+1)/3|0,r,n),f=0,h=0,u=!1,c=!1,l=!1,d=!1,p=!1;f<a;){switch(i=t.charAt(f++)){case"!":if(!n){if(c||l||d){p=!0;break}c=l=d=!0}s.offset=s.markedOffset=s.limit=h,u=!1;break;case"|":if(!n){if(c||d){p=!0;break}c=d=!0}s.offset=s.limit=h,u=!1;break;case"[":if(!n){if(c||l){p=!0;break}c=l=!0}s.offset=s.markedOffset=h,u=!1;break;case"<":if(!n){if(c){p=!0;break}c=!0}s.offset=h,u=!1;break;case"]":if(!n){if(d||l){p=!0;break}d=l=!0}s.limit=s.markedOffset=h,u=!1;break;case">":if(!n){if(d){p=!0;break}d=!0}s.limit=h,u=!1;break;case"'":if(!n){if(l){p=!0;break}l=!0}s.markedOffset=h,u=!1;break;case" ":u=!1;break;default:if(!n&&u){p=!0;break}if(o=parseInt(i+t.charAt(f++),16),!n&&(isNaN(o)||o<0||o>255))throw TypeError("Illegal str: Not a debug encoded string");s.view[h++]=o,u=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+f)}if(!n){if(!c||!d)throw TypeError("Illegal str: Missing offset or limit");if(h<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+h+" < "+a)}return s},r.toHex=function(t,e){if(t=void 0===t?this.offset:t,e=void 0===e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var r,n=new Array(e-t);t<e;)(r=this.view[t++])<16?n.push("0",r.toString(16)):n.push(r.toString(16));return n.join("")},e.fromHex=function(t,r,n){if(!n){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,o=t.length,a=new e(o/2|0,r),s=0,f=0;s<o;s+=2){if(i=parseInt(t.substring(s,s+2),16),!n&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");a.view[f++]=i}return a.limit=f,a};var u=function(){var t={MAX_CODEPOINT:1114111,encodeUTF8:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<128?e(127&r):r<2048?(e(r>>6&31|192),e(63&r|128)):r<65536?(e(r>>12&15|224),e(r>>6&63|128),e(63&r|128)):(e(r>>18&7|240),e(r>>12&63|128),e(r>>6&63|128),e(63&r|128)),r=null},decodeUTF8:function(t,e){for(var r,n,i,o,a=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(r=t());)if(0==(128&r))e(r);else if(192==(224&r))null===(n=t())&&a([r,n]),e((31&r)<<6|63&n);else if(224==(240&r))(null===(n=t())||null===(i=t()))&&a([r,n,i]),e((15&r)<<12|(63&n)<<6|63&i);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(n=t())||null===(i=t())||null===(o=t()))&&a([r,n,i,o]),e((7&r)<<18|(63&n)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(t,e){for(var r,n=null;null!==(r=null!==n?n:t());)r>=55296&&r<=57343&&null!==(n=t())&&n>=56320&&n<=57343?(e(1024*(r-55296)+n-56320+65536),n=null):e(r);null!==n&&e(n)},UTF8toUTF16:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<=65535?e(r):(e(55296+((r-=65536)>>10)),e(r%1024+56320)),r=null},encodeUTF16toUTF8:function(e,r){t.UTF16toUTF8(e,(function(e){t.encodeUTF8(e,r)}))},decodeUTF8toUTF16:function(e,r){t.decodeUTF8(e,(function(e){t.UTF8toUTF16(e,r)}))},calculateCodePoint:function(t){return t<128?1:t<2048?2:t<65536?3:4},calculateUTF8:function(t){for(var e,r=0;null!==(e=t());)r+=e<128?1:e<2048?2:e<65536?3:4;return r},calculateUTF16asUTF8:function(e){var r=0,n=0;return t.UTF16toUTF8(e,(function(t){++r,n+=t<128?1:t<2048?2:t<65536?3:4})),[r,n]}};return t}();return r.toUTF8=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r;try{u.decodeUTF8toUTF16(function(){return t<e?this.view[t++]:null}.bind(this),r=a())}catch(r){if(t!==e)throw RangeError("Illegal range: Truncated data, "+t+" != "+e)}return r()},e.fromUTF8=function(t,r,n){if(!n&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");var i=new e(u.calculateUTF16asUTF8(o(t),!0)[1],r,n),a=0;return u.encodeUTF16toUTF8(o(t),(function(t){i.view[a++]=t})),i.limit=a,i},e}))})),ke=Math.pow(2,32);function Te(t){var e;return t>ke||t<0?(e=Math.abs(t)%ke,t<0?ke-e:e):t}function Ae(t){for(;0<t.length;t++)t[0]=0;return!1}function xe(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}xe.prototype.init=function(){var t,e,r,n,i,o,a,s,f,h;for(t=function(){var t,r;for(r=[],e=t=0;t<256;e=++t)e<128?r.push(e<<1):r.push(e<<1^283);return r}(),i=0,f=0,e=h=0;h<256;e=++h)r=(r=f^f<<1^f<<2^f<<3^f<<4)>>>8^255&r^99,this.SBOX[i]=r,this.INV_SBOX[r]=i,s=t[a=t[o=t[i]]],n=257*t[r]^16843008*r,this.SUB_MIX[0][i]=n<<24|n>>>8,this.SUB_MIX[1][i]=n<<16|n>>>16,this.SUB_MIX[2][i]=n<<8|n>>>24,this.SUB_MIX[3][i]=n,n=16843009*s^65537*a^257*o^16843008*i,this.INV_SUB_MIX[0][r]=n<<24|n>>>8,this.INV_SUB_MIX[1][r]=n<<16|n>>>16,this.INV_SUB_MIX[2][r]=n<<8|n>>>24,this.INV_SUB_MIX[3][r]=n,0===i?i=f=1:(i=o^t[t[t[s^o]]],f^=t[t[f]]);return!0};var Be=new xe;function Ie(t){for(var e=t.length/4,r=new Array(e),n=-1;++n<e;)r[n]=t.readUInt32BE(4*n);return r}function Re(t){this._key=Ie(t),this._doReset()}Re.blockSize=16,Re.prototype.blockSize=Re.blockSize,Re.keySize=32,Re.prototype.keySize=Re.keySize,Re.prototype._doReset=function(){var t,e,r,n,i,o;for(e=(r=this._key).length,this._nRounds=e+6,i=4*(this._nRounds+1),this._keySchedule=[],n=0;n<i;n++)this._keySchedule[n]=n<e?r[n]:(o=this._keySchedule[n-1],n%e==0?(o=o<<8|o>>>24,o=Be.SBOX[o>>>24]<<24|Be.SBOX[o>>>16&255]<<16|Be.SBOX[o>>>8&255]<<8|Be.SBOX[255&o],o^=Be.RCON[n/e|0]<<24):e>6&&n%e==4&&(o=Be.SBOX[o>>>24]<<24|Be.SBOX[o>>>16&255]<<16|Be.SBOX[o>>>8&255]<<8|Be.SBOX[255&o]),this._keySchedule[n-e]^o);for(this._invKeySchedule=[],t=0;t<i;t++)n=i-t,o=this._keySchedule[n-(t%4?0:4)],this._invKeySchedule[t]=t<4||n<=4?o:Be.INV_SUB_MIX[0][Be.SBOX[o>>>24]]^Be.INV_SUB_MIX[1][Be.SBOX[o>>>16&255]]^Be.INV_SUB_MIX[2][Be.SBOX[o>>>8&255]]^Be.INV_SUB_MIX[3][Be.SBOX[255&o]];return!0},Re.prototype.encryptBlock=function(t){t=Ie(new ut(t));var e=this._doCryptBlock(t,this._keySchedule,Be.SUB_MIX,Be.SBOX),r=new ut(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r},Re.prototype.decryptBlock=function(t){var e=[(t=Ie(new ut(t)))[3],t[1]];t[1]=e[0],t[3]=e[1];var r=this._doCryptBlock(t,this._invKeySchedule,Be.INV_SUB_MIX,Be.INV_SBOX),n=new ut(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n},Re.prototype.scrub=function(){Ae(this._keySchedule),Ae(this._invKeySchedule),Ae(this._key)},Re.prototype._doCryptBlock=function(t,e,r,n){var i,o,a,s,f,h,u,c,l;o=t[0]^e[0],a=t[1]^e[1],s=t[2]^e[2],f=t[3]^e[3],i=4;for(var d=1;d<this._nRounds;d++)h=r[0][o>>>24]^r[1][a>>>16&255]^r[2][s>>>8&255]^r[3][255&f]^e[i++],u=r[0][a>>>24]^r[1][s>>>16&255]^r[2][f>>>8&255]^r[3][255&o]^e[i++],c=r[0][s>>>24]^r[1][f>>>16&255]^r[2][o>>>8&255]^r[3][255&a]^e[i++],l=r[0][f>>>24]^r[1][o>>>16&255]^r[2][a>>>8&255]^r[3][255&s]^e[i++],o=h,a=u,s=c,f=l;return h=(n[o>>>24]<<24|n[a>>>16&255]<<16|n[s>>>8&255]<<8|n[255&f])^e[i++],u=(n[a>>>24]<<24|n[s>>>16&255]<<16|n[f>>>8&255]<<8|n[255&o])^e[i++],c=(n[s>>>24]<<24|n[f>>>16&255]<<16|n[o>>>8&255]<<8|n[255&a])^e[i++],l=(n[f>>>24]<<24|n[o>>>16&255]<<16|n[a>>>8&255]<<8|n[255&s])^e[i++],[Te(h),Te(u),Te(c),Te(l)]};var Ue={AES:Re};function Oe(){}function Le(){Le.init.call(this)}function ze(t){return void 0===t._maxListeners?Le.defaultMaxListeners:t._maxListeners}function De(t,e,r){if(e)t.call(r);else for(var n=t.length,i=Ke(t,n),o=0;o<n;++o)i[o].call(r)}function Ce(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,o=Ke(t,i),a=0;a<i;++a)o[a].call(r,n)}function Ne(t,e,r,n,i){if(e)t.call(r,n,i);else for(var o=t.length,a=Ke(t,o),s=0;s<o;++s)a[s].call(r,n,i)}function Me(t,e,r,n,i,o){if(e)t.call(r,n,i,o);else for(var a=t.length,s=Ke(t,a),f=0;f<a;++f)s[f].call(r,n,i,o)}function Pe(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,o=Ke(t,i),a=0;a<i;++a)o[a].apply(r,n)}function qe(t,e,r,n){var i,o,a,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]):(o=t._events=new Oe,t._eventsCount=0),a){if("function"==typeof a?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),!a.warned&&(i=ze(t))&&i>0&&a.length>i){a.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=a.length,s=f,"function"==typeof console.warn?console.warn(s):console.log(s)}}else a=o[e]=r,++t._eventsCount;return t}function je(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}function Fe(t){var e=this._events;if(e){var r=e[t];if("function"==typeof r)return 1;if(r)return r.length}return 0}function Ke(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}Oe.prototype=Object.create(null),Le.EventEmitter=Le,Le.usingDomains=!1,Le.prototype.domain=void 0,Le.prototype._events=void 0,Le.prototype._maxListeners=void 0,Le.defaultMaxListeners=10,Le.init=function(){this.domain=null,Le.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Oe,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Le.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Le.prototype.getMaxListeners=function(){return ze(this)},Le.prototype.emit=function(t){var e,r,n,i,o,a,s,f="error"===t;if(a=this._events)f=f&&null==a.error;else if(!f)return!1;if(s=this.domain,f){if(e=arguments[1],!s){if(e instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=s,e.domainThrown=!1,s.emit("error",e),!1}if(!(r=a[t]))return!1;var u="function"==typeof r;switch(n=arguments.length){case 1:De(r,u,this);break;case 2:Ce(r,u,this,arguments[1]);break;case 3:Ne(r,u,this,arguments[1],arguments[2]);break;case 4:Me(r,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];Pe(r,u,this,i)}return!0},Le.prototype.addListener=function(t,e){return qe(this,t,e,!1)},Le.prototype.on=Le.prototype.addListener,Le.prototype.prependListener=function(t,e){return qe(this,t,e,!0)},Le.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,je(this,t,e)),this},Le.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,je(this,t,e)),this},Le.prototype.removeListener=function(t,e){var r,n,i,o,a;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[t]))return this;if(r===e||r.listener&&r.listener===e)0==--this._eventsCount?this._events=new Oe:(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length;o-- >0;)if(r[o]===e||r[o].listener&&r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new Oe,this;delete n[t]}else!function(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}(r,i);n.removeListener&&this.emit("removeListener",t,a||e)}return this},Le.prototype.removeAllListeners=function(t){var e,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new Oe,this._eventsCount=0):r[t]&&(0==--this._eventsCount?this._events=new Oe:delete r[t]),this;if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new Oe,this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},Le.prototype.listeners=function(t){var e,r=this._events;return r&&(e=r[t])?"function"==typeof e?[e.listener||e]:function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(e):[]},Le.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Fe.call(t,e)},Le.prototype.listenerCount=Fe,Le.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var He="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},Ve=/%[sdj%]/g;function We(t){if(!sr(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Je(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(t).replace(Ve,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),a=n[r];r<i;a=n[++r])or(a)||!ur(a)?o+=" "+a:o+=" "+Je(a);return o}function Ze(t,e){if(fr(G.process))return function(){return Ze(t,e).apply(this,arguments)};if(!0===we.noDeprecation)return t;var r=!1;return function(){if(!r){if(we.throwDeprecation)throw new Error(e);we.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}}var Ye,Ge={};function Xe(t){if(fr(Ye)&&(Ye=we.env.NODE_DEBUG||""),t=t.toUpperCase(),!Ge[t])if(new RegExp("\\b"+t+"\\b","i").test(Ye)){Ge[t]=function(){var e=We.apply(null,arguments);console.error("%s %d: %s",t,0,e)}}else Ge[t]=function(){};return Ge[t]}function Je(t,e){var r={seen:[],stylize:Qe};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),ir(e)?r.showHidden=e:e&&wr(r,e),fr(r.showHidden)&&(r.showHidden=!1),fr(r.depth)&&(r.depth=2),fr(r.colors)&&(r.colors=!1),fr(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=$e),tr(r,t,r.depth)}function $e(t,e){var r=Je.styles[e];return r?"["+Je.colors[r][0]+"m"+t+"["+Je.colors[r][1]+"m":t}function Qe(t,e){return t}function tr(t,e,r){if(t.customInspect&&e&&dr(e.inspect)&&e.inspect!==Je&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return sr(n)||(n=tr(t,n,r)),n}var i=function(t,e){if(fr(e))return t.stylize("undefined","undefined");if(sr(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(ar(e))return t.stylize(""+e,"number");if(ir(e))return t.stylize(""+e,"boolean");if(or(e))return t.stylize("null","null")}(t,e);if(i)return i;var o=Object.keys(e),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),lr(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return er(e);if(0===o.length){if(dr(e)){var s=e.name?": "+e.name:"";return t.stylize("[Function"+s+"]","special")}if(hr(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(cr(e))return t.stylize(Date.prototype.toString.call(e),"date");if(lr(e))return er(e)}var f,h="",u=!1,c=["{","}"];(nr(e)&&(u=!0,c=["[","]"]),dr(e))&&(h=" [Function"+(e.name?": "+e.name:"")+"]");return hr(e)&&(h=" "+RegExp.prototype.toString.call(e)),cr(e)&&(h=" "+Date.prototype.toUTCString.call(e)),lr(e)&&(h=" "+er(e)),0!==o.length||u&&0!=e.length?r<0?hr(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),f=u?function(t,e,r,n,i){for(var o=[],a=0,s=e.length;a<s;++a)mr(e,String(a))?o.push(rr(t,e,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(rr(t,e,r,n,i,!0))})),o}(t,e,r,a,o):o.map((function(n){return rr(t,e,r,a,n,u)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(f,h,c)):c[0]+h+c[1]}function er(t){return"["+Error.prototype.toString.call(t)+"]"}function rr(t,e,r,n,i,o){var a,s,f;if((f=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=f.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):f.set&&(s=t.stylize("[Setter]","special")),mr(n,i)||(a="["+i+"]"),s||(t.seen.indexOf(f.value)<0?(s=or(r)?tr(t,f.value,null):tr(t,f.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),fr(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function nr(t){return Array.isArray(t)}function ir(t){return"boolean"==typeof t}function or(t){return null===t}function ar(t){return"number"==typeof t}function sr(t){return"string"==typeof t}function fr(t){return void 0===t}function hr(t){return ur(t)&&"[object RegExp]"===gr(t)}function ur(t){return"object"==typeof t&&null!==t}function cr(t){return ur(t)&&"[object Date]"===gr(t)}function lr(t){return ur(t)&&("[object Error]"===gr(t)||t instanceof Error)}function dr(t){return"function"==typeof t}function pr(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function gr(t){return Object.prototype.toString.call(t)}function yr(t){return t<10?"0"+t.toString(10):t.toString(10)}Je.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Je.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var vr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function br(){var t=new Date,e=[yr(t.getHours()),yr(t.getMinutes()),yr(t.getSeconds())].join(":");return[t.getDate(),vr[t.getMonth()],e].join(" ")}function wr(t,e){if(!e||!ur(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function mr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var _r={inherits:He,_extend:wr,log:function(){console.log("%s - %s",br(),We.apply(null,arguments))},isBuffer:function(t){return ut.isBuffer(t)},isPrimitive:pr,isFunction:dr,isError:lr,isDate:cr,isObject:ur,isRegExp:hr,isUndefined:fr,isSymbol:function(t){return"symbol"==typeof t},isString:sr,isNumber:ar,isNullOrUndefined:function(t){return null==t},isNull:or,isBoolean:ir,isArray:nr,inspect:Je,deprecate:Ze,format:We,debuglog:Xe};function Er(){this.head=null,this.tail=null,this.length=0}Er.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},Er.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},Er.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},Er.prototype.clear=function(){this.head=this.tail=null,this.length=0},Er.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},Er.prototype.concat=function(t){if(0===this.length)return ut.alloc(0);if(1===this.length)return this.head.data;for(var e=ut.allocUnsafe(t>>>0),r=this.head,n=0;r;)r.data.copy(e,n),n+=r.data.length,r=r.next;return e};var Sr=ut.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function kr(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(t){if(t&&!Sr(t))throw new Error("Unknown encoding: "+t)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Ar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=xr;break;default:return void(this.write=Tr)}this.charBuffer=new ut(6),this.charReceived=0,this.charLength=0}function Tr(t){return t.toString(this.encoding)}function Ar(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function xr(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}kr.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(t=t.slice(r,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived);var i;n=(e+=t.toString(this.encoding,0,n)).length-1;if((i=e.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,n)}return e},kr.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(1==e&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e},kr.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e};var Br=Object.freeze({__proto__:null,StringDecoder:kr});Ur.ReadableState=Rr;var Ir=Xe("stream");function Rr(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof on&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new Er,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new kr(t.encoding),this.encoding=t.encoding)}function Ur(t){if(!(this instanceof Ur))return new Ur(t);this._readableState=new Rr(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),Le.call(this)}function Or(t,e,r,n,i){var o=function(t,e){var r=null;ut.isBuffer(e)||"string"==typeof e||null==e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(e,r);if(o)t.emit("error",o);else if(null===r)e.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,zr(t)}(t,e);else if(e.objectMode||r&&r.length>0)if(e.ended&&!i){var a=new Error("stream.push() after EOF");t.emit("error",a)}else if(e.endEmitted&&i){var s=new Error("stream.unshift() after end event");t.emit("error",s)}else{var f;!e.decoder||i||n||(r=e.decoder.write(r),f=!e.objectMode&&0===r.length),i||(e.reading=!1),f||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&zr(t))),function(t,e){e.readingMore||(e.readingMore=!0,ae(Cr,t,e))}(t,e)}else i||(e.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(e)}He(Ur,Le),Ur.prototype.push=function(t,e){var r=this._readableState;return r.objectMode||"string"!=typeof t||(e=e||r.defaultEncoding)!==r.encoding&&(t=ut.from(t,e),e=""),Or(this,r,t,e,!1)},Ur.prototype.unshift=function(t){return Or(this,this._readableState,t,"",!0)},Ur.prototype.isPaused=function(){return!1===this._readableState.flowing},Ur.prototype.setEncoding=function(t){return this._readableState.decoder=new kr(t),this._readableState.encoding=t,this};function Lr(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function zr(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ir("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?ae(Dr,t):Dr(t))}function Dr(t){Ir("emit readable"),t.emit("readable"),Pr(t)}function Cr(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ir("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function Nr(t){Ir("readable nexttick read 0"),t.read(0)}function Mr(t,e){e.reading||(Ir("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Pr(t),e.flowing&&!e.reading&&t.read(0)}function Pr(t){var e=t._readableState;for(Ir("flow",e.flowing);e.flowing&&null!==t.read(););}function qr(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=ut.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,a),0===(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function jr(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,ae(Fr,e,t))}function Fr(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Kr(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Hr(){}function Vr(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function Wr(t,e){Object.defineProperty(this,"buffer",{get:Ze((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof on&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===t.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?ae(i,n):i(n);t._writableState.errorEmitted=!0,t.emit("error",n)}(t,r,n,e,i);else{var o=Jr(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||Xr(t,r),n?ae(Gr,t,r,o,i):Gr(t,r,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new tn(this)}function Zr(t){if(!(this instanceof Zr||this instanceof on))return new Zr(t);this._writableState=new Wr(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),Le.call(this)}function Yr(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Gr(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),Qr(t,e)}function Xr(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0;r;)i[a]=r,r=r.next,a+=1;Yr(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new tn(e)}else{for(;r;){var s=r.chunk,f=r.encoding,h=r.callback;if(Yr(t,e,!1,e.objectMode?1:s.length,s,f,h),r=r.next,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}function Jr(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function $r(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function Qr(t,e){var r=Jr(e);return r&&(0===e.pendingcb?($r(t,e),e.finished=!0,t.emit("finish")):$r(t,e)),r}function tn(t){var e=this;this.next=null,this.entry=null,this.finish=function(r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}Ur.prototype.read=function(t){Ir("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ir("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?jr(this):zr(this),null;if(0===(t=Lr(t,e))&&e.ended)return 0===e.length&&jr(this),null;var n,i=e.needReadable;return Ir("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&Ir("length less than watermark",i=!0),e.ended||e.reading?Ir("reading or ended",i=!1):i&&(Ir("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Lr(r,e))),null===(n=t>0?qr(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&jr(this)),null!==n&&this.emit("data",n),n},Ur.prototype._read=function(t){this.emit("error",new Error("not implemented"))},Ur.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,Ir("pipe count=%d opts=%j",n.pipesCount,e);var i=!e||!1!==e.end?a:h;function o(t){Ir("onunpipe"),t===r&&h()}function a(){Ir("onend"),t.end()}n.endEmitted?ae(i):r.once("end",i),t.on("unpipe",o);var s=function(t){return function(){var e=t._readableState;Ir("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,Pr(t))}}(r);t.on("drain",s);var f=!1;function h(){Ir("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",s),t.removeListener("error",l),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",h),r.removeListener("data",c),f=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||s()}var u=!1;function c(e){Ir("ondata"),u=!1,!1!==t.write(e)||u||((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==Kr(n.pipes,t))&&!f&&(Ir("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,u=!0),r.pause())}function l(e){var r;Ir("onerror",e),g(),t.removeListener("error",l),0===(r="error",t.listeners(r).length)&&t.emit("error",e)}function d(){t.removeListener("finish",p),g()}function p(){Ir("onfinish"),t.removeListener("close",d),g()}function g(){Ir("unpipe"),r.unpipe(t)}return r.on("data",c),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",l),t.once("close",d),t.once("finish",p),t.emit("pipe",r),n.flowing||(Ir("pipe resume"),r.resume()),t},Ur.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=Kr(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},Ur.prototype.on=function(t,e){var r=Le.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&zr(this):ae(Nr,this))}return r},Ur.prototype.addListener=Ur.prototype.on,Ur.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ir("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,ae(Mr,t,e))}(this,t)),this},Ur.prototype.pause=function(){return Ir("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Ir("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Ur.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;for(var i in t.on("end",(function(){if(Ir("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)})),t.on("data",(function(i){(Ir("wrapped data"),e.decoder&&(i=e.decoder.write(i)),e.objectMode&&null==i)||(e.objectMode||i&&i.length)&&(n.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return function(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}(["error","close","destroy","pause","resume"],(function(e){t.on(e,n.emit.bind(n,e))})),n._read=function(e){Ir("wrapped _read",e),r&&(r=!1,t.resume())},n},Ur._fromList=qr,Zr.WritableState=Wr,He(Zr,Le),Wr.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},Zr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Zr.prototype.write=function(t,e,r){var n=this._writableState,i=!1;return"function"==typeof e&&(r=e,e=null),ut.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=Hr),n.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),ae(e,r)}(this,r):function(t,e,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):ut.isBuffer(r)||"string"==typeof r||void 0===r||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),ae(n,o),i=!1),i}(this,n,t,r)&&(n.pendingcb++,i=function(t,e,r,n,i){r=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=ut.from(e,r));return e}(e,r,n),ut.isBuffer(r)&&(n="buffer");var o=e.objectMode?1:r.length;e.length+=o;var a=e.length<e.highWaterMark;a||(e.needDrain=!0);if(e.writing||e.corked){var s=e.lastBufferedRequest;e.lastBufferedRequest=new Vr(r,n,i),s?s.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Yr(t,e,!1,o,r,n,i);return a}(this,n,t,e,r)),i},Zr.prototype.cork=function(){this._writableState.corked++},Zr.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||Xr(this,t))},Zr.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Zr.prototype._write=function(t,e,r){r(new Error("not implemented"))},Zr.prototype._writev=null,Zr.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,Qr(t,e),r&&(e.finished?ae(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},He(on,Ur);for(var en=Object.keys(Zr.prototype),rn=0;rn<en.length;rn++){var nn=en[rn];on.prototype[nn]||(on.prototype[nn]=Zr.prototype[nn])}function on(t){if(!(this instanceof on))return new on(t);Ur.call(this,t),Zr.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",an)}function an(){this.allowHalfOpen||this._writableState.ended||ae(sn,this)}function sn(t){t.end()}function fn(t){this.afterTransform=function(e,r){return function(t,e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&t.push(r);i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function hn(t){if(!(this instanceof hn))return new hn(t);on.call(this,t),this._transformState=new fn(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(t){un(e,t)})):un(e)}))}function un(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}function cn(t){if(!(this instanceof cn))return new cn(t);hn.call(this,t)}function ln(){Le.call(this)}He(hn,on),hn.prototype.push=function(t,e){return this._transformState.needTransform=!1,on.prototype.push.call(this,t,e)},hn.prototype._transform=function(t,e,r){throw new Error("Not implemented")},hn.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},hn.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},He(cn,hn),cn.prototype._transform=function(t,e,r){r(null,t)},He(ln,Le),ln.Readable=Ur,ln.Writable=Zr,ln.Duplex=on,ln.Transform=hn,ln.PassThrough=cn,ln.Stream=ln,ln.prototype.pipe=function(t,e){var r=this;function n(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),t.on("drain",i),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",s));var o=!1;function a(){o||(o=!0,t.end())}function s(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function f(t){if(h(),0===Le.listenerCount(this,"error"))throw t}function h(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",s),r.removeListener("error",f),t.removeListener("error",f),r.removeListener("end",h),r.removeListener("close",h),t.removeListener("close",h)}return r.on("error",f),t.on("error",f),r.on("end",h),r.on("close",h),t.on("close",h),t.emit("pipe",r),t};var dn=h((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),pn=me.Buffer,gn=ln.Transform,yn=Br.StringDecoder;function vn(t){gn.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}dn(vn,gn),vn.prototype.update=function(t,e,r){"string"==typeof t&&(t=pn.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},vn.prototype.setAutoPadding=function(){},vn.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},vn.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},vn.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},vn.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{r(n)}},vn.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},vn.prototype._finalOrDigest=function(t){var e=this.__final()||pn.alloc(0);return t&&(e=this._toString(e,t,!0)),e},vn.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new yn(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var bn=vn,wn=h((function(t,e){e["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},e["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},e["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},e["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},e["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},e["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},e.aes128=e["aes-128-cbc"],e.aes192=e["aes-192-cbc"],e.aes256=e["aes-256-cbc"],e["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},e["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},e["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},e["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},e["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},e["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},e["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},e["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},e["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},e["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},e["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},e["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},e["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},e["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},e["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},e["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},e["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},e["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}})),mn=Le.EventEmitter;function _n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function En(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var kn=Yt.Buffer,Tn=_r.inspect,An=Tn&&Tn.custom||"inspect";function xn(t,e,r){kn.prototype.copy.call(t,e,r)}var Bn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r,n;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return kn.alloc(0);for(var e=kn.allocUnsafe(t>>>0),r=this.head,n=0;r;)xn(r.data,e,n),n+=r.data.length,r=r.next;return e}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0==(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=kn.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:An,value:function(t,e){return Tn(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_n(Object(r),!0).forEach((function(e){En(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}])&&Sn(e.prototype,r),n&&Sn(e,n),t}();function In(t,e){Un(t,e),Rn(t)}function Rn(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Un(t,e){t.emit("error",e)}var On=function(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,we.nextTick(Un,this,t)):we.nextTick(Un,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted?we.nextTick(Rn,r):(r._writableState.errorEmitted=!0,we.nextTick(In,r,t)):we.nextTick(In,r,t):e?(we.nextTick(Rn,r),e(t)):we.nextTick(Rn,r)})),this)},Ln=function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},zn=function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)};var Dn={};function Cn(t,e,r){r||(r=Error);var n=function(t){var r,n;function i(r,n,i){return t.call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,n,i))||this}return n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);n.prototype.name=r.name,n.prototype.code=t,Dn[t]=n}function Nn(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}Cn("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),Cn("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,i,o,a;if("string"==typeof e&&(i="not ",e.substr(!o||o<0?0:+o,i.length)===i)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))a="The ".concat(t," ").concat(n," ").concat(Nn(e,"type"));else{var s=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Nn(e,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),Cn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Cn("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),Cn("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Cn("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),Cn("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Cn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Cn("ERR_STREAM_WRITE_AFTER_END","write after end"),Cn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Cn("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),Cn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");var Mn={codes:Dn},Pn=Mn.codes.ERR_INVALID_OPT_VALUE;var qn=function(t,e,r,n){var i=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new Pn(n?r:"highWaterMark",i);return Math.floor(i)}return t.objectMode?16:16384},jn=function(t,e){if(Fn("noDeprecation"))return t;var r=!1;return function(){if(!r){if(Fn("throwDeprecation"))throw new Error(e);Fn("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}};function Fn(t){try{if(!s.localStorage)return!1}catch(t){return!1}var e=s.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}var Kn,Hn=hi;function Vn(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}hi.WritableState=fi;var Wn={deprecate:jn},Zn=Yt.Buffer,Yn=s.Uint8Array||function(){};var Gn,Xn=qn,Jn=Mn.codes,$n=Jn.ERR_INVALID_ARG_TYPE,Qn=Jn.ERR_METHOD_NOT_IMPLEMENTED,ti=Jn.ERR_MULTIPLE_CALLBACK,ei=Jn.ERR_STREAM_CANNOT_PIPE,ri=Jn.ERR_STREAM_DESTROYED,ni=Jn.ERR_STREAM_NULL_VALUES,ii=Jn.ERR_STREAM_WRITE_AFTER_END,oi=Jn.ERR_UNKNOWN_ENCODING,ai=zn;function si(){}function fi(t,e,r){Kn=Kn||vi,t=t||{},"boolean"!=typeof r&&(r=e instanceof Kn),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Xn(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===t.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new ti;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(we.nextTick(i,n),we.nextTick(gi,t,e),t._writableState.errorEmitted=!0,ai(t,n)):(i(n),t._writableState.errorEmitted=!0,ai(t,n),gi(t,e))}(t,r,n,e,i);else{var o=di(r)||t.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||li(t,r),n?we.nextTick(ci,t,r,o,i):ci(t,r,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Vn(this)}function hi(t){var e=this instanceof(Kn=Kn||vi);if(!e&&!Gn.call(hi,this))return new hi(t);this._writableState=new fi(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),mn.call(this)}function ui(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new ri("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function ci(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),gi(t,e)}function li(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,ui(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new Vn(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,h=r.encoding,u=r.callback;if(ui(t,e,!1,e.objectMode?1:f.length,f,h,u),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function di(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function pi(t,e){t._final((function(r){e.pendingcb--,r&&ai(t,r),e.prefinished=!0,t.emit("prefinish"),gi(t,e)}))}function gi(t,e){var r=di(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,we.nextTick(pi,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}dn(hi,mn),fi.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(fi.prototype,"buffer",{get:Wn.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Gn=Function.prototype[Symbol.hasInstance],Object.defineProperty(hi,Symbol.hasInstance,{value:function(t){return!!Gn.call(this,t)||this===hi&&(t&&t._writableState instanceof fi)}})):Gn=function(t){return t instanceof this},hi.prototype.pipe=function(){ai(this,new ei)},hi.prototype.write=function(t,e,r){var n,i=this._writableState,o=!1,a=!i.objectMode&&(n=t,Zn.isBuffer(n)||n instanceof Yn);return a&&!Zn.isBuffer(t)&&(t=function(t){return Zn.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=si),i.ending?function(t,e){var r=new ii;ai(t,r),we.nextTick(e,r)}(this,r):(a||function(t,e,r,n){var i;return null===r?i=new ni:"string"==typeof r||e.objectMode||(i=new $n("chunk",["string","Buffer"],r)),!i||(ai(t,i),we.nextTick(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,o=function(t,e,r,n,i,o){if(!r){var a=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=Zn.from(e,r));return e}(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var f=e.length<e.highWaterMark;f||(e.needDrain=!0);if(e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else ui(t,e,!1,s,n,i,o);return f}(this,i,a,t,e,r)),o},hi.prototype.cork=function(){this._writableState.corked++},hi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||li(this,t))},hi.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new oi(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(hi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(hi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),hi.prototype._write=function(t,e,r){r(new Qn("_write()"))},hi.prototype._writev=null,hi.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,gi(t,e),r&&(e.finished?we.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(hi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(hi.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),hi.prototype.destroy=On,hi.prototype._undestroy=Ln,hi.prototype._destroy=function(t,e){e(t)};var yi=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},vi=_i;dn(_i,no);for(var bi=yi(Hn.prototype),wi=0;wi<bi.length;wi++){var mi=bi[wi];_i.prototype[mi]||(_i.prototype[mi]=Hn.prototype[mi])}function _i(t){if(!(this instanceof _i))return new _i(t);no.call(this,t),Hn.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",Ei)))}function Ei(){this._writableState.ended||we.nextTick(Si,this)}function Si(t){t.end()}Object.defineProperty(_i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(_i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_i.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_i.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}});var ki=me.Buffer,Ti=ki.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var Ai=xi;function xi(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(ki.isEncoding===Ti||!Ti(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=Ri,this.end=Ui,e=4;break;case"utf8":this.fillLast=Ii,e=4;break;case"base64":this.text=Oi,this.end=Li,e=3;break;default:return this.write=zi,void(this.end=Di)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ki.allocUnsafe(e)}function Bi(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function Ii(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function Ri(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Ui(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Oi(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Li(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function zi(t){return t.toString(this.encoding)}function Di(t){return t&&t.length?this.write(t):""}xi.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},xi.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},xi.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Bi(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=Bi(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=Bi(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},xi.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};var Ci={StringDecoder:Ai},Ni=Mn.codes.ERR_STREAM_PREMATURE_CLOSE;function Mi(){}var Pi,qi=function t(e,r,n){if("function"==typeof r)return t(e,null,r);r||(r={}),n=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(n||Mi);var i=r.readable||!1!==r.readable&&e.readable,o=r.writable||!1!==r.writable&&e.writable,a=function(){e.writable||f()},s=e._writableState&&e._writableState.finished,f=function(){o=!1,s=!0,i||n.call(e)},h=e._readableState&&e._readableState.endEmitted,u=function(){i=!1,h=!0,o||n.call(e)},c=function(t){n.call(e,t)},l=function(){var t;return i&&!h?(e._readableState&&e._readableState.ended||(t=new Ni),n.call(e,t)):o&&!s?(e._writableState&&e._writableState.ended||(t=new Ni),n.call(e,t)):void 0},d=function(){e.req.on("finish",f)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?o&&!e._writableState&&(e.on("end",a),e.on("close",a)):(e.on("complete",f),e.on("abort",l),e.req?d():e.on("request",d)),e.on("end",u),e.on("finish",f),!1!==r.error&&e.on("error",c),e.on("close",l),function(){e.removeListener("complete",f),e.removeListener("abort",l),e.removeListener("request",d),e.req&&e.req.removeListener("finish",f),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",f),e.removeListener("end",u),e.removeListener("error",c),e.removeListener("close",l)}};function ji(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Fi=Symbol("lastResolve"),Ki=Symbol("lastReject"),Hi=Symbol("error"),Vi=Symbol("ended"),Wi=Symbol("lastPromise"),Zi=Symbol("handlePromise"),Yi=Symbol("stream");function Gi(t,e){return{value:t,done:e}}function Xi(t){var e=t[Fi];if(null!==e){var r=t[Yi].read();null!==r&&(t[Wi]=null,t[Fi]=null,t[Ki]=null,e(Gi(r,!1)))}}function Ji(t){we.nextTick(Xi,t)}var $i,Qi=Object.getPrototypeOf((function(){})),to=Object.setPrototypeOf((ji(Pi={get stream(){return this[Yi]},next:function(){var t=this,e=this[Hi];if(null!==e)return Promise.reject(e);if(this[Vi])return Promise.resolve(Gi(void 0,!0));if(this[Yi].destroyed)return new Promise((function(e,r){we.nextTick((function(){t[Hi]?r(t[Hi]):e(Gi(void 0,!0))}))}));var r,n=this[Wi];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[Vi]?r(Gi(void 0,!0)):e[Zi](r,n)}),n)}}(n,this));else{var i=this[Yi].read();if(null!==i)return Promise.resolve(Gi(i,!1));r=new Promise(this[Zi])}return this[Wi]=r,r}},Symbol.asyncIterator,(function(){return this})),ji(Pi,"return",(function(){var t=this;return new Promise((function(e,r){t[Yi].destroy(null,(function(t){t?r(t):e(Gi(void 0,!0))}))}))})),Pi),Qi),eo=function(t){var e,r=Object.create(to,(ji(e={},Yi,{value:t,writable:!0}),ji(e,Fi,{value:null,writable:!0}),ji(e,Ki,{value:null,writable:!0}),ji(e,Hi,{value:null,writable:!0}),ji(e,Vi,{value:t._readableState.endEmitted,writable:!0}),ji(e,Zi,{value:function(t,e){var n=r[Yi].read();n?(r[Wi]=null,r[Fi]=null,r[Ki]=null,t(Gi(n,!1))):(r[Fi]=t,r[Ki]=e)},writable:!0}),e));return r[Wi]=null,qi(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[Ki];return null!==e&&(r[Wi]=null,r[Fi]=null,r[Ki]=null,e(t)),void(r[Hi]=t)}var n=r[Fi];null!==n&&(r[Wi]=null,r[Fi]=null,r[Ki]=null,n(Gi(void 0,!0))),r[Vi]=!0})),t.on("readable",Ji.bind(null,r)),r},ro=function(){throw new Error("Readable.from is not available in the browser")},no=_o;_o.ReadableState=mo;var io,oo=function(t,e){return t.listeners(e).length},ao=Yt.Buffer,so=s.Uint8Array||function(){};io=_r&&_r.debuglog?_r.debuglog("stream"):function(){};var fo,ho,uo,co=qn,lo=Mn.codes,po=lo.ERR_INVALID_ARG_TYPE,go=lo.ERR_STREAM_PUSH_AFTER_EOF,yo=lo.ERR_METHOD_NOT_IMPLEMENTED,vo=lo.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;dn(_o,mn);var bo=zn,wo=["error","close","destroy","pause","resume"];function mo(t,e,r){$i=$i||vi,t=t||{},"boolean"!=typeof r&&(r=e instanceof $i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=co(this,t,"readableHighWaterMark",r),this.buffer=new Bn,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(fo||(fo=Ci.StringDecoder),this.decoder=new fo(t.encoding),this.encoding=t.encoding)}function _o(t){if($i=$i||vi,!(this instanceof _o))return new _o(t);var e=this instanceof $i;this._readableState=new mo(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),mn.call(this)}function Eo(t,e,r,n,i){io("readableAddChunk",e);var o,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(io("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?To(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Ao(t)))}(t,a);else if(i||(o=function(t,e){var r;n=e,ao.isBuffer(n)||n instanceof so||"string"==typeof e||void 0===e||t.objectMode||(r=new po("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(a,e)),o)bo(t,o);else if(a.objectMode||e&&e.length>0)if("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===ao.prototype||(e=function(t){return ao.from(t)}(e)),n)a.endEmitted?bo(t,new vo):So(t,a,e,!0);else if(a.ended)bo(t,new go);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?So(t,a,e,!1):xo(t,a)):So(t,a,e,!1)}else n||(a.reading=!1,xo(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function So(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&To(t)),xo(t,e)}Object.defineProperty(_o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),_o.prototype.destroy=On,_o.prototype._undestroy=Ln,_o.prototype._destroy=function(t,e){e(t)},_o.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=ao.from(t,e),e=""),r=!0),Eo(this,t,e,!1,r)},_o.prototype.unshift=function(t){return Eo(this,t,null,!0,!1)},_o.prototype.isPaused=function(){return!1===this._readableState.flowing},_o.prototype.setEncoding=function(t){fo||(fo=Ci.StringDecoder);var e=new fo(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};function ko(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=1073741824?t=1073741824:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function To(t){var e=t._readableState;io("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(io("emitReadable",e.flowing),e.emittedReadable=!0,we.nextTick(Ao,t))}function Ao(t){var e=t._readableState;io("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Oo(t)}function xo(t,e){e.readingMore||(e.readingMore=!0,we.nextTick(Bo,t,e))}function Bo(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(io("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function Io(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Ro(t){io("readable nexttick read 0"),t.read(0)}function Uo(t,e){io("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Oo(t),e.flowing&&!e.reading&&t.read(0)}function Oo(t){var e=t._readableState;for(io("flow",e.flowing);e.flowing&&null!==t.read(););}function Lo(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function zo(t){var e=t._readableState;io("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,we.nextTick(Do,e,t))}function Do(t,e){if(io("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function Co(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}_o.prototype.read=function(t){io("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return io("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?zo(this):To(this),null;if(0===(t=ko(t,e))&&e.ended)return 0===e.length&&zo(this),null;var n,i=e.needReadable;return io("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&io("length less than watermark",i=!0),e.ended||e.reading?io("reading or ended",i=!1):i&&(io("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=ko(r,e))),null===(n=t>0?Lo(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&zo(this)),null!==n&&this.emit("data",n),n},_o.prototype._read=function(t){bo(this,new yo("_read()"))},_o.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,io("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||!1!==e.end)&&t!==we.stdout&&t!==we.stderr?a:d;function o(e,i){io("onunpipe"),e===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,io("cleanup"),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("drain",s),t.removeListener("error",u),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",d),r.removeListener("data",h),f=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||s())}function a(){io("onend"),t.end()}n.endEmitted?we.nextTick(i):r.once("end",i),t.on("unpipe",o);var s=function(t){return function(){var e=t._readableState;io("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&oo(t,"data")&&(e.flowing=!0,Oo(t))}}(r);t.on("drain",s);var f=!1;function h(e){io("ondata");var i=t.write(e);io("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==Co(n.pipes,t))&&!f&&(io("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function u(e){io("onerror",e),d(),t.removeListener("error",u),0===oo(t,"error")&&bo(t,e)}function c(){t.removeListener("finish",l),d()}function l(){io("onfinish"),t.removeListener("close",c),d()}function d(){io("unpipe"),r.unpipe(t)}return r.on("data",h),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",u),t.once("close",c),t.once("finish",l),t.emit("pipe",r),n.flowing||(io("pipe resume"),r.resume()),t},_o.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Co(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},_o.prototype.on=function(t,e){var r=mn.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,io("on readable",n.length,n.reading),n.length?To(this):n.reading||we.nextTick(Ro,this))),r},_o.prototype.addListener=_o.prototype.on,_o.prototype.removeListener=function(t,e){var r=mn.prototype.removeListener.call(this,t,e);return"readable"===t&&we.nextTick(Io,this),r},_o.prototype.removeAllListeners=function(t){var e=mn.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||we.nextTick(Io,this),e},_o.prototype.resume=function(){var t=this._readableState;return t.flowing||(io("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,we.nextTick(Uo,t,e))}(this,t)),t.paused=!1,this},_o.prototype.pause=function(){return io("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(io("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_o.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(io("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(io("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<wo.length;o++)t.on(wo[o],this.emit.bind(this,wo[o]));return this._read=function(e){io("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(_o.prototype[Symbol.asyncIterator]=function(){return void 0===ho&&(ho=eo),ho(this)}),Object.defineProperty(_o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),_o._fromList=Lo,Object.defineProperty(_o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_o.from=function(t,e){return void 0===uo&&(uo=ro),uo(_o,t,e)});var No=Ho,Mo=Mn.codes,Po=Mo.ERR_METHOD_NOT_IMPLEMENTED,qo=Mo.ERR_MULTIPLE_CALLBACK,jo=Mo.ERR_TRANSFORM_ALREADY_TRANSFORMING,Fo=Mo.ERR_TRANSFORM_WITH_LENGTH_0;function Ko(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new qo);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ho(t){if(!(this instanceof Ho))return new Ho(t);vi.call(this,t),this._transformState={afterTransform:Ko.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",Vo)}function Vo(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?Wo(this,null,null):this._flush((function(e,r){Wo(t,e,r)}))}function Wo(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Fo;if(t._transformState.transforming)throw new jo;return t.push(null)}dn(Ho,vi),Ho.prototype.push=function(t,e){return this._transformState.needTransform=!1,vi.prototype.push.call(this,t,e)},Ho.prototype._transform=function(t,e,r){r(new Po("_transform()"))},Ho.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Ho.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},Ho.prototype._destroy=function(t,e){vi.prototype._destroy.call(this,t,(function(t){e(t)}))};var Zo,Yo=Go;function Go(t){if(!(this instanceof Go))return new Go(t);No.call(this,t)}dn(Go,No),Go.prototype._transform=function(t,e,r){r(null,t)};var Xo=Mn.codes,Jo=Xo.ERR_MISSING_ARGS,$o=Xo.ERR_STREAM_DESTROYED;function Qo(t){if(t)throw t}function ta(t,e,r,n){n=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(n);var i=!1;t.on("close",(function(){i=!0})),void 0===Zo&&(Zo=qi),Zo(t,{readable:e,writable:r},(function(t){if(t)return n(t);i=!0,n()}));var o=!1;return function(e){if(!i&&!o)return o=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void n(e||new $o("pipe"))}}function ea(t){t()}function ra(t,e){return t.pipe(e)}function na(t){return t.length?"function"!=typeof t[t.length-1]?Qo:t.pop():Qo}var ia=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=na(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Jo("streams");var o=e.map((function(t,r){var a=r<e.length-1;return ta(t,a,r>0,(function(t){n||(n=t),t&&o.forEach(ea),a||(o.forEach(ea),i(n))}))}));return e.reduce(ra)},oa=h((function(t,e){(e=t.exports=no).Stream=e,e.Readable=e,e.Writable=Hn,e.Duplex=vi,e.Transform=No,e.PassThrough=Yo,e.finished=qi,e.pipeline=ia})),aa=(oa.Stream,oa.Readable,oa.Writable,oa.Duplex,oa.Transform,oa.PassThrough,oa.finished,oa.pipeline,me.Buffer),sa=oa.Transform;function fa(t){sa.call(this),this._block=aa.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}dn(fa,sa),fa.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},fa.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},fa.prototype.update=function(t,e){if(function(t,e){if(!aa.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");aa.isBuffer(t)||(t=aa.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},fa.prototype._update=function(){throw new Error("_update is not implemented")},fa.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},fa.prototype._digest=function(){throw new Error("_digest is not implemented")};var ha=fa,ua=me.Buffer,ca=new Array(16);function la(){ha.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function da(t,e){return t<<e|t>>>32-e}function pa(t,e,r,n,i,o,a){return da(t+(e&r|~e&n)+i+o|0,a)+e|0}function ga(t,e,r,n,i,o,a){return da(t+(e&n|r&~n)+i+o|0,a)+e|0}function ya(t,e,r,n,i,o,a){return da(t+(e^r^n)+i+o|0,a)+e|0}function va(t,e,r,n,i,o,a){return da(t+(r^(e|~n))+i+o|0,a)+e|0}dn(la,ha),la.prototype._update=function(){for(var t=ca,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,o=this._d;r=pa(r,n,i,o,t[0],3614090360,7),o=pa(o,r,n,i,t[1],3905402710,12),i=pa(i,o,r,n,t[2],606105819,17),n=pa(n,i,o,r,t[3],3250441966,22),r=pa(r,n,i,o,t[4],4118548399,7),o=pa(o,r,n,i,t[5],1200080426,12),i=pa(i,o,r,n,t[6],2821735955,17),n=pa(n,i,o,r,t[7],4249261313,22),r=pa(r,n,i,o,t[8],1770035416,7),o=pa(o,r,n,i,t[9],2336552879,12),i=pa(i,o,r,n,t[10],4294925233,17),n=pa(n,i,o,r,t[11],2304563134,22),r=pa(r,n,i,o,t[12],1804603682,7),o=pa(o,r,n,i,t[13],4254626195,12),i=pa(i,o,r,n,t[14],2792965006,17),r=ga(r,n=pa(n,i,o,r,t[15],1236535329,22),i,o,t[1],4129170786,5),o=ga(o,r,n,i,t[6],3225465664,9),i=ga(i,o,r,n,t[11],643717713,14),n=ga(n,i,o,r,t[0],3921069994,20),r=ga(r,n,i,o,t[5],3593408605,5),o=ga(o,r,n,i,t[10],38016083,9),i=ga(i,o,r,n,t[15],3634488961,14),n=ga(n,i,o,r,t[4],3889429448,20),r=ga(r,n,i,o,t[9],568446438,5),o=ga(o,r,n,i,t[14],3275163606,9),i=ga(i,o,r,n,t[3],4107603335,14),n=ga(n,i,o,r,t[8],1163531501,20),r=ga(r,n,i,o,t[13],2850285829,5),o=ga(o,r,n,i,t[2],4243563512,9),i=ga(i,o,r,n,t[7],1735328473,14),r=ya(r,n=ga(n,i,o,r,t[12],2368359562,20),i,o,t[5],4294588738,4),o=ya(o,r,n,i,t[8],2272392833,11),i=ya(i,o,r,n,t[11],1839030562,16),n=ya(n,i,o,r,t[14],4259657740,23),r=ya(r,n,i,o,t[1],2763975236,4),o=ya(o,r,n,i,t[4],1272893353,11),i=ya(i,o,r,n,t[7],4139469664,16),n=ya(n,i,o,r,t[10],3200236656,23),r=ya(r,n,i,o,t[13],681279174,4),o=ya(o,r,n,i,t[0],3936430074,11),i=ya(i,o,r,n,t[3],3572445317,16),n=ya(n,i,o,r,t[6],76029189,23),r=ya(r,n,i,o,t[9],3654602809,4),o=ya(o,r,n,i,t[12],3873151461,11),i=ya(i,o,r,n,t[15],530742520,16),r=va(r,n=ya(n,i,o,r,t[2],3299628645,23),i,o,t[0],4096336452,6),o=va(o,r,n,i,t[7],1126891415,10),i=va(i,o,r,n,t[14],2878612391,15),n=va(n,i,o,r,t[5],4237533241,21),r=va(r,n,i,o,t[12],1700485571,6),o=va(o,r,n,i,t[3],2399980690,10),i=va(i,o,r,n,t[10],4293915773,15),n=va(n,i,o,r,t[1],2240044497,21),r=va(r,n,i,o,t[8],1873313359,6),o=va(o,r,n,i,t[15],4264355552,10),i=va(i,o,r,n,t[6],2734768916,15),n=va(n,i,o,r,t[13],1309151649,21),r=va(r,n,i,o,t[4],4149444226,6),o=va(o,r,n,i,t[11],3174756917,10),i=va(i,o,r,n,t[2],718787259,15),n=va(n,i,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},la.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=ua.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};var ba=la,wa=me.Buffer;var ma=function(t,e,r,n){if(wa.isBuffer(t)||(t=wa.from(t,"binary")),e&&(wa.isBuffer(e)||(e=wa.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,o=wa.alloc(i),a=wa.alloc(n||0),s=wa.alloc(0);i>0||n>0;){var f=new ba;f.update(s),f.update(t),e&&f.update(e),s=f.digest();var h=0;if(i>0){var u=o.length-i;h=Math.min(i,s.length),s.copy(o,u,0,h),i-=h}if(h<s.length&&n>0){var c=a.length-n,l=Math.min(n,s.length-h);s.copy(a,c,h,h+l),n-=l}}return s.fill(0),{key:o,iv:a}};dn(Ea,bn);var _a=Ea;function Ea(t,e,r,n){if(!(this instanceof Ea))return new Ea(t,e,r);bn.call(this),this._cipher=new Ue.AES(e),this._prev=new ut(r.length),this._cache=new ut(""),this._secCache=new ut(""),this._decrypt=n,r.copy(this._prev),this._mode=t}Ea.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},Ea.prototype._final=function(){this._cipher.scrub()};var Sa=new ut(16);Sa.fill(0);var ka=Ta;function Ta(t){this.h=t,this.state=new ut(16),this.state.fill(0),this.cache=new ut("")}function Aa(t){t=t.map(Ba);var e=new ut(16);return e.writeUInt32BE(t[0],0),e.writeUInt32BE(t[1],4),e.writeUInt32BE(t[2],8),e.writeUInt32BE(t[3],12),e}Ta.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},Ta.prototype._multiply=function(){for(var t,e,r,n,i,o=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],a=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(i=o,a=[(n=a)[0]^i[0],n[1]^i[1],n[2]^i[2],n[3]^i[3]]),r=0!=(1&o[3]),e=3;e>0;e--)o[e]=o[e]>>>1|(1&o[e-1])<<31;o[0]=o[0]>>>1,r&&(o[0]=o[0]^225<<24)}this.state=Aa(a)},Ta.prototype.update=function(t){var e;for(this.cache=ut.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},Ta.prototype.final=function(t,e){return this.cache.length&&this.ghash(ut.concat([this.cache,Sa],16)),this.ghash(Aa([0,t,0,e])),this.state};var xa=Math.pow(2,32);function Ba(t){var e;return t>xa||t<0?(e=Math.abs(t)%xa,t<0?xa-e:e):t}var Ia=function(t,e){for(var r=Math.min(t.length,e.length),n=new ut(r),i=0;i<r;++i)n[i]=t[i]^e[i];return n};dn(Ua,bn);var Ra=Ua;function Ua(t,e,r,n){if(!(this instanceof Ua))return new Ua(t,e,r);bn.call(this),this._finID=ut.concat([r,new ut([0,0,0,1])]),r=ut.concat([r,new ut([0,0,0,2])]),this._cipher=new Ue.AES(e),this._prev=new ut(r.length),this._cache=new ut(""),this._secCache=new ut(""),this._decrypt=n,this._alen=0,this._len=0,r.copy(this._prev),this._mode=t;var i=new ut(4);i.fill(0),this._ghash=new ka(this._cipher.encryptBlock(i)),this._authTag=null,this._called=!1}Ua.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&((e=new ut(e)).fill(0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},Ua.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=Ia(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(function(t,e){var r=0;t.length!==e.length&&r++;var n=Math.min(t.length,e.length),i=-1;for(;++i<n;)r+=t[i]^e[i];return r}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=t;this._cipher.scrub()},Ua.prototype.getAuthTag=function(){if(!this._decrypt&&ut.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},Ua.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},Ua.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length};var Oa={encrypt:function(t,e){return t._cipher.encryptBlock(e)},decrypt:function(t,e){return t._cipher.decryptBlock(e)}},La={encrypt:function(t,e){var r=Ia(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},decrypt:function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return Ia(n,r)}};function za(t,e,r){var n=e.length,i=Ia(e,t._cache);return t._cache=t._cache.slice(n),t._prev=ut.concat([t._prev,r?e:i]),i}var Da={encrypt:function(t,e,r){for(var n,i=new ut("");e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=new ut("")),!(t._cache.length<=e.length)){i=ut.concat([i,za(t,e,r)]);break}n=t._cache.length,i=ut.concat([i,za(t,e.slice(0,n),r)]),e=e.slice(n)}return i}};function Ca(t,e,r){var n=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=ut.concat([t._prev.slice(1),new ut([r?e:n])]),n}var Na={encrypt:function(t,e,r){for(var n=e.length,i=new ut(n),o=-1;++o<n;)i[o]=Ca(t,e[o],r);return i}};function Ma(t,e,r){for(var n,i,o=-1,a=0;++o<8;)n=e&1<<7-o?128:0,a+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^n))>>o%8,t._prev=Pa(t._prev,r?n:i);return a}function Pa(t,e){var r=t.length,n=-1,i=new ut(t.length);for(t=ut.concat([t,new ut([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}var qa={encrypt:function(t,e,r){for(var n=e.length,i=new ut(n),o=-1;++o<n;)i[o]=Ma(t,e[o],r);return i}};function ja(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}var Fa={encrypt:function(t,e){for(;t._cache.length<e.length;)t._cache=ut.concat([t._cache,ja(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Ia(e,r)}};function Ka(t){var e=t._cipher.encryptBlock(t._prev);return function(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}(t._prev),e}var Ha={encrypt:function(t,e){for(;t._cache.length<e.length;)t._cache=ut.concat([t._cache,Ka(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Ia(e,r)}};function Va(t,e,r){if(!(this instanceof Va))return new Va(t,e,r);bn.call(this),this._cache=new Wa,this._cipher=new Ue.AES(e),this._prev=new ut(r.length),r.copy(this._prev),this._mode=t,this._autopadding=!0}function Wa(){if(!(this instanceof Wa))return new Wa;this.cache=new ut("")}dn(Va,bn),Va.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return ut.concat(n)},Va.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if("10101010101010101010101010101010"!==t.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},Va.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},Wa.prototype.add=function(t){this.cache=ut.concat([this.cache,t])},Wa.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},Wa.prototype.flush=function(){for(var t=16-this.cache.length,e=new ut(t),r=-1;++r<t;)e.writeUInt8(t,r);return ut.concat([this.cache,e])};var Za={ECB:Oa,CBC:La,CFB:Da,CFB8:Na,CFB1:qa,OFB:Fa,CTR:Ha,GCM:Ha};function Ya(t,e,r){var n=wn[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=new ut(r)),"string"==typeof e&&(e=new ut(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===n.type?new _a(Za[n.mode],e,r):"auth"===n.type?new Ra(Za[n.mode],e,r):new Va(Za[n.mode],e,r)}var Ga={createCipheriv:Ya,createCipher:function(t,e){var r=wn[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=ma(e,!1,r.key,r.iv);return Ya(t,n.key,n.iv)}};function Xa(t,e,r){if(!(this instanceof Xa))return new Xa(t,e,r);bn.call(this),this._cache=new Ja,this._last=void 0,this._cipher=new Ue.AES(e),this._prev=new ut(r.length),r.copy(this._prev),this._mode=t,this._autopadding=!0}function Ja(){if(!(this instanceof Ja))return new Ja;this.cache=new ut("")}dn(Xa,bn),Xa.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return ut.concat(n)},Xa.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15],r=-1;for(;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},Xa.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},Ja.prototype.add=function(t){this.cache=ut.concat([this.cache,t])},Ja.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},Ja.prototype.flush=function(){if(this.cache.length)return this.cache};var $a={ECB:Oa,CBC:La,CFB:Da,CFB8:Na,CFB1:qa,OFB:Fa,CTR:Ha,GCM:Ha};function Qa(t,e,r){var n=wn[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=new ut(r)),"string"==typeof e&&(e=new ut(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===n.type?new _a($a[n.mode],e,r,!0):"auth"===n.type?new Ra($a[n.mode],e,r,!0):new Xa($a[n.mode],e,r)}var ts={createDecipher:function(t,e){var r=wn[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=ma(e,!1,r.key,r.iv);return Qa(t,n.key,n.iv)},createDecipheriv:Qa},es=h((function(t,e){e.createCipher=e.Cipher=Ga.createCipher,e.createCipheriv=e.Cipheriv=Ga.createCipheriv,e.createDecipher=e.Decipher=ts.createDecipher,e.createDecipheriv=e.Decipheriv=ts.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(wn)}}));es.createCipher,es.Cipher,es.createCipheriv,es.Cipheriv,es.createDecipher,es.Decipher,es.createDecipheriv,es.Decipheriv,es.listCiphers,es.getCiphers;function rs(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}var ns,is=Object.prototype.hasOwnProperty,os=Object.keys||function(t){var e=[];for(var r in t)is.call(t,r)&&e.push(r);return e},as=Array.prototype.slice;function ss(){return void 0!==ns?ns:ns="foo"===function(){}.name}function fs(t){return Object.prototype.toString.call(t)}function hs(t){return!Wt(t)&&("function"==typeof G.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function us(t,e){t||ys(t,!0,e,"==",vs)}var cs=/\s*function\s+([^\(\s]*)\s*/;function ls(t){if(dr(t)){if(ss())return t.name;var e=t.toString().match(cs);return e&&e[1]}}function ds(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return ps(gs(t.actual),128)+" "+t.operator+" "+ps(gs(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||ys;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=ls(e),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}}function ps(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function gs(t){if(ss()||!dr(t))return Je(t);var e=ls(t);return"[Function"+(e?": "+e:"")+"]"}function ys(t,e,r,n,i){throw new ds({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function vs(t,e){t||ys(t,!0,e,"==",vs)}function bs(t,e,r,n){if(t===e)return!0;if(Wt(t)&&Wt(e))return 0===rs(t,e);if(cr(t)&&cr(e))return t.getTime()===e.getTime();if(hr(t)&&hr(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(hs(t)&&hs(e)&&fs(t)===fs(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===rs(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(Wt(t)!==Wt(e))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(pr(t)||pr(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=ws(t),o=ws(e);if(i&&!o||!i&&o)return!1;if(i)return t=as.call(t),e=as.call(e),bs(t,e,r);var a,s,f=os(t),h=os(e);if(f.length!==h.length)return!1;for(f.sort(),h.sort(),s=f.length-1;s>=0;s--)if(f[s]!==h[s])return!1;for(s=f.length-1;s>=0;s--)if(a=f[s],!bs(t[a],e[a],r,n))return!1;return!0}(t,e,r,n))}return r?t===e:t==e}function ws(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function ms(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function _s(t,e,r,n){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&ys(i,r,"Missing expected exception"+n);var o="string"==typeof n,a=!t&&i&&!r;if((!t&&lr(i)&&o&&ms(i,r)||a)&&ys(i,r,"Got unwanted exception"+n),t&&i&&r&&!ms(i,r)||!t&&i)throw i}us.AssertionError=ds,He(ds,Error),us.fail=ys,us.ok=vs,us.equal=function t(e,r,n){e!=r&&ys(e,r,n,"==",t)},us.notEqual=function t(e,r,n){e==r&&ys(e,r,n,"!=",t)},us.deepEqual=function t(e,r,n){bs(e,r,!1)||ys(e,r,n,"deepEqual",t)},us.deepStrictEqual=function t(e,r,n){bs(e,r,!0)||ys(e,r,n,"deepStrictEqual",t)},us.notDeepEqual=function t(e,r,n){bs(e,r,!1)&&ys(e,r,n,"notDeepEqual",t)},us.notDeepStrictEqual=function t(e,r,n){bs(e,r,!0)&&ys(e,r,n,"notDeepStrictEqual",t)},us.strictEqual=function t(e,r,n){e!==r&&ys(e,r,n,"===",t)},us.notStrictEqual=function t(e,r,n){e===r&&ys(e,r,n,"!==",t)},us.throws=function(t,e,r){_s(!0,t,e,r)},us.doesNotThrow=function(t,e,r){_s(!1,t,e,r)},us.ifError=function(t){if(t)throw t};var Es=h((function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}}}));f(Es);var Ss=function(t){if(Array.isArray(t))return t};var ks=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}};var Ts=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")};var As=function(t,e){return Ss(t)||ks(t,e)||Ts()},xs=h((function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(n){return"function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?t.exports=r=function(t){return e(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},r(n)}t.exports=r})),Bs=["cryptography","math","bitcoin","arbitrary","precision","arithmetic","big","integer","int","number","biginteger","bigint","bignumber","decimal","float"],Is={coveralls:"^2.11.2",istanbul:"^0.3.5",jshint:"^2.5.1",mocha:"^2.1.0",mochify:"^2.1.0"},Rs={url:"https://github.com/cryptocoinjs/bigi",type:"git"},Us="./lib/index.js",Os={"browser-test":"./node_modules/.bin/mochify --wd -R spec",test:"./node_modules/.bin/_mocha -- test/*.js",jshint:"./node_modules/.bin/jshint --config jshint.json lib/*.js ; true",unit:"./node_modules/.bin/mocha",coverage:"./node_modules/.bin/istanbul cover ./node_modules/.bin/_mocha -- --reporter list test/*.js",coveralls:"npm run-script coverage && node ./node_modules/.bin/coveralls < coverage/lcov.info"},Ls={},zs={files:"test/*.js",harness:"mocha",browsers:["ie/9..latest","firefox/latest","chrome/latest","safari/6.0..latest","iphone/6.0..latest","android-browser/4.2..latest"]},Ds={name:"bigi",version:"1.4.2",description:"Big integers.",keywords:Bs,devDependencies:Is,repository:Rs,main:Us,scripts:Os,dependencies:Ls,testling:zs},Cs=u(Object.freeze({__proto__:null,name:"bigi",version:"1.4.2",description:"Big integers.",keywords:Bs,devDependencies:Is,repository:Rs,main:Us,scripts:Os,dependencies:Ls,testling:zs,default:Ds}));function Ns(t,e,r){if(!(this instanceof Ns))return new Ns(t,e,r);null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}var Ms=Ns.prototype;Ms.__bigi=Cs.version,Ns.isBigInteger=function(t,e){return t&&t.__bigi&&(!e||t.__bigi===Ms.__bigi)},Ns.prototype.am=function(t,e,r,n,i,o){for(;--o>=0;){var a=e*this[t++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=67108863&a}return i},Ns.prototype.DB=26,Ns.prototype.DM=67108863;var Ps=Ns.prototype.DV=1<<26;Ns.prototype.FV=Math.pow(2,52),Ns.prototype.F1=26,Ns.prototype.F2=0;var qs,js,Fs=new Array;for(qs="0".charCodeAt(0),js=0;js<=9;++js)Fs[qs++]=js;for(qs="a".charCodeAt(0),js=10;js<36;++js)Fs[qs++]=js;for(qs="A".charCodeAt(0),js=10;js<36;++js)Fs[qs++]=js;function Ks(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function Hs(t,e){var r=Fs[t.charCodeAt(e)];return null==r?-1:r}function Vs(t){var e=new Ns;return e.fromInt(t),e}function Ws(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function Zs(t){this.m=t}function Ys(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Gs(t,e){return t&e}function Xs(t,e){return t|e}function Js(t,e){return t^e}function $s(t,e){return t&~e}function Qs(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function tf(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function ef(){}function rf(t){return t}function nf(t){this.r2=new Ns,this.q3=new Ns,Ns.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}Zs.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},Zs.prototype.revert=function(t){return t},Zs.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},Zs.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},Zs.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},Ys.prototype.convert=function(t){var e=new Ns;return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(Ns.ZERO)>0&&this.m.subTo(e,e),e},Ys.prototype.revert=function(t){var e=new Ns;return t.copyTo(e),this.reduce(e),e},Ys.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},Ys.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},Ys.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},Ms.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},Ms.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+Ps:this.t=0},Ms.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var a=8==r?255&t[n]:Hs(t,n);a<0?"-"==t.charAt(n)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&Ns.ZERO.subTo(this,this)},Ms.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},Ms.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},Ms.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},Ms.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,o=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+a+1]=this[r]>>i|s,s=(this[r]&o)<<n;for(r=a-1;r>=0;--r)e[r]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()},Ms.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)e[a-r-1]|=(this[a]&o)<<i,e[a-r]=this[a]>>n;n>0&&(e[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},Ms.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},Ms.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&Ns.ZERO.subTo(e,e)},Ms.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},Ms.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=new Ns);var o=new Ns,a=this.s,s=t.s,f=this.DB-Ws(n[n.t-1]);f>0?(n.lShiftTo(f,o),i.lShiftTo(f,r)):(n.copyTo(o),i.copyTo(r));var h=o.t,u=o[h-1];if(0!=u){var c=u*(1<<this.F1)+(h>1?o[h-2]>>this.F2:0),l=this.FV/c,d=(1<<this.F1)/c,p=1<<this.F2,g=r.t,y=g-h,v=null==e?new Ns:e;for(o.dlShiftTo(y,v),r.compareTo(v)>=0&&(r[r.t++]=1,r.subTo(v,r)),Ns.ONE.dlShiftTo(h,v),v.subTo(o,o);o.t<h;)o[o.t++]=0;for(;--y>=0;){var b=r[--g]==u?this.DM:Math.floor(r[g]*l+(r[g-1]+p)*d);if((r[g]+=o.am(0,b,r,y,0,h))<b)for(o.dlShiftTo(y,v),r.subTo(v,r);r[g]<--b;)r.subTo(v,r)}null!=e&&(r.drShiftTo(h,e),a!=s&&Ns.ZERO.subTo(e,e)),r.t=h,r.clamp(),f>0&&r.rShiftTo(f,r),a<0&&Ns.ZERO.subTo(r,r)}}},Ms.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},Ms.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},Ms.exp=function(t,e){if(t>4294967295||t<1)return Ns.ONE;var r=new Ns,n=new Ns,i=e.convert(this),o=Ws(t)-1;for(i.copyTo(r);--o>=0;)if(e.sqrTo(r,n),(t&1<<o)>0)e.mulTo(n,i,r);else{var a=r;r=n,n=a}return e.revert(r)},Ms.toString=function(t){var e;if(this.s<0)return"-"+this.negate().toString(t);if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(r=this[a]>>s)>0&&(i=!0,o=Ks(r));a>=0;)s<e?(r=(this[a]&(1<<s)-1)<<e-s,r|=this[--a]>>(s+=this.DB-e)):(r=this[a]>>(s-=e)&n,s<=0&&(s+=this.DB,--a)),r>0&&(i=!0),i&&(o+=Ks(r));return i?o:"0"},Ms.negate=function(){var t=new Ns;return Ns.ZERO.subTo(this,t),t},Ms.abs=function(){return this.s<0?this.negate():this},Ms.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},Ms.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Ws(this[this.t-1]^this.s&this.DM)},Ms.byteLength=function(){return this.bitLength()>>3},Ms.mod=function(t){var e=new Ns;return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(Ns.ZERO)>0&&t.subTo(e,e),e},Ms.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new Zs(e):new Ys(e),this.exp(t,r)},ef.prototype.convert=rf,ef.prototype.revert=rf,ef.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},ef.prototype.sqrTo=function(t,e){t.squareTo(e)},nf.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=new Ns;return t.copyTo(e),this.reduce(e),e},nf.prototype.revert=function(t){return t},nf.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},nf.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},nf.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var of=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],af=(1<<26)/of[of.length-1];Ms.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},Ms.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=Vs(r),i=new Ns,o=new Ns,a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(t)+a},Ms.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,a=0,s=0;s<t.length;++s){var f=Hs(t,s);f<0?"-"==t.charAt(s)&&0==this.signum()&&(i=!0):(a=e*a+f,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),i&&Ns.ZERO.subTo(this,this)},Ms.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(Ns.ONE.shiftLeft(t-1),Xs,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(Ns.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},Ms.bitwiseTo=function(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},Ms.changeBit=function(t,e){var r=Ns.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},Ms.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},Ms.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},Ms.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},Ms.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,t[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t[i],r,i,0,e-i);r.clamp()},Ms.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},Ms.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},Ms.millerRabin=function(t){var e=this.subtract(Ns.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);(t=t+1>>1)>of.length&&(t=of.length);for(var i=new Ns(null),o=[],a=0;a<t;++a){for(;f=of[Math.floor(Math.random()*of.length)],-1!=o.indexOf(f););o.push(f),i.fromInt(f);var s=i.modPow(n,this);if(0!=s.compareTo(Ns.ONE)&&0!=s.compareTo(e)){for(var f=1;f++<r&&0!=s.compareTo(e);)if(0==(s=s.modPowInt(2,this)).compareTo(Ns.ONE))return!1;if(0!=s.compareTo(e))return!1}}return!0},Ms.clone=function(){var t=new Ns;return this.copyTo(t),t},Ms.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},Ms.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},Ms.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},Ms.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},Ms.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0===i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},Ms.equals=function(t){return 0==this.compareTo(t)},Ms.min=function(t){return this.compareTo(t)<0?this:t},Ms.max=function(t){return this.compareTo(t)>0?this:t},Ms.and=function(t){var e=new Ns;return this.bitwiseTo(t,Gs,e),e},Ms.or=function(t){var e=new Ns;return this.bitwiseTo(t,Xs,e),e},Ms.xor=function(t){var e=new Ns;return this.bitwiseTo(t,Js,e),e},Ms.andNot=function(t){var e=new Ns;return this.bitwiseTo(t,$s,e),e},Ms.not=function(){for(var t=new Ns,e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},Ms.shiftLeft=function(t){var e=new Ns;return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},Ms.shiftRight=function(t){var e=new Ns;return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},Ms.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+Qs(this[t]);return this.s<0?this.t*this.DB:-1},Ms.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=tf(this[r]^e);return t},Ms.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},Ms.setBit=function(t){return this.changeBit(t,Xs)},Ms.clearBit=function(t){return this.changeBit(t,$s)},Ms.flipBit=function(t){return this.changeBit(t,Js)},Ms.add=function(t){var e=new Ns;return this.addTo(t,e),e},Ms.subtract=function(t){var e=new Ns;return this.subTo(t,e),e},Ms.multiply=function(t){var e=new Ns;return this.multiplyTo(t,e),e},Ms.divide=function(t){var e=new Ns;return this.divRemTo(t,e,null),e},Ms.remainder=function(t){var e=new Ns;return this.divRemTo(t,null,e),e},Ms.divideAndRemainder=function(t){var e=new Ns,r=new Ns;return this.divRemTo(t,e,r),new Array(e,r)},Ms.modPow=function(t,e){var r,n,i=t.bitLength(),o=Vs(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new Zs(e):e.isEven()?new nf(e):new Ys(e);var a=new Array,s=3,f=r-1,h=(1<<r)-1;if(a[1]=n.convert(this),r>1){var u=new Ns;for(n.sqrTo(a[1],u);s<=h;)a[s]=new Ns,n.mulTo(u,a[s-2],a[s]),s+=2}var c,l,d=t.t-1,p=!0,g=new Ns;for(i=Ws(t[d])-1;d>=0;){for(i>=f?c=t[d]>>i-f&h:(c=(t[d]&(1<<i+1)-1)<<f-i,d>0&&(c|=t[d-1]>>this.DB+i-f)),s=r;0==(1&c);)c>>=1,--s;if((i-=s)<0&&(i+=this.DB,--d),p)a[c].copyTo(o),p=!1;else{for(;s>1;)n.sqrTo(o,g),n.sqrTo(g,o),s-=2;s>0?n.sqrTo(o,g):(l=o,o=g,g=l),n.mulTo(g,a[c],o)}for(;d>=0&&0==(t[d]&1<<i);)n.sqrTo(o,g),l=o,o=g,g=l,--i<0&&(i=this.DB-1,--d)}return n.revert(o)},Ms.modInverse=function(t){var e=t.isEven();if(0===this.signum())throw new Error("division by zero");if(this.isEven()&&e||0==t.signum())return Ns.ZERO;for(var r=t.clone(),n=this.clone(),i=Vs(1),o=Vs(0),a=Vs(0),s=Vs(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(t,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),o.subTo(s,o)):(n.subTo(r,n),e&&a.subTo(i,a),s.subTo(o,s))}if(0!=n.compareTo(Ns.ONE))return Ns.ZERO;for(;s.compareTo(t)>=0;)s.subTo(t,s);for(;s.signum()<0;)s.addTo(t,s);return s},Ms.pow=function(t){return this.exp(t,new ef)},Ms.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},Ms.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=of[of.length-1]){for(e=0;e<of.length;++e)if(r[0]==of[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<of.length;){for(var n=of[e],i=e+1;i<of.length&&n<af;)n*=of[i++];for(n=r.modInt(n);e<i;)if(n%of[e++]==0)return!1}return r.millerRabin(t)},Ms.square=function(){var t=new Ns;return this.squareTo(t),t},Ns.ZERO=Vs(0),Ns.ONE=Vs(1),Ns.valueOf=Vs;var sf=Ns;sf.fromByteArrayUnsigned=function(t){return 128&t[0]?new sf([0].concat(t)):new sf(t)},sf.prototype.toByteArrayUnsigned=function(){var t=this.toByteArray();return 0===t[0]?t.slice(1):t},sf.fromDERInteger=function(t){return new sf(t)},sf.prototype.toDERInteger=sf.prototype.toByteArray,sf.fromBuffer=function(t){if(128&t[0]){var e=Array.prototype.slice.call(t);return new sf([0].concat(e))}return new sf(t)},sf.fromHex=function(t){return""===t?sf.ZERO:(us.equal(t,t.match(/^[A-Fa-f0-9]+/),"Invalid hex string"),us.equal(t.length%2,0,"Incomplete hex"),new sf(t,16))},sf.prototype.toBuffer=function(t){for(var e=this.toByteArrayUnsigned(),r=[],n=t-e.length;r.length<n;)r.push(0);return new ut(r.concat(e))},sf.prototype.toHex=function(t){return this.toBuffer(t).toString("hex")};var ff=sf,hf=ff.valueOf(3);function uf(t,e,r,n){us.notStrictEqual(n,void 0,"Missing Z coordinate"),this.curve=t,this.x=e,this.y=r,this.z=n,this._zInv=null,this.compressed=!0}Object.defineProperty(uf.prototype,"zInv",{get:function(){return null===this._zInv&&(this._zInv=this.z.modInverse(this.curve.p)),this._zInv}}),Object.defineProperty(uf.prototype,"affineX",{get:function(){return this.x.multiply(this.zInv).mod(this.curve.p)}}),Object.defineProperty(uf.prototype,"affineY",{get:function(){return this.y.multiply(this.zInv).mod(this.curve.p)}}),uf.fromAffine=function(t,e,r){return new uf(t,e,r,ff.ONE)},uf.prototype.equals=function(t){return t===this||(this.curve.isInfinity(this)?this.curve.isInfinity(t):this.curve.isInfinity(t)?this.curve.isInfinity(this):0===t.y.multiply(this.z).subtract(this.y.multiply(t.z)).mod(this.curve.p).signum()&&0===t.x.multiply(this.z).subtract(this.x.multiply(t.z)).mod(this.curve.p).signum())},uf.prototype.negate=function(){var t=this.curve.p.subtract(this.y);return new uf(this.curve,this.x,t,this.z)},uf.prototype.add=function(t){if(this.curve.isInfinity(this))return t;if(this.curve.isInfinity(t))return this;var e=this.x,r=this.y,n=t.x,i=t.y.multiply(this.z).subtract(r.multiply(t.z)).mod(this.curve.p),o=n.multiply(this.z).subtract(e.multiply(t.z)).mod(this.curve.p);if(0===o.signum())return 0===i.signum()?this.twice():this.curve.infinity;var a=o.square(),s=a.multiply(o),f=e.multiply(a),h=i.square().multiply(this.z),u=h.subtract(f.shiftLeft(1)).multiply(t.z).subtract(s).multiply(o).mod(this.curve.p),c=f.multiply(hf).multiply(i).subtract(r.multiply(s)).subtract(h.multiply(i)).multiply(t.z).add(i.multiply(s)).mod(this.curve.p),l=s.multiply(this.z).multiply(t.z).mod(this.curve.p);return new uf(this.curve,u,c,l)},uf.prototype.twice=function(){if(this.curve.isInfinity(this))return this;if(0===this.y.signum())return this.curve.infinity;var t=this.x,e=this.y,r=e.multiply(this.z).mod(this.curve.p),n=r.multiply(e).mod(this.curve.p),i=this.curve.a,o=t.square().multiply(hf);0!==i.signum()&&(o=o.add(this.z.square().multiply(i)));var a=(o=o.mod(this.curve.p)).square().subtract(t.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(r).mod(this.curve.p),s=o.multiply(hf).multiply(t).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(o.pow(3)).mod(this.curve.p),f=r.pow(3).shiftLeft(3).mod(this.curve.p);return new uf(this.curve,a,s,f)},uf.prototype.multiply=function(t){if(this.curve.isInfinity(this))return this;if(0===t.signum())return this.curve.infinity;for(var e=t,r=e.multiply(hf),n=this.negate(),i=this,o=r.bitLength()-2;o>0;--o){var a=r.testBit(o),s=e.testBit(o);i=i.twice(),a!==s&&(i=i.add(a?this:n))}return i},uf.prototype.multiplyTwo=function(t,e,r){for(var n=Math.max(t.bitLength(),r.bitLength())-1,i=this.curve.infinity,o=this.add(e);n>=0;){var a=t.testBit(n),s=r.testBit(n);i=i.twice(),a?i=s?i.add(o):i.add(this):s&&(i=i.add(e)),--n}return i},uf.prototype.getEncoded=function(t){if(null==t&&(t=this.compressed),this.curve.isInfinity(this))return new ut("00","hex");var e,r=this.affineX,n=this.affineY,i=this.curve.pLength;return t?(e=new ut(1+i)).writeUInt8(n.isEven()?2:3,0):((e=new ut(1+i+i)).writeUInt8(4,0),n.toBuffer(i).copy(e,1+i)),r.toBuffer(i).copy(e,1),e},uf.decodeFrom=function(t,e){var r,n=e.readUInt8(0),i=4!==n,o=Math.floor((t.p.bitLength()+7)/8),a=ff.fromBuffer(e.slice(1,1+o));if(i){us.equal(e.length,o+1,"Invalid sequence length"),us(2===n||3===n,"Invalid sequence tag");var s=3===n;r=t.pointFromX(s,a)}else{us.equal(e.length,1+o+o,"Invalid sequence length");var f=ff.fromBuffer(e.slice(1+o));r=uf.fromAffine(t,a,f)}return r.compressed=i,r},uf.prototype.toString=function(){return this.curve.isInfinity(this)?"(INFINITY)":"("+this.affineX.toString()+","+this.affineY.toString()+")"};var cf=uf;function lf(t,e,r,n,i,o,a){this.p=t,this.a=e,this.b=r,this.G=cf.fromAffine(this,n,i),this.n=o,this.h=a,this.infinity=new cf(this,null,null,ff.ZERO),this.pOverFour=t.add(ff.ONE).shiftRight(2),this.pLength=Math.floor((this.p.bitLength()+7)/8)}lf.prototype.pointFromX=function(t,e){var r=e.pow(3).add(this.a.multiply(e)).add(this.b).mod(this.p).modPow(this.pOverFour,this.p),n=r;return r.isEven()^!t&&(n=this.p.subtract(n)),cf.fromAffine(this,e,n)},lf.prototype.isInfinity=function(t){return t===this.infinity||0===t.z.signum()&&0!==t.y.signum()},lf.prototype.isOnCurve=function(t){if(this.isInfinity(t))return!0;var e=t.affineX,r=t.affineY,n=this.a,i=this.b,o=this.p;if(e.signum()<0||e.compareTo(o)>=0)return!1;if(r.signum()<0||r.compareTo(o)>=0)return!1;var a=r.square().mod(o),s=e.pow(3).add(n.multiply(e)).add(i).mod(o);return a.equals(s)},lf.prototype.validate=function(t){us(!this.isInfinity(t),"Point is at infinity"),us(this.isOnCurve(t),"Point is not on the curve");var e=t.multiply(this.n);return us(this.isInfinity(e),"Point is not a scalar multiple of G"),!0};var df=lf,pf={p:"fffffffdffffffffffffffffffffffff",a:"fffffffdfffffffffffffffffffffffc",b:"e87579c11079f43dd824993c2cee5ed3",n:"fffffffe0000000075a30d1b9038a115",h:"01",Gx:"161ff7528b899b2d0c28607ca52c5b86",Gy:"cf5ac8395bafeb13c02da292dded7a83"},gf={p:"fffffffffffffffffffffffffffffffeffffac73",a:"00",b:"07",n:"0100000000000000000001b8fa16dfab9aca16b6b3",h:"01",Gx:"3b4c382ce37aa192a4019e763036f4f5dd4d7ebb",Gy:"938cf935318fdced6bc28286531733c3f03c4fee"},yf={p:"ffffffffffffffffffffffffffffffff7fffffff",a:"ffffffffffffffffffffffffffffffff7ffffffc",b:"1c97befc54bd7a8b65acf89f81d4d4adc565fa45",n:"0100000000000000000001f4c8f927aed3ca752257",h:"01",Gx:"4a96b5688ef573284664698968c38bb913cbfc82",Gy:"23a628553168947d59dcc912042351377ac5fb32"},vf={p:"fffffffffffffffffffffffffffffffffffffffeffffee37",a:"00",b:"03",n:"fffffffffffffffffffffffe26f2fc170f69466a74defd8d",h:"01",Gx:"db4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d",Gy:"9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"},bf={p:"fffffffffffffffffffffffffffffffeffffffffffffffff",a:"fffffffffffffffffffffffffffffffefffffffffffffffc",b:"64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1",n:"ffffffffffffffffffffffff99def836146bc9b1b4d22831",h:"01",Gx:"188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012",Gy:"07192b95ffc8da78631011ed6b24cdd573f977a11e794811"},wf={p:"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",a:"00",b:"07",n:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",h:"01",Gx:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",Gy:"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"},mf={p:"ffffffff00000001000000000000000000000000ffffffffffffffffffffffff",a:"ffffffff00000001000000000000000000000000fffffffffffffffffffffffc",b:"5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",n:"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",h:"01",Gx:"6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296",Gy:"4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"},_f={secp128r1:pf,secp160k1:gf,secp160r1:yf,secp192k1:vf,secp192r1:bf,secp256k1:wf,secp256r1:mf},Ef=u(Object.freeze({__proto__:null,secp128r1:pf,secp160k1:gf,secp160r1:yf,secp192k1:vf,secp192r1:bf,secp256k1:wf,secp256r1:mf,default:_f}));var Sf=function(t){var e=Ef[t];if(!e)return null;var r=new ff(e.p,16),n=new ff(e.a,16),i=new ff(e.b,16),o=new ff(e.n,16),a=new ff(e.h,16),s=new ff(e.Gx,16),f=new ff(e.Gy,16);return new df(r,n,i,s,f,o,a)},kf={Curve:df,Point:cf,getCurveByName:Sf},Tf=new ut(4);Tf.fill(0);var Af=function(t,e){var r=e(function(t){if(t.length%4!=0){var e=t.length+(4-t.length%4);t=ut.concat([t,Tf],e)}for(var r=new Array(t.length>>>2),n=0,i=0;n<t.length;n+=4,i++)r[i]=t.readInt32LE(n);return r}(t),8*t.length);t=new ut(16);for(var n=0;n<r.length;n++)t.writeInt32LE(r[n],n<<2,!0);return t};function xf(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=r,f=n,h=i,u=o;r=If(r,n,i,o,t[a+0],7,-680876936),o=If(o,r,n,i,t[a+1],12,-389564586),i=If(i,o,r,n,t[a+2],17,606105819),n=If(n,i,o,r,t[a+3],22,-1044525330),r=If(r,n,i,o,t[a+4],7,-176418897),o=If(o,r,n,i,t[a+5],12,1200080426),i=If(i,o,r,n,t[a+6],17,-1473231341),n=If(n,i,o,r,t[a+7],22,-45705983),r=If(r,n,i,o,t[a+8],7,1770035416),o=If(o,r,n,i,t[a+9],12,-1958414417),i=If(i,o,r,n,t[a+10],17,-42063),n=If(n,i,o,r,t[a+11],22,-1990404162),r=If(r,n,i,o,t[a+12],7,1804603682),o=If(o,r,n,i,t[a+13],12,-40341101),i=If(i,o,r,n,t[a+14],17,-1502002290),r=Rf(r,n=If(n,i,o,r,t[a+15],22,1236535329),i,o,t[a+1],5,-165796510),o=Rf(o,r,n,i,t[a+6],9,-1069501632),i=Rf(i,o,r,n,t[a+11],14,643717713),n=Rf(n,i,o,r,t[a+0],20,-373897302),r=Rf(r,n,i,o,t[a+5],5,-701558691),o=Rf(o,r,n,i,t[a+10],9,38016083),i=Rf(i,o,r,n,t[a+15],14,-660478335),n=Rf(n,i,o,r,t[a+4],20,-405537848),r=Rf(r,n,i,o,t[a+9],5,568446438),o=Rf(o,r,n,i,t[a+14],9,-1019803690),i=Rf(i,o,r,n,t[a+3],14,-187363961),n=Rf(n,i,o,r,t[a+8],20,1163531501),r=Rf(r,n,i,o,t[a+13],5,-1444681467),o=Rf(o,r,n,i,t[a+2],9,-51403784),i=Rf(i,o,r,n,t[a+7],14,1735328473),r=Uf(r,n=Rf(n,i,o,r,t[a+12],20,-1926607734),i,o,t[a+5],4,-378558),o=Uf(o,r,n,i,t[a+8],11,-2022574463),i=Uf(i,o,r,n,t[a+11],16,1839030562),n=Uf(n,i,o,r,t[a+14],23,-35309556),r=Uf(r,n,i,o,t[a+1],4,-1530992060),o=Uf(o,r,n,i,t[a+4],11,1272893353),i=Uf(i,o,r,n,t[a+7],16,-155497632),n=Uf(n,i,o,r,t[a+10],23,-1094730640),r=Uf(r,n,i,o,t[a+13],4,681279174),o=Uf(o,r,n,i,t[a+0],11,-358537222),i=Uf(i,o,r,n,t[a+3],16,-722521979),n=Uf(n,i,o,r,t[a+6],23,76029189),r=Uf(r,n,i,o,t[a+9],4,-640364487),o=Uf(o,r,n,i,t[a+12],11,-421815835),i=Uf(i,o,r,n,t[a+15],16,530742520),r=Of(r,n=Uf(n,i,o,r,t[a+2],23,-995338651),i,o,t[a+0],6,-198630844),o=Of(o,r,n,i,t[a+7],10,1126891415),i=Of(i,o,r,n,t[a+14],15,-1416354905),n=Of(n,i,o,r,t[a+5],21,-57434055),r=Of(r,n,i,o,t[a+12],6,1700485571),o=Of(o,r,n,i,t[a+3],10,-1894986606),i=Of(i,o,r,n,t[a+10],15,-1051523),n=Of(n,i,o,r,t[a+1],21,-2054922799),r=Of(r,n,i,o,t[a+8],6,1873313359),o=Of(o,r,n,i,t[a+15],10,-30611744),i=Of(i,o,r,n,t[a+6],15,-1560198380),n=Of(n,i,o,r,t[a+13],21,1309151649),r=Of(r,n,i,o,t[a+4],6,-145523070),o=Of(o,r,n,i,t[a+11],10,-1120210379),i=Of(i,o,r,n,t[a+2],15,718787259),n=Of(n,i,o,r,t[a+9],21,-343485551),r=Lf(r,s),n=Lf(n,f),i=Lf(i,h),o=Lf(o,u)}return[r,n,i,o]}function Bf(t,e,r,n,i,o){return Lf((a=Lf(Lf(e,t),Lf(n,o)))<<(s=i)|a>>>32-s,r);var a,s}function If(t,e,r,n,i,o,a){return Bf(e&r|~e&n,t,e,i,o,a)}function Rf(t,e,r,n,i,o,a){return Bf(e&n|r&~n,t,e,i,o,a)}function Uf(t,e,r,n,i,o,a){return Bf(e^r^n,t,e,i,o,a)}function Of(t,e,r,n,i,o,a){return Bf(r^(e|~n),t,e,i,o,a)}function Lf(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}var zf=function(t){return Af(t,xf)},Df=Yt.Buffer,Cf=new Array(16),Nf=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Mf=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Pf=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],qf=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],jf=[0,1518500249,1859775393,2400959708,2840853838],Ff=[1352829926,1548603684,1836072691,2053994217,0];function Kf(){ha.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function Hf(t,e){return t<<e|t>>>32-e}function Vf(t,e,r,n,i,o,a,s){return Hf(t+(e^r^n)+o+a|0,s)+i|0}function Wf(t,e,r,n,i,o,a,s){return Hf(t+(e&r|~e&n)+o+a|0,s)+i|0}function Zf(t,e,r,n,i,o,a,s){return Hf(t+((e|~r)^n)+o+a|0,s)+i|0}function Yf(t,e,r,n,i,o,a,s){return Hf(t+(e&n|r&~n)+o+a|0,s)+i|0}function Gf(t,e,r,n,i,o,a,s){return Hf(t+(e^(r|~n))+o+a|0,s)+i|0}dn(Kf,ha),Kf.prototype._update=function(){for(var t=Cf,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,s=0|this._a,f=0|this._b,h=0|this._c,u=0|this._d,c=0|this._e,l=0;l<80;l+=1){var d,p;l<16?(d=Vf(r,n,i,o,a,t[Nf[l]],jf[0],Pf[l]),p=Gf(s,f,h,u,c,t[Mf[l]],Ff[0],qf[l])):l<32?(d=Wf(r,n,i,o,a,t[Nf[l]],jf[1],Pf[l]),p=Yf(s,f,h,u,c,t[Mf[l]],Ff[1],qf[l])):l<48?(d=Zf(r,n,i,o,a,t[Nf[l]],jf[2],Pf[l]),p=Zf(s,f,h,u,c,t[Mf[l]],Ff[2],qf[l])):l<64?(d=Yf(r,n,i,o,a,t[Nf[l]],jf[3],Pf[l]),p=Wf(s,f,h,u,c,t[Mf[l]],Ff[3],qf[l])):(d=Gf(r,n,i,o,a,t[Nf[l]],jf[4],Pf[l]),p=Vf(s,f,h,u,c,t[Mf[l]],Ff[4],qf[l])),r=a,a=o,o=Hf(i,10),i=n,n=d,s=c,c=u,u=Hf(h,10),h=f,f=p}var g=this._b+i+u|0;this._b=this._c+o+c|0,this._c=this._d+a+s|0,this._d=this._e+r+f|0,this._e=this._a+n+h|0,this._a=g},Kf.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Df.alloc?Df.alloc(20):new Df(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};var Xf=Kf,Jf=me.Buffer;function $f(t,e){this._block=Jf.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}$f.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=Jf.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,o=this._len,a=0;a<i;){for(var s=o%n,f=Math.min(i-a,n-s),h=0;h<f;h++)r[s+h]=t[a+h];a+=f,(o+=f)%n==0&&this._update(r)}return this._len+=i,this},$f.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},$f.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Qf=$f,th=me.Buffer,eh=[1518500249,1859775393,-1894007588,-899497514],rh=new Array(80);function nh(){this.init(),this._w=rh,Qf.call(this,64,56)}function ih(t){return t<<30|t>>>2}function oh(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}dn(nh,Qf),nh.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},nh.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,f=0;f<16;++f)r[f]=t.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var h=0;h<80;++h){var u=~~(h/20),c=0|((e=n)<<5|e>>>27)+oh(u,i,o,a)+s+r[h]+eh[u];s=a,a=o,o=ih(i),i=n,n=c}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},nh.prototype._hash=function(){var t=th.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t};var ah=nh,sh=me.Buffer,fh=[1518500249,1859775393,-1894007588,-899497514],hh=new Array(80);function uh(){this.init(),this._w=hh,Qf.call(this,64,56)}function ch(t){return t<<5|t>>>27}function lh(t){return t<<30|t>>>2}function dh(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}dn(uh,Qf),uh.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},uh.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,f=0;f<16;++f)r[f]=t.readInt32BE(4*f);for(;f<80;++f)r[f]=(e=r[f-3]^r[f-8]^r[f-14]^r[f-16])<<1|e>>>31;for(var h=0;h<80;++h){var u=~~(h/20),c=ch(n)+dh(u,i,o,a)+s+r[h]+fh[u]|0;s=a,a=o,o=lh(i),i=n,n=c}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},uh.prototype._hash=function(){var t=sh.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t};var ph=uh,gh=me.Buffer,yh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],vh=new Array(64);function bh(){this.init(),this._w=vh,Qf.call(this,64,56)}function wh(t,e,r){return r^t&(e^r)}function mh(t,e,r){return t&e|r&(t|e)}function _h(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Eh(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Sh(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}dn(bh,Qf),bh.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},bh.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,f=0|this._f,h=0|this._g,u=0|this._h,c=0;c<16;++c)r[c]=t.readInt32BE(4*c);for(;c<64;++c)r[c]=0|(((e=r[c-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[c-7]+Sh(r[c-15])+r[c-16];for(var l=0;l<64;++l){var d=u+Eh(s)+wh(s,f,h)+yh[l]+r[l]|0,p=_h(n)+mh(n,i,o)|0;u=h,h=f,f=s,s=a+d|0,a=o,o=i,i=n,n=d+p|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=f+this._f|0,this._g=h+this._g|0,this._h=u+this._h|0},bh.prototype._hash=function(){var t=gh.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var kh=bh,Th=me.Buffer,Ah=new Array(64);function xh(){this.init(),this._w=Ah,Qf.call(this,64,56)}dn(xh,kh),xh.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},xh.prototype._hash=function(){var t=Th.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Bh=xh,Ih=me.Buffer,Rh=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Uh=new Array(160);function Oh(){this.init(),this._w=Uh,Qf.call(this,128,112)}function Lh(t,e,r){return r^t&(e^r)}function zh(t,e,r){return t&e|r&(t|e)}function Dh(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Ch(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Nh(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Mh(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Ph(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function qh(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function jh(t,e){return t>>>0<e>>>0?1:0}dn(Oh,Qf),Oh.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Oh.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,s=0|this._fh,f=0|this._gh,h=0|this._hh,u=0|this._al,c=0|this._bl,l=0|this._cl,d=0|this._dl,p=0|this._el,g=0|this._fl,y=0|this._gl,v=0|this._hl,b=0;b<32;b+=2)e[b]=t.readInt32BE(4*b),e[b+1]=t.readInt32BE(4*b+4);for(;b<160;b+=2){var w=e[b-30],m=e[b-30+1],_=Nh(w,m),E=Mh(m,w),S=Ph(w=e[b-4],m=e[b-4+1]),k=qh(m,w),T=e[b-14],A=e[b-14+1],x=e[b-32],B=e[b-32+1],I=E+A|0,R=_+T+jh(I,E)|0;R=(R=R+S+jh(I=I+k|0,k)|0)+x+jh(I=I+B|0,B)|0,e[b]=R,e[b+1]=I}for(var U=0;U<160;U+=2){R=e[U],I=e[U+1];var O=zh(r,n,i),L=zh(u,c,l),z=Dh(r,u),D=Dh(u,r),C=Ch(a,p),N=Ch(p,a),M=Rh[U],P=Rh[U+1],q=Lh(a,s,f),j=Lh(p,g,y),F=v+N|0,K=h+C+jh(F,v)|0;K=(K=(K=K+q+jh(F=F+j|0,j)|0)+M+jh(F=F+P|0,P)|0)+R+jh(F=F+I|0,I)|0;var H=D+L|0,V=z+O+jh(H,D)|0;h=f,v=y,f=s,y=g,s=a,g=p,a=o+K+jh(p=d+F|0,d)|0,o=i,d=l,i=n,l=c,n=r,c=u,r=K+V+jh(u=F+H|0,F)|0}this._al=this._al+u|0,this._bl=this._bl+c|0,this._cl=this._cl+l|0,this._dl=this._dl+d|0,this._el=this._el+p|0,this._fl=this._fl+g|0,this._gl=this._gl+y|0,this._hl=this._hl+v|0,this._ah=this._ah+r+jh(this._al,u)|0,this._bh=this._bh+n+jh(this._bl,c)|0,this._ch=this._ch+i+jh(this._cl,l)|0,this._dh=this._dh+o+jh(this._dl,d)|0,this._eh=this._eh+a+jh(this._el,p)|0,this._fh=this._fh+s+jh(this._fl,g)|0,this._gh=this._gh+f+jh(this._gl,y)|0,this._hh=this._hh+h+jh(this._hl,v)|0},Oh.prototype._hash=function(){var t=Ih.allocUnsafe(64);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Fh=Oh,Kh=me.Buffer,Hh=new Array(160);function Vh(){this.init(),this._w=Hh,Qf.call(this,128,112)}dn(Vh,Fh),Vh.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Vh.prototype._hash=function(){var t=Kh.allocUnsafe(48);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Wh=Vh,Zh=h((function(t){var e=t.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};e.sha=ah,e.sha1=ph,e.sha224=Bh,e.sha256=kh,e.sha384=Wh,e.sha512=Fh}));function Yh(t){bn.call(this,"digest"),this._hash=t,this.buffers=[]}function Gh(t){bn.call(this,"digest"),this._hash=t}dn(Yh,bn),Yh.prototype._update=function(t){this.buffers.push(t)},Yh.prototype._final=function(){var t=ut.concat(this.buffers),e=this._hash(t);return this.buffers=null,e},dn(Gh,bn),Gh.prototype._update=function(t){this._hash.update(t)},Gh.prototype._final=function(){return this._hash.digest()};var Xh=function(t){return"md5"===(t=t.toLowerCase())?new Yh(zf):new Gh("rmd160"===t||"ripemd160"===t?new Xf:Zh(t))},Jh=me.Buffer,$h=Jh.alloc(128);function Qh(t,e){bn.call(this,"digest"),"string"==typeof e&&(e=Jh.from(e)),this._alg=t,this._key=e,e.length>64?e=t(e):e.length<64&&(e=Jh.concat([e,$h],64));for(var r=this._ipad=Jh.allocUnsafe(64),n=this._opad=Jh.allocUnsafe(64),i=0;i<64;i++)r[i]=54^e[i],n[i]=92^e[i];this._hash=[r]}dn(Qh,bn),Qh.prototype._update=function(t){this._hash.push(t)},Qh.prototype._final=function(){var t=this._alg(Jh.concat(this._hash));return this._alg(Jh.concat([this._opad,t]))};var tu=Qh,eu=function(t){return(new ba).update(t).digest()},ru=me.Buffer,nu=ru.alloc(128);function iu(t,e){bn.call(this,"digest"),"string"==typeof e&&(e=ru.from(e));var r="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>r)?e=("rmd160"===t?new Xf:Zh(t)).update(e).digest():e.length<r&&(e=ru.concat([e,nu],r));for(var n=this._ipad=ru.allocUnsafe(r),i=this._opad=ru.allocUnsafe(r),o=0;o<r;o++)n[o]=54^e[o],i[o]=92^e[o];this._hash="rmd160"===t?new Xf:Zh(t),this._hash.update(n)}dn(iu,bn),iu.prototype._update=function(t){this._hash.update(t)},iu.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new Xf:Zh(this._alg)).update(this._opad).update(t).digest()};var ou={sha1:function(t,e){return Xh("sha1").update(t).digest(e)},sha256:function(t,e){return Xh("sha256").update(t).digest(e)},sha512:function(t,e){return Xh("sha512").update(t).digest(e)},HmacSHA256:function(t,e){return function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new iu("rmd160",e):"md5"===t?new tu(eu,e):new iu(t,e)}("sha256",e).update(t).digest()},ripemd160:function(t){try{return Xh("rmd160").update(t).digest()}catch(e){return Xh("ripemd160").update(t).digest()}}},au=me.Buffer;var su=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=n}var a=t.length,s=t.charAt(0),f=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return au.alloc(0);var r=0;if(" "!==t[r]){for(var n=0,i=0;t[r]===s;)n++,r++;for(var o=(t.length-r)*f+1>>>0,h=new Uint8Array(o);t[r];){var u=e[t.charCodeAt(r)];if(255===u)return;for(var c=0,l=o-1;(0!==u||c<i)&&-1!==l;l--,c++)u+=a*h[l]>>>0,h[l]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=c,r++}if(" "!==t[r]){for(var d=o-i;d!==o&&0===h[d];)d++;var p=au.allocUnsafe(n+(o-d));p.fill(0,0,n);for(var g=n;d!==o;)p[g++]=h[d++];return p}}}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=au.from(e)),!au.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var f=(o-i)*h+1>>>0,u=new Uint8Array(f);i!==o;){for(var c=e[i],l=0,d=f-1;(0!==c||l<n)&&-1!==d;d--,l++)c+=256*u[d]>>>0,u[d]=c%a>>>0,c=c/a>>>0;if(0!==c)throw new Error("Non-zero carry");n=l,i++}for(var p=f-n;p!==f&&0===u[p];)p++;for(var g=s.repeat(r);p<f;++p)g+=t.charAt(u[p]);return g},decodeUnsafe:u,decode:function(t){var e=u(t);if(e)return e;throw new Error("Non-base"+a+" character")}}},fu=su("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),hu=Es(xs),uu={random32ByteBuffer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.cpuEntropyBits,r=void 0===e?0:e,n=t.safe,i=void 0===n||n;us.equal((0,hu.default)(r),"number","cpuEntropyBits"),us.equal((0,hu.default)(i),"boolean","boolean"),i&&us(lu>=128,"Call initialize() to add entropy");var o=[];return o.push(_e(32)),o.push(ut.from(pu(r))),o.push(du),o.push(vu()),ou.sha256(ut.concat(o))},addEntropy:function(){us.equal(du.length,101,"externalEntropyArray");for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];lu+=e.length;for(var n=0,i=e;n<i.length;n++){var o=i[n],a=cu++%101,s=du[a]+=o;s>9007199254740991&&(du[a]=0)}},cpuEntropy:pu,entropyCount:function(){return lu},checkDecode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;us(null!=t,"private key expected");var r,n=new ut(fu.decode(t)),i=n.slice(-4),o=n.slice(0,-4);if("sha256x2"===e)r=ou.sha256(ou.sha256(o)).slice(0,4);else{var a=[o];e&&a.push(ut.from(e)),r=ou.ripemd160(ut.concat(a)).slice(0,4)}if(i.toString("hex")!==r.toString("hex"))throw new Error("Invalid checksum, "+"".concat(i.toString("hex")," != ").concat(r.toString("hex")));return o},checkEncode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(us(ut.isBuffer(t),"expecting keyBuffer<Buffer>"),"sha256x2"===e){var r=ou.sha256(ou.sha256(t)).slice(0,4);return fu.encode(ut.concat([t,r]))}var n=[t];e&&n.push(ut.from(e));var i=ou.ripemd160(ut.concat(n)).slice(0,4);return fu.encode(ut.concat([t,i]))}},cu=0,lu=0,du=_e(101);function pu(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128,e=[],r=null,n=0;e.length<t;){var i=gu();if(null!=r){var o=i-r;if(Math.abs(o)<1){n++;continue}var a=Math.floor(yu(Math.abs(o))+1);if(a<4){a<2&&n++;continue}e.push(o)}r=i}if(n>10){var s=Number(n/t*100).toFixed(2);console.warn("WARN: ".concat(s,"% low CPU entropy re-sampled"))}return e}function gu(){for(var t=Date.now(),e=0,r=0;Date.now()<t+7+1;)r=Math.sin(Math.sqrt(Math.log(++e+r)));return e}var yu=function(t){return Math.log(t)/Math.LN2};function vu(){var t=Array(_e(101)).join();try{t+=(new Date).toString()+" "+window.screen.height+" "+window.screen.width+" "+window.screen.colorDepth+"  "+window.screen.availHeight+" "+window.screen.availWidth+" "+window.screen.pixelDepth+navigator.language+" "+window.location+" "+window.history.length;for(var e,r=0;r<navigator.mimeTypes.length;r++)t+=(e=navigator.mimeTypes[r]).description+" "+e.type+" "+e.suffixes+" "}catch(e){t+=ou.sha256((new Date).toString())}for(var n=t+=new ut(t).toString("binary")+" "+(new Date).toString(),i=Date.now();Date.now()-i<25;)n=ou.sha256(n);return n}var bu=Es(As),wu=Es(xs),mu=kf.getCurveByName("secp256k1"),_u=mu.G,Eu=mu.n,Su=ku;function ku(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";if("string"==typeof t){var r=ku.fromString(t,e);return us(null!=r,"Invalid public key"),r}if(ut.isBuffer(t))return ku.fromBuffer(t);if("object"===(0,wu.default)(t)&&t.Q)return ku(t.Q);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.compressed;return t.getEncoded(e)}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EOS";return t+uu.checkEncode(n())}function o(){var e=t.getEncoded(!1),r=kf.Point.decodeFrom(mu,e);return ku.fromPoint(r)}function a(e){console.error("Deprecated warning: PublicKey.child"),us(ut.isBuffer(e),"Buffer required: offset"),us.equal(e.length,32,"offset length"),e=ut.concat([n(),e]),e=ou.sha256(e);var r=ff.fromBuffer(e);if(r.compareTo(Eu)>=0)throw new Error("Child offset went out of bounds, try again");var i=_u.multiply(r),o=t.add(i);if(mu.isInfinity(o))throw new Error("Child offset derived to an invalid key, try again");return ku.fromPoint(o)}function s(){return n().toString("hex")}return us.equal((0,wu.default)(t),"object","Invalid public key"),us.equal((0,wu.default)(t.compressed),"boolean","Invalid public key"),{Q:t,toString:i,toUncompressed:o,toBuffer:n,child:a,toHex:s}}ku.isValid=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";try{return ku(t,e),!0}catch(t){return!1}},ku.fromBinary=function(t){return ku.fromBuffer(new ut(t,"binary"))},ku.fromBuffer=function(t){return ku(kf.Point.decodeFrom(mu,t))},ku.fromPoint=function(t){return ku(t)},ku.fromString=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";try{return ku.fromStringOrThrow(t,e)}catch(t){return null}},ku.fromStringOrThrow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";us.equal((0,wu.default)(t),"string","public_key");var r=t.match(/^PUB_([A-Za-z0-9]+)_([A-Za-z0-9]+)$/);if(null===r){var n=new RegExp("^"+e);return n.test(t)&&(t=t.substring(e.length)),ku.fromBuffer(uu.checkDecode(t))}us(3===r.length,"Expecting public key like: PUB_K1_base58pubkey..");var i=(0,bu.default)(r,3),o=i[1],a=i[2];return us.equal(o,"K1","K1 private key expected"),ku.fromBuffer(uu.checkDecode(a,o))},ku.fromHex=function(t){return ku.fromBuffer(new ut(t,"hex"))},ku.fromStringHex=function(t){return ku.fromString(new ut(t,"hex"))};var Tu=function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}};var Au=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)};var xu=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var Bu=Es((function(t){return Tu(t)||Au(t)||xu()})),Iu=Es(As),Ru=Es(xs),Uu=kf.Point,Ou=kf.getCurveByName("secp256k1"),Lu=(Ou.G,Ou.n,zu);function zu(t){if("string"==typeof t)return zu.fromString(t);if(ut.isBuffer(t))return zu.fromBuffer(t);if("object"===(0,Ru.default)(t)&&ff.isBigInteger(t.d))return zu(t.d);if(!ff.isBigInteger(t))throw new TypeError("Invalid private key");function e(){var t=n();return t=ut.concat([new ut([128]),t]),uu.checkEncode(t,"sha256x2")}var r;function n(){return t.toBuffer(32)}return{d:t,toWif:e,toString:function(){return e()},toPublic:function(){if(r)return r;var e=Ou.G.multiply(t);return r=Su.fromPoint(e)},toBuffer:n,getSharedSecret:function(t){var e=(t=Su(t)).toUncompressed().toBuffer(),r=Uu.fromAffine(Ou,ff.fromBuffer(e.slice(1,33)),ff.fromBuffer(e.slice(33,65))),i=n(),o=r.multiply(ff.fromBuffer(i)).affineX.toBuffer({size:32});return ou.sha512(o)},getChildKey:function(t){return zu(Xh("sha256").update(n()).update(t).digest())}}}function Du(t){us.equal((0,Ru.default)(t),"string","privateStr");var e=t.match(/^PVT_([A-Za-z0-9]+)_([A-Za-z0-9]+)$/);if(null===e){var r=uu.checkDecode(t,"sha256x2"),n=r.readUInt8(0);us.equal(128,n,"Expected version ".concat(128,", instead got ",n));return{privateKey:zu.fromBuffer(r.slice(1)),format:"WIF",keyType:"K1"}}us(3===e.length,"Expecting private key like: PVT_K1_base58privateKey..");var i=(0,Iu.default)(e,3),o=i[1],a=i[2];return us.equal(o,"K1","K1 private key expected"),{privateKey:zu.fromBuffer(uu.checkDecode(a,o)),format:"PVT",keyType:o}}zu.fromHex=function(t){return zu.fromBuffer(new ut(t,"hex"))},zu.fromBuffer=function(t){if(!ut.isBuffer(t))throw new Error("Expecting parameter to be a Buffer type");if(33===t.length&&1===t[32]&&(t=t.slice(0,-1)),32!==t.length)throw new Error("Expecting 32 bytes, instead got ".concat(t.length));return zu(ff.fromBuffer(t))},zu.fromSeed=function(t){if("string"!=typeof t)throw new Error("seed must be of type string");return zu.fromBuffer(ou.sha256(t))},zu.isWif=function(t){try{return us("WIF"===Du(t).format),!0}catch(t){return!1}},zu.isValid=function(t){try{return zu(t),!0}catch(t){return!1}},zu.fromWif=function(t){return console.log("PrivateKey.fromWif is deprecated, please use PrivateKey.fromString"),zu.fromString(t)},zu.fromString=function(t){return Du(t).privateKey},zu.randomKey=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return zu.initialize().then((function(){return zu.fromBuffer(uu.random32ByteBuffer({cpuEntropyBits:t}))}))},zu.unsafeRandomKey=function(){return Promise.resolve(zu.fromBuffer(uu.random32ByteBuffer({safe:!1})))};var Cu,Nu=!1;zu.initialize=(Cu=function(){Nu||(function(){var t=zu(ou.sha256("")),e="key comparison test failed on a known private key";us.equal(t.toWif(),"5KYZdUEo39z3FPrtuX2QbbwGnNP5zTd7yyr2SC1j299sBCnWjss",e),us.equal(t.toString(),"5KYZdUEo39z3FPrtuX2QbbwGnNP5zTd7yyr2SC1j299sBCnWjss",e);var r=t.toPublic();us.equal(r.toString(),"EOS859gxfnXyUriMgUeThh1fWv3oqcpLFyHa3TfFYC4PK2HqhToVM","pubkey string comparison test failed on a known public key"),Mu((function(){return zu.fromString(t.toWif())}),"converting known wif from string"),Mu((function(){return zu.fromString(t.toString())}),"converting known pvt from string"),Mu((function(){return Su.fromString(r.toString())}),"converting known public key from string")}(),uu.addEntropy.apply(uu,(0,Bu.default)(uu.cpuEntropy())),us(uu.entropyCount()>=128,"insufficient entropy"),Nu=!0)},function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return new Promise((function(t,r){setTimeout((function(){try{t(Cu.apply(void 0,e))}catch(t){r(t)}}))}))});var Mu=function(t,e){try{t()}catch(t){throw t.message="".concat(e," ==> ").concat(t.message),t}},Pu=Se.Long,qu={encrypt:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Fu();return ju(t,e,n,r)},decrypt:function(t,e,r,n,i){return ju(t,e,r,n,i).message}};function ju(t,e,r,n,i){if(!(t=Lu(t)))throw new TypeError("private_key is required");if(!(e=Su(e)))throw new TypeError("public_key is required");if(!(r=Hu(r)))throw new TypeError("nonce is required");if(!ut.isBuffer(n)){if("string"!=typeof n)throw new TypeError("message should be buffer or string");n=new ut(n,"binary")}if(i&&"number"!=typeof i)throw new TypeError("checksum should be a number");var o=t.getSharedSecret(e),a=new Se(Se.DEFAULT_CAPACITY,Se.LITTLE_ENDIAN);a.writeUint64(r),a.append(o.toString("binary"),"binary"),a=new ut(a.copy(0,a.offset).toBinary(),"binary");var s=ou.sha512(a),f=s.slice(32,48),h=s.slice(0,32),u=ou.sha256(s);u=u.slice(0,4);var c=Se.fromBinary(u.toString("binary"),Se.DEFAULT_CAPACITY,Se.LITTLE_ENDIAN);if(u=c.readUint32(),i){if(u!==i)throw new Error("Invalid key");n=function(t,e,r){us(t,"Missing cipher text"),t=Vu(t);var n=es.createDecipheriv("aes-256-cbc",e,r);return t=ut.concat([n.update(t),n.final()])}(n,h,f)}else n=function(t,e,r){us(t,"Missing plain text"),t=Vu(t);var n=es.createCipheriv("aes-256-cbc",e,r);return t=ut.concat([n.update(t),n.final()])}(n,h,f);return{nonce:r,message:n,checksum:u}}function Fu(){if(null===Ku){var t=new Uint8Array(_e(2));Ku=parseInt(t[0]<<8|t[1],10)}var e=Pu.fromNumber(Date.now()),r=++Ku%65535;return(e=e.shiftLeft(16).or(Pu.fromNumber(r))).toString()}var Ku=null,Hu=function(t){return t?Pu.isLong(t)?t:Pu.fromString(t):t},Vu=function(t){return t?ut.isBuffer(t)?t:new ut(t,"binary"):t},Wu=function(t,e){switch(t){case"Array":if(Array.isArray(e))return;break;case"Boolean":if("boolean"==typeof e)return;break;case"Buffer":if(ut.isBuffer(e))return;break;case"Number":if("number"==typeof e)return;break;case"String":if("string"==typeof e)return;break;default:if(Zu(e.constructor)===Zu(t))return}throw new TypeError("Expected "+(Zu(t)||t)+", got "+e)};function Zu(t){var e=t.toString().match(/function (.*?)\(/);return e?e[1]:null}function Yu(t,e){function r(){var r=t.toDERInteger(),n=e.toDERInteger(),i=[];return i.push(2,r.length),(i=i.concat(r)).push(2,n.length),(i=i.concat(n)).unshift(48,i.length),new ut(i)}return Wu(ff,t),Wu(ff,e),{r:t,s:e,toCompact:function(r,n){n&&(r+=4),r+=27;var i=new ut(65);return i.writeUInt8(r,0),t.toBuffer(32).copy(i,1),e.toBuffer(32).copy(i,33),i},toDER:r,toScriptSignature:function(t){var e=new ut(1);return e.writeUInt8(t,0),ut.concat([r(),e])}}}Yu.parseCompact=function(t){us.equal(t.length,65,"Invalid signature length");var e=t.readUInt8(0)-27;return us.equal(e,7&e,"Invalid signature parameter"),{compressed:!!(4&e),i:e&=3,signature:Yu(ff.fromBuffer(t.slice(1,33)),ff.fromBuffer(t.slice(33)))}},Yu.fromDER=function(t){us.equal(t.readUInt8(0),48,"Not a DER sequence"),us.equal(t.readUInt8(1),t.length-2,"Invalid sequence length"),us.equal(t.readUInt8(2),2,"Expected a DER integer");var e=t.readUInt8(3);us(e>0,"R length is zero");var r=4+e;us.equal(t.readUInt8(r),2,"Expected a DER integer (2)");var n=t.readUInt8(r+1);us(n>0,"S length is zero");var i=t.slice(4,r),o=t.slice(r+2);r+=2+n,e>1&&0===i.readUInt8(0)&&us(128&i.readUInt8(1),"R value excessively padded"),n>1&&0===o.readUInt8(0)&&us(128&o.readUInt8(1),"S value excessively padded"),us.equal(r,t.length,"Invalid DER encoding");var a=ff.fromDERInteger(i),s=ff.fromDERInteger(o);return us(a.signum()>=0,"R value is negative"),us(s.signum()>=0,"S value is negative"),Yu(a,s)},Yu.parseScriptSignature=function(t){var e=t.readUInt8(t.length-1),r=-129&e;return us(r>0&&r<4,"Invalid hashType"),{signature:Yu.fromDER(t.slice(0,-1)),hashType:e}};var Gu=Yu;function Xu(t,e,r,n,i){Wu("Buffer",e),Wu(ff,r),i&&(e=ou.sha256(ut.concat([e,new ut(i)]))),us.equal(e.length,32,"Hash must be 256 bit");var o=r.toBuffer(32),a=new ut(32),s=new ut(32);s.fill(1),a.fill(0),a=ou.HmacSHA256(ut.concat([s,new ut([0]),o,e]),a),s=ou.HmacSHA256(s,a),a=ou.HmacSHA256(ut.concat([s,new ut([1]),o,e]),a),s=ou.HmacSHA256(s,a),s=ou.HmacSHA256(s,a);for(var f=ff.fromBuffer(s);f.signum()<=0||f.compareTo(t.n)>=0||!n(f);)a=ou.HmacSHA256(ut.concat([s,new ut([0])]),a),s=ou.HmacSHA256(s,a),s=ou.HmacSHA256(s,a),f=ff.fromBuffer(s);return f}function Ju(t,e,r,n){var i=t.n,o=t.G,a=r.r,s=r.s;if(a.signum()<=0||a.compareTo(i)>=0)return!1;if(s.signum()<=0||s.compareTo(i)>=0)return!1;var f=s.modInverse(i),h=e.multiply(f).mod(i),u=a.multiply(f).mod(i),c=o.multiplyTwo(h,n,u);return!t.isInfinity(c)&&c.affineX.mod(i).equals(a)}function $u(t,e,r,n){us.strictEqual(3&n,n,"Recovery param is more than two bits");var i=t.n,o=t.G,a=r.r,s=r.s;us(a.signum()>0&&a.compareTo(i)<0,"Invalid r value"),us(s.signum()>0&&s.compareTo(i)<0,"Invalid s value");var f=1&n,h=n>>1?a.add(i):a,u=t.pointFromX(f,h),c=u.multiply(i);us(t.isInfinity(c),"nR is not a valid curve point");var l=e.negate().mod(i),d=a.modInverse(i),p=u.multiplyTwo(s,o,l).multiply(d);return t.validate(p),p}var Qu={calcPubKeyRecoveryParam:function(t,e,r,n){for(var i=0;i<4;i++){if($u(t,e,r,i).equals(n))return i}throw new Error("Unable to find valid recovery factor")},deterministicGenerateK:Xu,recoverPubKey:$u,sign:function(t,e,r,n){var i,o,a=ff.fromBuffer(e),s=t.n,f=t.G,h=(Xu(t,e,r,(function(e){var n=f.multiply(e);return!t.isInfinity(n)&&(0!==(i=n.affineX.mod(s)).signum()&&0!==(o=e.modInverse(s).multiply(a.add(r.multiply(i))).mod(s)).signum())}),n),s.shiftRight(1));return o.compareTo(h)>0&&(o=s.subtract(o)),Gu(i,o)},verify:function(t,e,r,n){return Ju(t,ff.fromBuffer(e),r,n)},verifyRaw:Ju},tc=Es(As),ec=Es(xs),rc=kf.getCurveByName("secp256k1"),nc=ic;function ic(t,e,r){function n(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"utf8";return"string"==typeof t&&(t=ut.from(t,r)),us(ut.isBuffer(t),"data is a required String or Buffer"),i(t=ou.sha256(t),e)}function i(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";if("string"==typeof r&&(r=ut.from(r,i)),32!==r.length||!ut.isBuffer(r))throw new Error("dataSha256: 32 bytes required");var o=Su(n);return us(o,"pubkey required"),Qu.verify(rc,r,{r:t,s:e},o.Q)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return"string"==typeof t&&(t=ut.from(t,e)),us(ut.isBuffer(t),"data is a required String or Buffer"),a(t=ou.sha256(t))}function a(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex";if("string"==typeof n&&(n=ut.from(n,i)),32!==n.length||!ut.isBuffer(n))throw new Error("dataSha256: 32 byte String or buffer requred");var o=ff.fromBuffer(n),a=r;a-=27,a&=3;var s=Qu.recoverPubKey(rc,o,{r:t,s:e,i:r},a);return Su.fromPoint(s)}function s(){var n;return(n=new ut(65)).writeUInt8(r,0),t.toBuffer(32).copy(n,1),e.toBuffer(32).copy(n,33),n}var f;return us.equal(null!=t,!0,"Missing parameter"),us.equal(null!=e,!0,"Missing parameter"),us.equal(null!=r,!0,"Missing parameter"),{r:t,s:e,i:r,toBuffer:s,verify:n,verifyHash:i,verifyHex:function(t,e){return console.log('Deprecated: use verify(data, pubkey, "hex")'),n(ut.from(t,"hex"),e)},recover:o,recoverHash:a,toHex:function(){return s().toString("hex")},toString:function(){return f||(f="SIG_K1_"+uu.checkEncode(s(),"K1"))},verifyBuffer:function(){return console.log("Deprecated: use signature.verify instead (same arguments)"),n.apply(void 0,arguments)},recoverPublicKey:function(){return console.log("Deprecated: use signature.recover instead (same arguments)"),o.apply(void 0,arguments)},recoverPublicKeyFromBuffer:function(){return console.log("Deprecated: use signature.recoverHash instead (same arguments)"),a.apply(void 0,arguments)}}}ic.sign=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"utf8";return"string"==typeof t&&(t=ut.from(t,r)),us(ut.isBuffer(t),"data is a required String or Buffer"),t=ou.sha256(t),ic.signHash(t,e)},ic.signHash=function(t,e){var r,n,i,o,a,s,f,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";if("string"==typeof t&&(t=ut.from(t,h)),32!==t.length||!ut.isBuffer(t))throw new Error("dataSha256: 32 byte buffer requred");for(us(e=Lu(e),"privateKey required"),o=null,f=0,n=ff.fromBuffer(t);;){if(s=(r=(i=Qu.sign(rc,t,e.d,f++)).toDER())[5+(a=r[3])],32===a&&32===s){o=Qu.calcPubKeyRecoveryParam(rc,n,i,e.toPublic().Q),o+=4,o+=27;break}f%10==0&&console.log("WARN: "+f+" attempts to find canonical signature")}return ic(i.r,i.s,o)},ic.fromBuffer=function(t){var e;return us(ut.isBuffer(t),"Buffer is required"),us.equal(t.length,65,"Invalid signature length"),e=t.readUInt8(0),us.equal(e-27,e-27&7,"Invalid signature parameter"),ic(ff.fromBuffer(t.slice(1,33)),ff.fromBuffer(t.slice(33)),e)},ic.fromHex=function(t){return ic.fromBuffer(ut.from(t,"hex"))},ic.fromString=function(t){try{return ic.fromStringOrThrow(t)}catch(t){return null}},ic.fromStringOrThrow=function(t){us.equal((0,ec.default)(t),"string","signature");var e=t.match(/^SIG_([A-Za-z0-9]+)_([A-Za-z0-9]+)$/);us(null!=e&&3===e.length,"Expecting signature like: SIG_K1_base58signature..");var r=(0,tc.default)(e,3),n=r[1],i=r[2];return us.equal(n,"K1","K1 signature expected"),ic.fromBuffer(uu.checkDecode(i,n))},ic.from=function(t){var e=t?t.r&&t.s&&t.i?t:"string"==typeof t&&130===t.length?ic.fromHex(t):"string"==typeof t&&130!==t.length?ic.fromStringOrThrow(t):ut.isBuffer(t)?ic.fromBuffer(t):null:t;if(!e)throw new TypeError("signature should be a hex string or buffer");return e};var oc={initialize:Lu.initialize,unsafeRandomKey:function(){return Lu.unsafeRandomKey().then((function(t){return t.toString()}))},randomKey:function(t){return Lu.randomKey(t).then((function(t){return t.toString()}))},seedPrivate:function(t){return Lu.fromSeed(t).toString()},privateToPublic:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";return Lu(t).toPublic().toString(e)},isValidPublic:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";return Su.isValid(t,e)},isValidPrivate:function(t){return Lu.isValid(t)},sign:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"utf8";if(!0===r)throw new TypeError("API changed, use signHash(..) instead");return!1===r&&console.log("Warning: ecc.sign hashData parameter was removed"),nc.sign(t,e,r).toString()},signHash:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";return nc.signHash(t,e,r).toString()},verify:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"utf8";if(!0===n)throw new TypeError("API changed, use verifyHash(..) instead");return!1===n&&console.log("Warning: ecc.verify hashData parameter was removed"),(t=nc.from(t)).verify(e,r,n)},verifyHash:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return(t=nc.from(t)).verifyHash(e,r,n)},recover:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"utf8";if(!0===r)throw new TypeError("API changed, use recoverHash(signature, data) instead");return!1===r&&console.log("Warning: ecc.recover hashData parameter was removed"),(t=nc.from(t)).recover(e,r).toString()},recoverHash:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";return(t=nc.from(t)).recoverHash(e,r).toString()},sha256:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex";return ou.sha256(t,e)}},ac={Aes:qu,PrivateKey:Lu,PublicKey:Su,Signature:nc,key_utils:uu},sc=Object.assign({},oc,ac),fc=sc.privateToPublic,hc=sc.randomKey,uc=sc.recover,cc=sc.Aes,lc=sc.PrivateKey,dc=h((function(t,e){!function(e){t.exports=function(t){var r=t&&t.Promise||e.Promise,n=t&&t.XMLHttpRequest||e.XMLHttpRequest,i=e;return function(){var t=Object.create(i,{fetch:{value:void 0,writable:!0}});return function(t){if(!t.fetch){var e="URLSearchParams"in t,i="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in t,s="ArrayBuffer"in t;if(s)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=function(t){return t&&DataView.prototype.isPrototypeOf(t)},u=ArrayBuffer.isView||function(t){return t&&f.indexOf(Object.prototype.toString.call(t))>-1};y.prototype.append=function(t,e){t=d(t),e=p(e);var r=this.map[t];this.map[t]=r?r+","+e:e},y.prototype.delete=function(t){delete this.map[d(t)]},y.prototype.get=function(t){return t=d(t),this.has(t)?this.map[t]:null},y.prototype.has=function(t){return this.map.hasOwnProperty(d(t))},y.prototype.set=function(t,e){this.map[d(t)]=p(e)},y.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},y.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),g(t)},y.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),g(t)},y.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),g(t)},i&&(y.prototype[Symbol.iterator]=y.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},_.call(E.prototype),_.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},k.error=function(){var t=new k(null,{status:0,statusText:""});return t.type="error",t};var l=[301,302,303,307,308];k.redirect=function(t,e){if(-1===l.indexOf(e))throw new RangeError("Invalid status code");return new k(null,{status:e,headers:{location:t}})},t.Headers=y,t.Request=E,t.Response=k,t.fetch=function(t,e){return new r((function(r,i){var a=new E(t,e),s=new n;s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new y,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new k(i,n))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&o&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),s.send(void 0===a._bodyInit?null:a._bodyInit)}))},t.fetch.polyfill=!0}function d(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function p(t){return"string"!=typeof t&&(t=String(t)),t}function g(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function y(t){this.map={},t instanceof y?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function v(t){if(t.bodyUsed)return r.reject(new TypeError("Already read"));t.bodyUsed=!0}function b(t){return new r((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function w(t){var e=new FileReader,r=b(e);return e.readAsArrayBuffer(t),r}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(o&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(a&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(s&&o&&h(t))this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!s||!ArrayBuffer.prototype.isPrototypeOf(t)&&!u(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=v(this);if(t)return t;if(this._bodyBlob)return r.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return r.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||r.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var t,e,n,i=v(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=b(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return r.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return r.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}function E(t,e){var r=(e=e||{}).body;if(t instanceof E){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new y(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new y(e.headers)),this.method=function(t){var e=t.toUpperCase();return c.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function S(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function k(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new y(e.headers),this.url=e.url||"",this._initBody(t)}}(void 0!==t?t:this),{fetch:t.fetch,Headers:t.Headers,Request:t.Request,Response:t.Response}}()}}("undefined"!=typeof self?self:s)})),pc=null;"undefined"!=typeof WebSocket?pc=WebSocket:"undefined"!=typeof MozWebSocket?pc=MozWebSocket:void 0!==s?pc=s.WebSocket||s.MozWebSocket:"undefined"!=typeof window?pc=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(pc=self.WebSocket||self.MozWebSocket);var gc=pc,yc=h((function(t,e){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(t[i]=r[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,a;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(a=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,r,n,i){for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(r)}));yc.assign,yc.shrinkBuf,yc.setTyped,yc.Buf8,yc.Buf16,yc.Buf32;function vc(t){for(var e=t.length;--e>=0;)t[e]=0}var bc=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],wc=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],mc=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ec=new Array(576);vc(Ec);var Sc=new Array(60);vc(Sc);var kc=new Array(512);vc(kc);var Tc=new Array(256);vc(Tc);var Ac=new Array(29);vc(Ac);var xc,Bc,Ic,Rc=new Array(30);function Uc(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function Oc(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function Lc(t){return t<256?kc[t]:kc[256+(t>>>7)]}function zc(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function Dc(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,zc(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function Cc(t,e,r){Dc(t,r[2*e],r[2*e+1])}function Nc(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function Mc(t,e,r){var n,i,o=new Array(16),a=0;for(n=1;n<=15;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=Nc(o[s]++,s))}}function Pc(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function qc(t){t.bi_valid>8?zc(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function jc(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function Fc(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&jc(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!jc(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function Kc(t,e,r){var n,i,o,a,s=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===n?Cc(t,i,e):(Cc(t,(o=Tc[i])+256+1,e),0!==(a=bc[o])&&Dc(t,i-=Ac[o],a),Cc(t,o=Lc(--n),r),0!==(a=wc[o])&&Dc(t,n-=Rc[o],a))}while(s<t.last_lit);Cc(t,256,e)}function Hc(t,e){var r,n,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,f=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<f;r++)0!==o[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)Fc(t,o,r);i=f;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Fc(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,Fc(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,o,a,s,f=e.dyn_tree,h=e.max_code,u=e.stat_desc.static_tree,c=e.stat_desc.has_stree,l=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(f[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(o=f[2*f[2*(n=t.heap[r])+1]+1]+1)>p&&(o=p,g++),f[2*n+1]=o,n>h||(t.bl_count[o]++,a=0,n>=d&&(a=l[n-d]),s=f[2*n],t.opt_len+=s*(o+a),c&&(t.static_len+=s*(u[2*n+1]+a)));if(0!==g){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)(i=t.heap[--r])>h||(f[2*i+1]!==o&&(t.opt_len+=(o-f[2*i+1])*f[2*i],f[2*i+1]=o),n--)}}(t,e),Mc(o,h,t.bl_count)}function Vc(t,e,r){var n,i,o=-1,a=e[1],s=0,f=7,h=4;for(0===a&&(f=138,h=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<f&&i===a||(s<h?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(f=138,h=3):i===a?(f=6,h=3):(f=7,h=4))}function Wc(t,e,r){var n,i,o=-1,a=e[1],s=0,f=7,h=4;for(0===a&&(f=138,h=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<f&&i===a)){if(s<h)do{Cc(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(Cc(t,i,t.bl_tree),s--),Cc(t,16,t.bl_tree),Dc(t,s-3,2)):s<=10?(Cc(t,17,t.bl_tree),Dc(t,s-3,3)):(Cc(t,18,t.bl_tree),Dc(t,s-11,7));s=0,o=i,0===a?(f=138,h=3):i===a?(f=6,h=3):(f=7,h=4)}}vc(Rc);var Zc=!1;function Yc(t,e,r,n){Dc(t,0+(n?1:0),3),function(t,e,r,n){qc(t),n&&(zc(t,r),zc(t,~r)),yc.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}var Gc={_tr_init:function(t){Zc||(!function(){var t,e,r,n,i,o=new Array(16);for(r=0,n=0;n<28;n++)for(Ac[n]=r,t=0;t<1<<bc[n];t++)Tc[r++]=n;for(Tc[r-1]=n,i=0,n=0;n<16;n++)for(Rc[n]=i,t=0;t<1<<wc[n];t++)kc[i++]=n;for(i>>=7;n<30;n++)for(Rc[n]=i<<7,t=0;t<1<<wc[n]-7;t++)kc[256+i++]=n;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)Ec[2*t+1]=8,t++,o[8]++;for(;t<=255;)Ec[2*t+1]=9,t++,o[9]++;for(;t<=279;)Ec[2*t+1]=7,t++,o[7]++;for(;t<=287;)Ec[2*t+1]=8,t++,o[8]++;for(Mc(Ec,287,o),t=0;t<30;t++)Sc[2*t+1]=5,Sc[2*t]=Nc(t,5);xc=new Uc(Ec,bc,257,286,15),Bc=new Uc(Sc,wc,0,30,15),Ic=new Uc(new Array(0),mc,0,19,7)}(),Zc=!0),t.l_desc=new Oc(t.dyn_ltree,xc),t.d_desc=new Oc(t.dyn_dtree,Bc),t.bl_desc=new Oc(t.bl_tree,Ic),t.bi_buf=0,t.bi_valid=0,Pc(t)},_tr_stored_block:Yc,_tr_flush_block:function(t,e,r,n){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),Hc(t,t.l_desc),Hc(t,t.d_desc),a=function(t){var e;for(Vc(t,t.dyn_ltree,t.l_desc.max_code),Vc(t,t.dyn_dtree,t.d_desc.max_code),Hc(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*_c[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?Yc(t,e,r,n):4===t.strategy||o===i?(Dc(t,2+(n?1:0),3),Kc(t,Ec,Sc)):(Dc(t,4+(n?1:0),3),function(t,e,r,n){var i;for(Dc(t,e-257,5),Dc(t,r-1,5),Dc(t,n-4,4),i=0;i<n;i++)Dc(t,t.bl_tree[2*_c[i]+1],3);Wc(t,t.dyn_ltree,e-1),Wc(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Kc(t,t.dyn_ltree,t.dyn_dtree)),Pc(t),n&&qc(t)},_tr_tally:function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(Tc[r]+256+1)]++,t.dyn_dtree[2*Lc(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){Dc(t,2,3),Cc(t,256,Ec),function(t){16===t.bi_valid?(zc(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}};var Xc=function(t,e,r,n){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{o=o+(i=i+e[n++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0};var Jc=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();var $c,Qc=function(t,e,r,n){var i=Jc,o=n+r;t^=-1;for(var a=n;a<o;a++)t=t>>>8^i[255&(t^e[a])];return-1^t},tl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function el(t,e){return t.msg=tl[e],e}function rl(t){return(t<<1)-(t>4?9:0)}function nl(t){for(var e=t.length;--e>=0;)t[e]=0}function il(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(yc.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function ol(t,e){Gc._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,il(t.strm)}function al(t,e){t.pending_buf[t.pending++]=e}function sl(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function fl(t,e){var r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,f=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,u=t.w_mask,c=t.prev,l=t.strstart+258,d=h[o+a-1],p=h[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(h[(r=e)+a]===p&&h[r+a-1]===d&&h[r]===h[o]&&h[++r]===h[o+1]){o+=2,r++;do{}while(h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&o<l);if(n=258-(l-o),o=l-258,n>a){if(t.match_start=e,a=n,n>=s)break;d=h[o+a-1],p=h[o+a]}}}while((e=c[e&u])>f&&0!=--i);return a<=t.lookahead?a:t.lookahead}function hl(t){var e,r,n,i,o,a,s,f,h,u,c=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=c+(c-262)){yc.arraySet(t.window,t.window,c,c,0),t.match_start-=c,t.strstart-=c,t.block_start-=c,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=c?n-c:0}while(--r);e=r=c;do{n=t.prev[--e],t.prev[e]=n>=c?n-c:0}while(--r);i+=c}if(0===t.strm.avail_in)break;if(a=t.strm,s=t.window,f=t.strstart+t.lookahead,h=i,u=void 0,(u=a.avail_in)>h&&(u=h),r=0===u?0:(a.avail_in-=u,yc.arraySet(s,a.input,a.next_in,u,f),1===a.state.wrap?a.adler=Xc(a.adler,s,u,f):2===a.state.wrap&&(a.adler=Qc(a.adler,s,u,f)),a.next_in+=u,a.total_in+=u,u),t.lookahead+=r,t.lookahead+t.insert>=3)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+3-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function ul(t,e){for(var r,n;;){if(t.lookahead<262){if(hl(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-262&&(t.match_length=fl(t,r)),t.match_length>=3)if(n=Gc._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=Gc._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(ol(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(ol(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ol(t,!1),0===t.strm.avail_out)?1:2}function cl(t,e){for(var r,n,i;;){if(t.lookahead<262){if(hl(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-262&&(t.match_length=fl(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=Gc._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(ol(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=Gc._tr_tally(t,0,t.window[t.strstart-1]))&&ol(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Gc._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(ol(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ol(t,!1),0===t.strm.avail_out)?1:2}function ll(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function dl(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new yc.Buf16(1146),this.dyn_dtree=new yc.Buf16(122),this.bl_tree=new yc.Buf16(78),nl(this.dyn_ltree),nl(this.dyn_dtree),nl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new yc.Buf16(16),this.heap=new yc.Buf16(573),nl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new yc.Buf16(573),nl(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pl(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,Gc._tr_init(e),0):el(t,-2)}function gl(t){var e,r=pl(t);return 0===r&&((e=t.state).window_size=2*e.w_size,nl(e.head),e.max_lazy_match=$c[e.level].max_lazy,e.good_match=$c[e.level].good_length,e.nice_match=$c[e.level].nice_length,e.max_chain_length=$c[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r}function yl(t,e,r,n,i,o){if(!t)return-2;var a=1;if(-1===e&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>9||8!==r||n<8||n>15||e<0||e>9||o<0||o>4)return el(t,-2);8===n&&(n=9);var s=new dl;return t.state=s,s.strm=t,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new yc.Buf8(2*s.w_size),s.head=new yc.Buf16(s.hash_size),s.prev=new yc.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new yc.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=o,s.method=r,gl(t)}$c=[new ll(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(hl(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,ol(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(ol(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(ol(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(ol(t,!1),t.strm.avail_out),1)})),new ll(4,4,8,4,ul),new ll(4,5,16,8,ul),new ll(4,6,32,32,ul),new ll(4,4,16,16,cl),new ll(8,16,32,32,cl),new ll(8,16,128,128,cl),new ll(8,32,128,256,cl),new ll(32,128,258,1024,cl),new ll(32,258,258,4096,cl)];var vl={deflateInit:function(t,e){return yl(t,e,8,15,8,0)},deflateInit2:yl,deflateReset:gl,deflateResetKeep:pl,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},deflate:function(t,e){var r,n,i,o;if(!t||!t.state||e>5||e<0)return t?el(t,-2):-2;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&4!==e)return el(t,0===t.avail_out?-5:-2);if(n.strm=t,r=n.last_flush,n.last_flush=e,42===n.status)if(2===n.wrap)t.adler=0,al(n,31),al(n,139),al(n,8),n.gzhead?(al(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),al(n,255&n.gzhead.time),al(n,n.gzhead.time>>8&255),al(n,n.gzhead.time>>16&255),al(n,n.gzhead.time>>24&255),al(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),al(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(al(n,255&n.gzhead.extra.length),al(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Qc(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(al(n,0),al(n,0),al(n,0),al(n,0),al(n,0),al(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),al(n,3),n.status=113);else{var a=8+(n.w_bits-8<<4)<<8;a|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(a|=32),a+=31-a%31,n.status=113,sl(n,a),0!==n.strstart&&(sl(n,t.adler>>>16),sl(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(t.adler=Qc(t.adler,n.pending_buf,n.pending-i,i)),il(t),i=n.pending,n.pending!==n.pending_buf_size));)al(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(t.adler=Qc(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Qc(t.adler,n.pending_buf,n.pending-i,i)),il(t),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}o=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,al(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>i&&(t.adler=Qc(t.adler,n.pending_buf,n.pending-i,i)),0===o&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Qc(t.adler,n.pending_buf,n.pending-i,i)),il(t),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}o=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,al(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>i&&(t.adler=Qc(t.adler,n.pending_buf,n.pending-i,i)),0===o&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&il(t),n.pending+2<=n.pending_buf_size&&(al(n,255&t.adler),al(n,t.adler>>8&255),t.adler=0,n.status=113)):n.status=113),0!==n.pending){if(il(t),0===t.avail_out)return n.last_flush=-1,0}else if(0===t.avail_in&&rl(e)<=rl(r)&&4!==e)return el(t,-5);if(666===n.status&&0!==t.avail_in)return el(t,-5);if(0!==t.avail_in||0!==n.lookahead||0!==e&&666!==n.status){var s=2===n.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(hl(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=Gc._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(ol(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(ol(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ol(t,!1),0===t.strm.avail_out)?1:2}(n,e):3===n.strategy?function(t,e){for(var r,n,i,o,a=t.window;;){if(t.lookahead<=258){if(hl(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=a[i=t.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){o=t.strstart+258;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);t.match_length=258-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=Gc._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Gc._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(ol(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(ol(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ol(t,!1),0===t.strm.avail_out)?1:2}(n,e):$c[n.level].func(n,e);if(3!==s&&4!==s||(n.status=666),1===s||3===s)return 0===t.avail_out&&(n.last_flush=-1),0;if(2===s&&(1===e?Gc._tr_align(n):5!==e&&(Gc._tr_stored_block(n,0,0,!1),3===e&&(nl(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),il(t),0===t.avail_out))return n.last_flush=-1,0}return 4!==e?0:n.wrap<=0?1:(2===n.wrap?(al(n,255&t.adler),al(n,t.adler>>8&255),al(n,t.adler>>16&255),al(n,t.adler>>24&255),al(n,255&t.total_in),al(n,t.total_in>>8&255),al(n,t.total_in>>16&255),al(n,t.total_in>>24&255)):(sl(n,t.adler>>>16),sl(n,65535&t.adler)),il(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)},deflateEnd:function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?el(t,-2):(t.state=null,113===e?el(t,-3):0):-2},deflateSetDictionary:function(t,e){var r,n,i,o,a,s,f,h,u=e.length;if(!t||!t.state)return-2;if(2===(o=(r=t.state).wrap)||1===o&&42!==r.status||r.lookahead)return-2;for(1===o&&(t.adler=Xc(t.adler,e,u,0)),r.wrap=0,u>=r.w_size&&(0===o&&(nl(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new yc.Buf8(r.w_size),yc.arraySet(h,e,u-r.w_size,r.w_size,0),e=h,u=r.w_size),a=t.avail_in,s=t.next_in,f=t.input,t.avail_in=u,t.next_in=0,t.input=e,hl(r);r.lookahead>=3;){n=r.strstart,i=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--i);r.strstart=n,r.lookahead=2,hl(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=f,t.avail_in=a,r.wrap=o,0},deflateInfo:"pako deflate (from Nodeca project)"},bl=!0,wl=!0;try{String.fromCharCode.apply(null,[0])}catch(t){bl=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){wl=!1}for(var ml=new yc.Buf8(256),_l=0;_l<256;_l++)ml[_l]=_l>=252?6:_l>=248?5:_l>=240?4:_l>=224?3:_l>=192?2:1;ml[254]=ml[254]=1;function El(t,e){if(e<65534&&(t.subarray&&wl||!t.subarray&&bl))return String.fromCharCode.apply(null,yc.shrinkBuf(t,e));for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}var Sl=function(t){var e,r,n,i,o,a=t.length,s=0;for(i=0;i<a;i++)55296==(64512&(r=t.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new yc.Buf8(s),o=0,i=0;o<s;i++)55296==(64512&(r=t.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},kl=function(t){return El(t,t.length)},Tl=function(t){for(var e=new yc.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e},Al=function(t,e){var r,n,i,o,a=e||t.length,s=new Array(2*a);for(n=0,r=0;r<a;)if((i=t[r++])<128)s[n++]=i;else if((o=ml[i])>4)s[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&r<a;)i=i<<6|63&t[r++],o--;o>1?s[n++]=65533:i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return El(s,n)},xl=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+ml[t[r]]>e?r:e};var Bl=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Il=Object.prototype.toString;function Rl(t){if(!(this instanceof Rl))return new Rl(t);this.options=yc.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Bl,this.strm.avail_out=0;var r=vl.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==r)throw new Error(tl[r]);if(e.header&&vl.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?Sl(e.dictionary):"[object ArrayBuffer]"===Il.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(r=vl.deflateSetDictionary(this.strm,n)))throw new Error(tl[r]);this._dict_set=!0}}function Ul(t,e){var r=new Rl(e);if(r.push(t,!0),r.err)throw r.msg||tl[r.err];return r.result}Rl.prototype.push=function(t,e){var r,n,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=Sl(t):"[object ArrayBuffer]"===Il.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new yc.Buf8(o),i.next_out=0,i.avail_out=o),1!==(r=vl.deflate(i,n))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(kl(yc.shrinkBuf(i.output,i.next_out))):this.onData(yc.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==r);return 4===n?(r=vl.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==n||(this.onEnd(0),i.avail_out=0,!0)},Rl.prototype.onData=function(t){this.chunks.push(t)},Rl.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=yc.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Ol={Deflate:Rl,deflate:Ul,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Ul(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Ul(t,e)}},Ll=function(t,e){var r,n,i,o,a,s,f,h,u,c,l,d,p,g,y,v,b,w,m,_,E,S,k,T,A;r=t.state,n=t.next_in,T=t.input,i=n+(t.avail_in-5),o=t.next_out,A=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),f=r.dmax,h=r.wsize,u=r.whave,c=r.wnext,l=r.window,d=r.hold,p=r.bits,g=r.lencode,y=r.distcode,v=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{p<15&&(d+=T[n++]<<p,p+=8,d+=T[n++]<<p,p+=8),w=g[d&v];e:for(;;){if(d>>>=m=w>>>24,p-=m,0===(m=w>>>16&255))A[o++]=65535&w;else{if(!(16&m)){if(0==(64&m)){w=g[(65535&w)+(d&(1<<m)-1)];continue e}if(32&m){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}_=65535&w,(m&=15)&&(p<m&&(d+=T[n++]<<p,p+=8),_+=d&(1<<m)-1,d>>>=m,p-=m),p<15&&(d+=T[n++]<<p,p+=8,d+=T[n++]<<p,p+=8),w=y[d&b];r:for(;;){if(d>>>=m=w>>>24,p-=m,!(16&(m=w>>>16&255))){if(0==(64&m)){w=y[(65535&w)+(d&(1<<m)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(E=65535&w,p<(m&=15)&&(d+=T[n++]<<p,(p+=8)<m&&(d+=T[n++]<<p,p+=8)),(E+=d&(1<<m)-1)>f){t.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=m,p-=m,E>(m=o-a)){if((m=E-m)>u&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(S=0,k=l,0===c){if(S+=h-m,m<_){_-=m;do{A[o++]=l[S++]}while(--m);S=o-E,k=A}}else if(c<m){if(S+=h+c-m,(m-=c)<_){_-=m;do{A[o++]=l[S++]}while(--m);if(S=0,c<_){_-=m=c;do{A[o++]=l[S++]}while(--m);S=o-E,k=A}}}else if(S+=c-m,m<_){_-=m;do{A[o++]=l[S++]}while(--m);S=o-E,k=A}for(;_>2;)A[o++]=k[S++],A[o++]=k[S++],A[o++]=k[S++],_-=3;_&&(A[o++]=k[S++],_>1&&(A[o++]=k[S++]))}else{S=o-E;do{A[o++]=A[S++],A[o++]=A[S++],A[o++]=A[S++],_-=3}while(_>2);_&&(A[o++]=A[S++],_>1&&(A[o++]=A[S++]))}break}}break}}while(n<i&&o<s);n-=_=p>>3,d&=(1<<(p-=_<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=o<s?s-o+257:257-(o-s),r.hold=d,r.bits=p},zl=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Dl=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Cl=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Nl=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Ml=function(t,e,r,n,i,o,a,s){var f,h,u,c,l,d,p,g,y,v=s.bits,b=0,w=0,m=0,_=0,E=0,S=0,k=0,T=0,A=0,x=0,B=null,I=0,R=new yc.Buf16(16),U=new yc.Buf16(16),O=null,L=0;for(b=0;b<=15;b++)R[b]=0;for(w=0;w<n;w++)R[e[r+w]]++;for(E=v,_=15;_>=1&&0===R[_];_--);if(E>_&&(E=_),0===_)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(m=1;m<_&&0===R[m];m++);for(E<m&&(E=m),T=1,b=1;b<=15;b++)if(T<<=1,(T-=R[b])<0)return-1;if(T>0&&(0===t||1!==_))return-1;for(U[1]=0,b=1;b<15;b++)U[b+1]=U[b]+R[b];for(w=0;w<n;w++)0!==e[r+w]&&(a[U[e[r+w]]++]=w);if(0===t?(B=O=a,d=19):1===t?(B=zl,I-=257,O=Dl,L-=257,d=256):(B=Cl,O=Nl,d=-1),x=0,w=0,b=m,l=o,S=E,k=0,u=-1,c=(A=1<<E)-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){p=b-k,a[w]<d?(g=0,y=a[w]):a[w]>d?(g=O[L+a[w]],y=B[I+a[w]]):(g=96,y=0),f=1<<b-k,m=h=1<<S;do{i[l+(x>>k)+(h-=f)]=p<<24|g<<16|y|0}while(0!==h);for(f=1<<b-1;x&f;)f>>=1;if(0!==f?(x&=f-1,x+=f):x=0,w++,0==--R[b]){if(b===_)break;b=e[r+a[w]]}if(b>E&&(x&c)!==u){for(0===k&&(k=E),l+=m,T=1<<(S=b-k);S+k<_&&!((T-=R[S+k])<=0);)S++,T<<=1;if(A+=1<<S,1===t&&A>852||2===t&&A>592)return 1;i[u=x&c]=E<<24|S<<16|l-o|0}}return 0!==x&&(i[l+x]=b-k<<24|64<<16|0),s.bits=E,0};function Pl(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function ql(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new yc.Buf16(320),this.work=new yc.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function jl(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new yc.Buf32(852),e.distcode=e.distdyn=new yc.Buf32(592),e.sane=1,e.back=-1,0):-2}function Fl(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,jl(t)):-2}function Kl(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Fl(t))):-2}function Hl(t,e){var r,n;return t?(n=new ql,t.state=n,n.window=null,0!==(r=Kl(t,e))&&(t.state=null),r):-2}var Vl,Wl,Zl=!0;function Yl(t){if(Zl){var e;for(Vl=new yc.Buf32(512),Wl=new yc.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ml(1,t.lens,0,288,Vl,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ml(2,t.lens,0,32,Wl,0,t.work,{bits:5}),Zl=!1}t.lencode=Vl,t.lenbits=9,t.distcode=Wl,t.distbits=5}function Gl(t,e,r,n){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new yc.Buf8(o.wsize)),n>=o.wsize?(yc.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>n&&(i=n),yc.arraySet(o.window,e,r-n,i,o.wnext),(n-=i)?(yc.arraySet(o.window,e,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}var Xl={inflateReset:Fl,inflateReset2:Kl,inflateResetKeep:jl,inflateInit:function(t){return Hl(t,15)},inflateInit2:Hl,inflate:function(t,e){var r,n,i,o,a,s,f,h,u,c,l,d,p,g,y,v,b,w,m,_,E,S,k,T,A=0,x=new yc.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(r=t.state).mode&&(r.mode=13),a=t.next_out,i=t.output,f=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,h=r.hold,u=r.bits,c=s,l=f,S=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;u<16;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(2&r.wrap&&35615===h){r.check=0,x[0]=255&h,x[1]=h>>>8&255,r.check=Qc(r.check,x,2,0),h=0,u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=30;break}if(8!=(15&h)){t.msg="unknown compression method",r.mode=30;break}if(u-=4,E=8+(15&(h>>>=4)),0===r.wbits)r.wbits=E;else if(E>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<E,t.adler=r.check=1,r.mode=512&h?10:12,h=0,u=0;break;case 2:for(;u<16;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(r.flags=h,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=h>>8&1),512&r.flags&&(x[0]=255&h,x[1]=h>>>8&255,r.check=Qc(r.check,x,2,0)),h=0,u=0,r.mode=3;case 3:for(;u<32;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}r.head&&(r.head.time=h),512&r.flags&&(x[0]=255&h,x[1]=h>>>8&255,x[2]=h>>>16&255,x[3]=h>>>24&255,r.check=Qc(r.check,x,4,0)),h=0,u=0,r.mode=4;case 4:for(;u<16;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}r.head&&(r.head.xflags=255&h,r.head.os=h>>8),512&r.flags&&(x[0]=255&h,x[1]=h>>>8&255,r.check=Qc(r.check,x,2,0)),h=0,u=0,r.mode=5;case 5:if(1024&r.flags){for(;u<16;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}r.length=h,r.head&&(r.head.extra_len=h),512&r.flags&&(x[0]=255&h,x[1]=h>>>8&255,r.check=Qc(r.check,x,2,0)),h=0,u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((d=r.length)>s&&(d=s),d&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),yc.arraySet(r.head.extra,n,o,d,E)),512&r.flags&&(r.check=Qc(r.check,n,d,o)),s-=d,o+=d,r.length-=d),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===s)break t;d=0;do{E=n[o+d++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E))}while(E&&d<s);if(512&r.flags&&(r.check=Qc(r.check,n,d,o)),s-=d,o+=d,E)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===s)break t;d=0;do{E=n[o+d++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E))}while(E&&d<s);if(512&r.flags&&(r.check=Qc(r.check,n,d,o)),s-=d,o+=d,E)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;u<16;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(h!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}h=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;u<32;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}t.adler=r.check=Pl(h),h=0,u=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=a,t.avail_out=f,t.next_in=o,t.avail_in=s,r.hold=h,r.bits=u,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){h>>>=7&u,u-=7&u,r.mode=27;break}for(;u<3;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}switch(r.last=1&h,u-=1,3&(h>>>=1)){case 0:r.mode=14;break;case 1:if(Yl(r),r.mode=20,6===e){h>>>=2,u-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}h>>>=2,u-=2;break;case 14:for(h>>>=7&u,u-=7&u;u<32;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&h,h=0,u=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(d=r.length){if(d>s&&(d=s),d>f&&(d=f),0===d)break t;yc.arraySet(i,n,o,d,a),s-=d,o+=d,f-=d,a+=d,r.length-=d;break}r.mode=12;break;case 17:for(;u<14;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(r.nlen=257+(31&h),h>>>=5,u-=5,r.ndist=1+(31&h),h>>>=5,u-=5,r.ncode=4+(15&h),h>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;u<3;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}r.lens[B[r.have++]]=7&h,h>>>=3,u-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,k={bits:r.lenbits},S=Ml(0,r.lens,0,19,r.lencode,0,r.work,k),r.lenbits=k.bits,S){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;v=(A=r.lencode[h&(1<<r.lenbits)-1])>>>16&255,b=65535&A,!((y=A>>>24)<=u);){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(b<16)h>>>=y,u-=y,r.lens[r.have++]=b;else{if(16===b){for(T=y+2;u<T;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(h>>>=y,u-=y,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}E=r.lens[r.have-1],d=3+(3&h),h>>>=2,u-=2}else if(17===b){for(T=y+3;u<T;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}u-=y,E=0,d=3+(7&(h>>>=y)),h>>>=3,u-=3}else{for(T=y+7;u<T;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}u-=y,E=0,d=11+(127&(h>>>=y)),h>>>=7,u-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;d--;)r.lens[r.have++]=E}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,k={bits:r.lenbits},S=Ml(1,r.lens,0,r.nlen,r.lencode,0,r.work,k),r.lenbits=k.bits,S){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,k={bits:r.distbits},S=Ml(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,k),r.distbits=k.bits,S){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(s>=6&&f>=258){t.next_out=a,t.avail_out=f,t.next_in=o,t.avail_in=s,r.hold=h,r.bits=u,Ll(t,l),a=t.next_out,i=t.output,f=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,h=r.hold,u=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;v=(A=r.lencode[h&(1<<r.lenbits)-1])>>>16&255,b=65535&A,!((y=A>>>24)<=u);){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(v&&0==(240&v)){for(w=y,m=v,_=b;v=(A=r.lencode[_+((h&(1<<w+m)-1)>>w)])>>>16&255,b=65535&A,!(w+(y=A>>>24)<=u);){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}h>>>=w,u-=w,r.back+=w}if(h>>>=y,u-=y,r.back+=y,r.length=b,0===v){r.mode=26;break}if(32&v){r.back=-1,r.mode=12;break}if(64&v){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&v,r.mode=22;case 22:if(r.extra){for(T=r.extra;u<T;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;v=(A=r.distcode[h&(1<<r.distbits)-1])>>>16&255,b=65535&A,!((y=A>>>24)<=u);){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(0==(240&v)){for(w=y,m=v,_=b;v=(A=r.distcode[_+((h&(1<<w+m)-1)>>w)])>>>16&255,b=65535&A,!(w+(y=A>>>24)<=u);){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}h>>>=w,u-=w,r.back+=w}if(h>>>=y,u-=y,r.back+=y,64&v){t.msg="invalid distance code",r.mode=30;break}r.offset=b,r.extra=15&v,r.mode=24;case 24:if(r.extra){for(T=r.extra;u<T;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===f)break t;if(d=l-f,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),g=r.window}else g=i,p=a-r.offset,d=r.length;d>f&&(d=f),f-=d,r.length-=d;do{i[a++]=g[p++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===f)break t;i[a++]=r.length,f--,r.mode=21;break;case 27:if(r.wrap){for(;u<32;){if(0===s)break t;s--,h|=n[o++]<<u,u+=8}if(l-=f,t.total_out+=l,r.total+=l,l&&(t.adler=r.check=r.flags?Qc(r.check,i,l,a-l):Xc(r.check,i,l,a-l)),l=f,(r.flags?h:Pl(h))!==r.check){t.msg="incorrect data check",r.mode=30;break}h=0,u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;u<32;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(h!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}h=0,u=0}r.mode=29;case 29:S=1;break t;case 30:S=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=a,t.avail_out=f,t.next_in=o,t.avail_in=s,r.hold=h,r.bits=u,(r.wsize||l!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&Gl(t,t.output,t.next_out,l-t.avail_out),c-=t.avail_in,l-=t.avail_out,t.total_in+=c,t.total_out+=l,r.total+=l,r.wrap&&l&&(t.adler=r.check=r.flags?Qc(r.check,i,l,t.next_out-l):Xc(r.check,i,l,t.next_out-l)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===c&&0===l||4===e)&&0===S&&(S=-5),S},inflateEnd:function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},inflateGetHeader:function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?-2:(r.head=e,e.done=!1,0):-2},inflateSetDictionary:function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?-2:11===r.mode&&Xc(1,e,n,0)!==r.check?-3:Gl(t,e,n,n)?(r.mode=31,-4):(r.havedict=1,0):-2},inflateInfo:"pako inflate (from Nodeca project)"},Jl={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};var $l=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Ql=Object.prototype.toString;function td(t){if(!(this instanceof td))return new td(t);this.options=yc.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Bl,this.strm.avail_out=0;var r=Xl.inflateInit2(this.strm,e.windowBits);if(r!==Jl.Z_OK)throw new Error(tl[r]);if(this.header=new $l,Xl.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Sl(e.dictionary):"[object ArrayBuffer]"===Ql.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Xl.inflateSetDictionary(this.strm,e.dictionary))!==Jl.Z_OK))throw new Error(tl[r])}function ed(t,e){var r=new td(e);if(r.push(t,!0),r.err)throw r.msg||tl[r.err];return r.result}td.prototype.push=function(t,e){var r,n,i,o,a,s=this.strm,f=this.options.chunkSize,h=this.options.dictionary,u=!1;if(this.ended)return!1;n=e===~~e?e:!0===e?Jl.Z_FINISH:Jl.Z_NO_FLUSH,"string"==typeof t?s.input=Tl(t):"[object ArrayBuffer]"===Ql.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new yc.Buf8(f),s.next_out=0,s.avail_out=f),(r=Xl.inflate(s,Jl.Z_NO_FLUSH))===Jl.Z_NEED_DICT&&h&&(r=Xl.inflateSetDictionary(this.strm,h)),r===Jl.Z_BUF_ERROR&&!0===u&&(r=Jl.Z_OK,u=!1),r!==Jl.Z_STREAM_END&&r!==Jl.Z_OK)return this.onEnd(r),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&r!==Jl.Z_STREAM_END&&(0!==s.avail_in||n!==Jl.Z_FINISH&&n!==Jl.Z_SYNC_FLUSH)||("string"===this.options.to?(i=xl(s.output,s.next_out),o=s.next_out-i,a=Al(s.output,i),s.next_out=o,s.avail_out=f-o,o&&yc.arraySet(s.output,s.output,i,o,0),this.onData(a)):this.onData(yc.shrinkBuf(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(u=!0)}while((s.avail_in>0||0===s.avail_out)&&r!==Jl.Z_STREAM_END);return r===Jl.Z_STREAM_END&&(n=Jl.Z_FINISH),n===Jl.Z_FINISH?(r=Xl.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Jl.Z_OK):n!==Jl.Z_SYNC_FLUSH||(this.onEnd(Jl.Z_OK),s.avail_out=0,!0)},td.prototype.onData=function(t){this.chunks.push(t)},td.prototype.onEnd=function(t){t===Jl.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=yc.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var rd={Inflate:td,inflate:ed,inflateRaw:function(t,e){return(e=e||{}).raw=!0,ed(t,e)},ungzip:ed},nd={};(0,yc.assign)(nd,Ol,rd,Jl);var id=nd,od="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),ad=new Uint8Array(16);function sd(){if(!od)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return od(ad)}for(var fd=[],hd=0;hd<256;++hd)fd[hd]=(hd+256).toString(16).substr(1);function ud(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||sd)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;++o)e[n+o]=i[o];return e||function(t,e){var r=e||0,n=fd;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")}(i)}var cd=function(t){function e(e){var r=t.call(this,"User canceled request "+(e?"("+e+")":""))||this;return r.code="E_CANCEL",r}return r(e,t),e}(Error),ld=function(t){function e(e){var r=t.call(this,"Unable to verify identity "+(e?"("+e+")":""))||this;return r.code="E_IDENTITY",r}return r(e,t),e}(Error),dd=function(t){function e(e,r){var n=t.call(this,e)||this;return n.code=r,n}return r(e,t),e}(Error),pd="aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",gd="https://eos.greymass.com",yd="https://cb.anchor.link",vd=L.getTypesFromAbi(L.createInitialTypes(),{version:"eosio::abi/1.1",types:[],structs:[{name:"sealed_message",base:"",fields:[{name:"from",type:"public_key"},{name:"nonce",type:"uint64"},{name:"ciphertext",type:"bytes"},{name:"checksum",type:"uint32"}]},{name:"link_create",base:"",fields:[{name:"session_name",type:"name"},{name:"request_key",type:"public_key"}]},{name:"link_info",base:"",fields:[{name:"expiration",type:"time_point_sec"}]}],actions:[],ricardian_clauses:[],error_messages:[],tables:[],abi_extensions:[]});function bd(t,e){var r=vd.get(e);if(!r)throw new Error("No such type: "+e);var n=new L.SerialBuffer;return r.serialize(n,t),n.asUint8Array()}function wd(t){return t.startsWith("PUB_")?t:O.publicKeyToString(O.stringToPublicKey("EOS"+t.substr(-50)))}function md(){return i(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return window&&window.crypto?(t=new Uint32Array(32),window.crypto.getRandomValues(t),[2,lc.fromBuffer(Id.from(t)).toString()]):[3,1];case 1:return[4,hc()];case 2:return[2,e.sent()]}}))}))}var _d=function(){function t(){}return t.restore=function(t,e){switch(e.type){case"channel":return new Ed(t,e.data,e.metadata);case"fallback":return new Sd(t,e.data,e.metadata);default:throw new Error("Unable to restore, session data invalid")}},t}(),Ed=function(t){function e(e,r,i){var o=t.call(this)||this;return o.type="channel",o.timeout=12e4,o.link=e,o.auth=r.auth,o.publicKey=r.publicKey,o.channel=r.channel,o.encrypt=function(t){return e=t.encode(!0,!1),n=r.requestKey,i=r.channel.key,o=cc.encrypt(n,i,e),bd({from:fc(n),nonce:o.nonce.toString(),ciphertext:o.message,checksum:o.checksum},"sealed_message");var e,n,i,o},o.metadata=n(n({},i||{}),{timeout:o.timeout,name:o.channel.name}),o.serialize=function(){return{type:"channel",data:r,metadata:o.metadata}},o}return r(e,t),e.prototype.onSuccess=function(t,e){this.link.transport.onSuccess&&this.link.transport.onSuccess(t,e)},e.prototype.onFailure=function(t,e){this.link.transport.onFailure&&this.link.transport.onFailure(t,e)},e.prototype.onRequest=function(t,e){var r={expiration:new Date(Date.now()+this.timeout).toISOString().slice(0,-1)};this.link.transport.onSessionRequest&&this.link.transport.onSessionRequest(this,t,e),setTimeout((function(){e(new dd("Wallet did not respond in time","E_TIMEOUT"))}),this.timeout+500),t.data.info.push({key:"link",value:bd(r,"link_info")}),this.link.rpc.fetchBuiltin(this.channel.url,{method:"POST",headers:{"X-Buoy-Wait":(this.timeout/1e3).toFixed(0)},body:this.encrypt(t)}).then((function(t){200!==t.status&&e(new dd("Unable to push message","E_DELIVERY"))})).catch((function(t){e(new dd("Unable to reach link service ("+(t.message||String(t))+")","E_DELIVERY"))}))},e.prototype.makeSignatureProvider=function(){return this.link.makeSignatureProvider([this.publicKey],this)},e.prototype.makeAuthorityProvider=function(){return this.link.makeAuthorityProvider()},e.prototype.transact=function(t){return this.link.transact(t,this)},e}(_d),Sd=function(t){function e(e,r,n){var i=t.call(this)||this;return i.type="fallback",i.link=e,i.auth=r.auth,i.publicKey=r.publicKey,i.metadata=n||{},i.serialize=function(){return{type:i.type,data:r,metadata:i.metadata}},i}return r(e,t),e.prototype.onSuccess=function(t,e){this.link.transport.onSuccess&&this.link.transport.onSuccess(t,e)},e.prototype.onFailure=function(t,e){this.link.transport.onFailure&&this.link.transport.onFailure(t,e)},e.prototype.onRequest=function(t,e){this.link.transport.onSessionRequest?this.link.transport.onSessionRequest(this,t,e):this.link.transport.onRequest(t,e)},e.prototype.makeSignatureProvider=function(){return this.link.makeSignatureProvider([this.publicKey],this)},e.prototype.makeAuthorityProvider=function(){return this.link.makeAuthorityProvider()},e.prototype.transact=function(t){return this.link.transact(t,this)},e}(_d),kd=dc().fetch,Td=function(){function t(t){if(this.abiCache=new Map,"object"!=typeof t)throw new TypeError("Missing options object");if(!t.transport)throw new TypeError("options.transport is required, see https://github.com/greymass/anchor-link#transports");var e;void 0===t.rpc||"string"==typeof t.rpc?this.rpc=new U(t.rpc||gd,{fetch:kd}):this.rpc=t.rpc,t.chainId?this.chainId="number"==typeof t.chainId?(e=t.chainId,q.get(e)||"0000000000000000000000000000000000000000000000000000000000000000"):t.chainId:this.chainId=pd,this.serviceAddress=(t.service||yd).trim().replace(/\/$/,""),this.transport=t.transport,null!==t.storage&&(this.storage=t.storage||this.transport.storage),this.requestOptions={abiProvider:this,textDecoder:t.textDecoder||new TextDecoder,textEncoder:t.textEncoder||new TextEncoder,zlib:id}}return t.prototype.getAbi=function(t){return i(this,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return(e=this.abiCache.get(t))?[3,2]:[4,this.rpc.get_abi(t)];case 1:(e=r.sent().abi)&&this.abiCache.set(t,e),r.label=2;case 2:return[2,e]}}))}))},t.prototype.createCallbackUrl=function(){return this.serviceAddress+"/"+ud()},t.prototype.createRequest=function(t){return i(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,F.create(n(n({},t),{chainId:this.chainId,broadcast:!1,callback:{url:this.createCallbackUrl(),background:!0}}),this.requestOptions)];case 1:return[2,e.sent()]}}))}))},t.prototype.sendRequest=function(t,e,r){return void 0===r&&(r=!1),i(this,void 0,void 0,(function(){var n,i,a,s,f,h,u,c,l,d,p,g,y,v;return o(this,(function(o){switch(o.label){case 0:n=e||this.transport,o.label=1;case 1:if(o.trys.push([1,6,,7]),!(i=t.data.callback).startsWith(this.serviceAddress))throw new Error("Request must have a link callback");if(2!==t.data.flags)throw new Error("Invalid request flags");return b=i,w=a={},s=new Promise((function(t,e){var r=!0,n=0,i=b.replace(/^http/,"ws"),o=function(r){try{t(JSON.parse(r))}catch(t){t.message="Unable to parse callback JSON: "+t.message,e(t)}},a=function(){var t=new gc(i);w.cancel=function(){r=!1,t.readyState!==gc.OPEN&&t.readyState!==gc.CONNECTING||t.close()},t.onmessage=function(n){if(r=!1,t.readyState===gc.OPEN&&t.close(),"undefined"!=typeof Blob&&n.data instanceof Blob){var i=new FileReader;i.onload=function(){o(i.result)},i.onerror=function(t){e(t)},i.readAsText(n.data)}else"string"==typeof n.data?o(n.data):o(n.data.toString())},t.onopen=function(){n=0},t.onerror=function(t){},t.onclose=function(t){var e;r&&setTimeout(a,(e=n++,Math.min(Math.pow(10*e,2),1e4)))}};a()})),f=new Promise((function(e,r){n.onRequest(t,(function(t){a.cancel&&a.cancel(),r("string"==typeof t?new cd(t):t)}))})),[4,Promise.race([s,f])];case 2:return h=o.sent(),u={actor:h.sa,permission:h.sp},c=Object.keys(h).filter((function(t){return t.startsWith("sig")&&"sig0"!==t})).map((function(t){return h[t]})),[4,K.fromPayload(h,this.requestOptions)];case 3:return l=o.sent(),d=l.serializedTransaction,p=l.transaction,g={request:l.request,serializedTransaction:d,transaction:p,signatures:c,payload:h,signer:u},r?[4,this.rpc.push_transaction({signatures:g.signatures,serializedTransaction:g.serializedTransaction})]:[3,5];case 4:y=o.sent(),g.processed=y.processed,o.label=5;case 5:return n.onSuccess&&n.onSuccess(t,g),[2,g];case 6:throw v=o.sent(),n.onFailure&&n.onFailure(t,v),v;case 7:return[2]}var b,w}))}))},t.prototype.transact=function(t,e){return i(this,void 0,void 0,(function(){var r,n,i;return o(this,(function(o){switch(o.label){case 0:return r=e||this.transport,n=t.broadcast||!1,[4,this.createRequest(t)];case 1:return i=o.sent(),[4,this.sendRequest(i,r,n)];case 2:return[2,o.sent()]}}))}))},t.prototype.identify=function(t,e){return i(this,void 0,void 0,(function(){var r,i,a,s,f,h,u,c,l;return o(this,(function(o){switch(o.label){case 0:return[4,this.createRequest({identity:{permission:t||null},info:e})];case 1:return r=o.sent(),[4,this.sendRequest(r)];case 2:if(!(i=o.sent()).request.isIdentity())throw new ld("Unexpected response");return a=Id.concat([Id.from(r.getChainId(),"hex"),Id.from(i.serializedTransaction),Id.alloc(32)]),s=i.signer,f=uc(i.signatures[0],a),[4,this.rpc.get_account(s.actor)];case 3:if(!(h=o.sent()))throw new ld("Signature from unknown account: "+s.actor);if(!(u=h.permissions.find((function(t){return t.perm_name===s.permission}))))throw new ld(s.actor+" signed for unknown permission: "+s.permission);if(c=u.required_auth,!(l=c.keys.find((function(t){var e,r=t.key;return e=f,wd(r)===wd(e)}))))throw new ld(Ad(s)+" has no key matching id signature");if(c.threshold>l.weight)throw new ld(Ad(s)+" signature does not reach auth threshold");if(t&&("............1"!==t.actor&&t.actor!==s.actor||"............2"!==t.permission&&t.permission!==s.permission))throw new ld("Unexpected identity proof from "+Ad(s)+", expected "+Ad(t)+" ");return[2,n(n({},i),{account:h,signerKey:f})]}}))}))},t.prototype.login=function(t){return i(this,void 0,void 0,(function(){var e,r,i,a,s,f;return o(this,(function(o){switch(o.label){case 0:return[4,md()];case 1:return e=o.sent(),r=fc(e),i={session_name:t,request_key:r},[4,this.identify(void 0,{link:bd(i,"link_create")})];case 2:return a=o.sent(),s={sameDevice:void 0!==a.request.getRawInfo().return_path},f=a.payload.link_ch&&a.payload.link_key&&a.payload.link_name?new Ed(this,{auth:a.signer,publicKey:a.signerKey,channel:{url:a.payload.link_ch,key:a.payload.link_key,name:a.payload.link_name},requestKey:e},s):new Sd(this,{auth:a.signer,publicKey:a.signerKey},s),this.storage?[4,this.storeSession(t,f)]:[3,4];case 3:o.sent(),o.label=4;case 4:return[2,n(n({},a),{session:f})]}}))}))},t.prototype.restoreSession=function(t,e){return i(this,void 0,void 0,(function(){var r,n,i,a,s;return o(this,(function(o){switch(o.label){case 0:if(!this.storage)throw new Error("Unable to restore session: No storage adapter configured");return e?(r=this.sessionKey(t,Ad(e)),[3,3]):[3,1];case 1:return[4,this.listSessions(t)];case 2:if(!(n=o.sent()[0]))return[2,null];r=this.sessionKey(t,Ad(n)),o.label=3;case 3:return[4,this.storage.read(r)];case 4:if(!(i=o.sent()))return[2,null];try{a=JSON.parse(i)}catch(t){throw new Error("Unable to restore session: Stored JSON invalid ("+(t.message||String(t))+")")}return s=_d.restore(this,a),e?[4,this.touchSession(t,e)]:[3,6];case 5:o.sent(),o.label=6;case 6:return[2,s]}}))}))},t.prototype.listSessions=function(t){return i(this,void 0,void 0,(function(){var e,r,n,i,a;return o(this,(function(o){switch(o.label){case 0:if(!this.storage)throw new Error("Unable to list sessions: No storage adapter configured");e=this.sessionKey(t,"list"),o.label=1;case 1:return o.trys.push([1,3,,4]),i=(n=JSON).parse,[4,this.storage.read(e)];case 2:return r=i.apply(n,[o.sent()||"[]"]),[3,4];case 3:throw a=o.sent(),new Error("Unable to list sessions: Stored JSON invalid ("+(a.message||String(a))+")");case 4:return[2,r]}}))}))},t.prototype.removeSession=function(t,e){return i(this,void 0,void 0,(function(){var r;return o(this,(function(n){switch(n.label){case 0:if(!this.storage)throw new Error("Unable to remove session: No storage adapter configured");return r=this.sessionKey(t,Ad(e)),[4,this.storage.remove(r)];case 1:return n.sent(),[4,this.touchSession(t,e,!0)];case 2:return n.sent(),[2]}}))}))},t.prototype.clearSessions=function(t){return i(this,void 0,void 0,(function(){var e,r,n,i,s,f;return o(this,(function(o){switch(o.label){case 0:if(!this.storage)throw new Error("Unable to clear sessions: No storage adapter configured");o.label=1;case 1:return o.trys.push([1,7,8,9]),[4,this.listSessions(t)];case 2:e=a.apply(void 0,[o.sent()]),r=e.next(),o.label=3;case 3:return r.done?[3,6]:(n=r.value,[4,this.removeSession(t,n)]);case 4:o.sent(),o.label=5;case 5:return r=e.next(),[3,3];case 6:return[3,9];case 7:return i=o.sent(),s={error:i},[3,9];case 8:try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(s)throw s.error}return[7];case 9:return[2]}}))}))},t.prototype.makeSignatureProvider=function(t,e){var r=this;return{getAvailableKeys:function(){return i(r,void 0,void 0,(function(){return o(this,(function(e){return[2,t]}))}))},sign:function(t){return i(r,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return(r=F.fromTransaction(t.chainId,t.serializedTransaction,this.requestOptions)).setCallback(this.createCallbackUrl(),!0),r.setBroadcast(!1),[4,this.sendRequest(r,e)];case 1:return i=o.sent().signatures,[2,n(n({},t),{signatures:i})]}}))}))}}},t.prototype.makeAuthorityProvider=function(){var t=this.rpc;return{getRequiredKeys:function(e){return i(this,void 0,void 0,(function(){var r,n;return o(this,(function(i){switch(i.label){case 0:return r=e.availableKeys,n=e.transaction,[4,t.fetch("/v1/chain/get_required_keys",{transaction:n,available_keys:r.map(wd)})];case 1:return[2,i.sent().required_keys.map(wd)]}}))}))}}},t.prototype.touchSession=function(t,e,r){return void 0===r&&(r=!1),i(this,void 0,void 0,(function(){var n,i,a,s;return o(this,(function(o){switch(o.label){case 0:return[4,this.listSessions(t)];case 1:return n=o.sent(),i=Ad(e),(a=n.findIndex((function(t){return Ad(t)===i})))>=0&&n.splice(a,1),!1===r&&n.unshift(e),s=this.sessionKey(t,"list"),[4,this.storage.write(s,JSON.stringify(n))];case 2:return o.sent(),[2]}}))}))},t.prototype.storeSession=function(t,e){return i(this,void 0,void 0,(function(){var r,n;return o(this,(function(i){switch(i.label){case 0:return r=this.sessionKey(t,Ad(e.auth)),n=JSON.stringify(e.serialize()),[4,this.storage.write(r,n)];case 1:return i.sent(),[4,this.touchSession(t,e.auth)];case 2:return i.sent(),[2]}}))}))},t.prototype.sessionKey=function(t,e){return[this.chainId,t,e].join("-")},t}();function Ad(t){var e=t.actor,r=t.permission;return"............1"===e&&(e="<any>"),"............1"!==r&&"............2"!==r||(r="<any>"),e+"@"+r}t.CancelError=cd,t.IdentityError=ld,t.Link=Td,t.LinkChannelSession=Ed,t.LinkFallbackSession=Sd,t.LinkSession=_d,t.PlaceholderAuth=j,t.PlaceholderName="............1",t.PlaceholderPermission="............2",t.SessionError=dd,t.default=Td;var xd=t;for(var Bd in t=xd.default,xd)t[Bd]=xd[Bd];var Id=ut;return t}({});
//# sourceMappingURL=bundle.js.map
